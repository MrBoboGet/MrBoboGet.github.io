<!DOCTYPE html><html><head><style>body{background-color: black; color: #00FF00;}table,th,td{border: 1px solid;}table{border-collapse: collapse;} .color .link{color: inherit !important;}</style></head><body><div style="display: flex"><div style="width: 30%; display: inline-block"><details open=""><summary><a href="../index.html">/</a></summary><ul><li><a href="../index.html" >index.mbd</a></li><li><details><summary><a href="../MBCC/index.html">MBCC</a></summary><ul><li><a href="../MBCC/index.html" >index.mbd</a></li><li><a href="../MBCC/CLI.html" >CLI.mbd</a></li><li><a href="../MBCC/History.html" >History.mbd</a></li></ul></details></li><li><details><summary><a href="../MBDoc/index.html">MBDoc</a></summary><ul><li><a href="../MBDoc/index.html" >index.mbd</a></li><li><a href="../MBDoc/History.html" >History.mbd</a></li><li><a href="../MBDoc/BuildPipeline.html" >BuildPipeline.mbd</a></li><li><a href="../MBDoc/Building.html" >Building.mbd</a></li><li><a href="../MBDoc/Format.html" >Format.mbd</a></li><li><a href="../MBDoc/Attributes.html" >Attributes.mbd</a></li><li><a href="../MBDoc/LinkResolving.html" >LinkResolving.mbd</a></li><li><a href="../MBDoc/CodeIndex.html" >CodeIndex.mbd</a></li><li><a href="../MBDoc/CLI.html" >CLI.mbd</a></li><li><a href="../MBDoc/LSP.html" >LSP.mbd</a></li><li><details><summary><a href="../MBDoc/Code/index.html">Code</a></summary><ul><li><details><summary><a href="../MBDoc/Code/Classes/index.html">Classes</a></summary><ul><li><a href="../MBDoc/Code/Classes/ArgumentList.html" >ArgumentList.mbd</a></li><li><a href="../MBDoc/Code/Classes/AttributeList.html" >AttributeList.mbd</a></li><li><a href="../MBDoc/Code/Classes/BlockElement.html" >BlockElement.mbd</a></li><li><a href="../MBDoc/Code/Classes/BlockVisitor.html" >BlockVisitor.mbd</a></li><li><a href="../MBDoc/Code/Classes/CodeBlock.html" >CodeBlock.mbd</a></li><li><a href="../MBDoc/Code/Classes/ColorConfiguration.html" >ColorConfiguration.mbd</a></li><li><a href="../MBDoc/Code/Classes/ColorInfo.html" >ColorInfo.mbd</a></li><li><a href="../MBDoc/Code/Classes/Coloring.html" >Coloring.mbd</a></li><li><a href="../MBDoc/Code/Classes/CommonCompilationOptions.html" >CommonCompilationOptions.mbd</a></li><li><a href="../MBDoc/Code/Classes/Directive.html" >Directive.mbd</a></li><li><a href="../MBDoc/Code/Classes/DirectiveVisitor.html" >DirectiveVisitor.mbd</a></li><li><a href="../MBDoc/Code/Classes/DocCLI.html" >DocCLI.mbd</a></li><li><a href="../MBDoc/Code/Classes/DocReference.html" >DocReference.mbd</a></li><li><a href="../MBDoc/Code/Classes/DocumentBuild.html" >DocumentBuild.mbd</a></li><li><a href="../MBDoc/Code/Classes/DocumentCompiler.html" >DocumentCompiler.mbd</a></li><li><a href="../MBDoc/Code/Classes/DocumentDirectoryInfo.html" >DocumentDirectoryInfo.mbd</a></li><li><a href="../MBDoc/Code/Classes/DocumentFilesystem.html" >DocumentFilesystem.mbd</a></li><li><a href="../MBDoc/Code/Classes/DocumentFilesystemIterator.html" >DocumentFilesystemIterator.mbd</a></li><li><a href="../MBDoc/Code/Classes/DocumentParsingContext.html" >DocumentParsingContext.mbd</a></li><li><a href="../MBDoc/Code/Classes/DocumentPath.html" >DocumentPath.mbd</a></li><li><a href="../MBDoc/Code/Classes/DocumentPathFileIterator.html" >DocumentPathFileIterator.mbd</a></li><li><a href="../MBDoc/Code/Classes/DocumentReference.html" >DocumentReference.mbd</a></li><li><a href="../MBDoc/Code/Classes/DocumentSource.html" >DocumentSource.mbd</a></li><li><a href="../MBDoc/Code/Classes/DocumentTraverser.html" >DocumentTraverser.mbd</a></li><li><a href="../MBDoc/Code/Classes/DocumentVisitor.html" >DocumentVisitor.mbd</a></li><li><a href="../MBDoc/Code/Classes/FileReference.html" >FileReference.mbd</a></li><li><a href="../MBDoc/Code/Classes/FilesystemDocumentInfo.html" >FilesystemDocumentInfo.mbd</a></li><li><a href="../MBDoc/Code/Classes/FormatElement.html" >FormatElement.mbd</a></li><li><a href="../MBDoc/Code/Classes/FormatElementComponent.html" >FormatElementComponent.mbd</a></li><li><a href="../MBDoc/Code/Classes/FormatVisitor.html" >FormatVisitor.mbd</a></li><li><a href="../MBDoc/Code/Classes/HTMLCompiler.html" >HTMLCompiler.mbd</a></li><li><a href="../MBDoc/Code/Classes/HTMLNavigationCreator.html" >HTMLNavigationCreator.mbd</a></li><li><a href="../MBDoc/Code/Classes/HTMLReferenceSolver.html" >HTMLReferenceSolver.mbd</a></li><li><a href="../MBDoc/Code/Classes/HTTPTocCreator.html" >HTTPTocCreator.mbd</a></li><li><a href="../MBDoc/Code/Classes/LSPInfo.html" >LSPInfo.mbd</a></li><li><a href="../MBDoc/Code/Classes/LSPServer.html" >LSPServer.mbd</a></li><li><a href="../MBDoc/Code/Classes/LanguageConfig.html" >LanguageConfig.mbd</a></li><li><a href="../MBDoc/Code/Classes/LineIndex.html" >LineIndex.mbd</a></li><li><a href="../MBDoc/Code/Classes/LineRetriever.html" >LineRetriever.mbd</a></li><li><a href="../MBDoc/Code/Classes/MarkdownCompiler.html" >MarkdownCompiler.mbd</a></li><li><a href="../MBDoc/Code/Classes/MarkdownReferenceSolver.html" >MarkdownReferenceSolver.mbd</a></li><li><a href="../MBDoc/Code/Classes/MediaInclude.html" >MediaInclude.mbd</a></li><li><a href="../MBDoc/Code/Classes/Paragraph.html" >Paragraph.mbd</a></li><li><a href="../MBDoc/Code/Classes/PathSpecifier.html" >PathSpecifier.mbd</a></li><li><a href="../MBDoc/Code/Classes/PreProcessorBlock.html" >PreProcessorBlock.mbd</a></li><li><a href="../MBDoc/Code/Classes/ProcessedColorConfiguration.html" >ProcessedColorConfiguration.mbd</a></li><li><a href="../MBDoc/Code/Classes/ProcessedColorInfo.html" >ProcessedColorInfo.mbd</a></li><li><a href="../MBDoc/Code/Classes/ProcessedLanguageColorConfig.html" >ProcessedLanguageColorConfig.mbd</a></li><li><a href="../MBDoc/Code/Classes/ProcessedRegexColoring.html" >ProcessedRegexColoring.mbd</a></li><li><a href="../MBDoc/Code/Classes/ReferenceResolver.html" >ReferenceResolver.mbd</a></li><li><a href="../MBDoc/Code/Classes/ReferenceTargetsResolver.html" >ReferenceTargetsResolver.mbd</a></li><li><a href="../MBDoc/Code/Classes/ReferenceVisitor.html" >ReferenceVisitor.mbd</a></li><li><a href="../MBDoc/Code/Classes/RegularText.html" >RegularText.mbd</a></li><li><a href="../MBDoc/Code/Classes/ResolvedCodeText.html" >ResolvedCodeText.mbd</a></li><li><a href="../MBDoc/Code/Classes/Table.html" >Table.mbd</a></li><li><a href="../MBDoc/Code/Classes/TextColor.html" >TextColor.mbd</a></li><li><a href="../MBDoc/Code/Classes/TextElement.html" >TextElement.mbd</a></li><li><a href="../MBDoc/Code/Classes/TextElement_Base.html" >TextElement_Base.mbd</a></li><li><a href="../MBDoc/Code/Classes/TextVisitor.html" >TextVisitor.mbd</a></li><li><a href="../MBDoc/Code/Classes/URLReference.html" >URLReference.mbd</a></li><li><a href="../MBDoc/Code/Classes/UnresolvedReference.html" >UnresolvedReference.mbd</a></li></ul></details></li><li><details><summary><a href="../MBDoc/Code/Functions/index.html">Functions</a></summary><ul><li><a href="../MBDoc/Code/Functions/GetTypeIndex.html" >GetTypeIndex.mbd</a></li><li><a href="../MBDoc/Code/Functions/ProcessColorConfig.html" >ProcessColorConfig.mbd</a></li><li><a href="../MBDoc/Code/Functions/StartLSPServer.html" >StartLSPServer.mbd</a></li><li><a href="../MBDoc/Code/Functions/operator&.html" >operator&.mbd</a></li><li><a href="../MBDoc/Code/Functions/operator^.html" >operator^.mbd</a></li><li><a href="../MBDoc/Code/Functions/operator~.html" >operator~.mbd</a></li></ul></details></li><li><details><summary><a href="../MBDoc/Code/Sources/index.html">Sources</a></summary><ul><li><a href="../MBDoc/Code/Sources/ColorConf.html" >ColorConf.mbd</a></li><li><a href="../MBDoc/Code/Sources/LSP.html" >LSP.mbd</a></li><li><a href="../MBDoc/Code/Sources/MBDoc.html" >MBDoc.mbd</a></li><li><a href="../MBDoc/Code/Sources/MBDocCLI.html" >MBDocCLI.mbd</a></li><li><a href="../MBDoc/Code/Sources/MBDocMain.html" >MBDocMain.mbd</a></li><li><details><summary><a href="../MBDoc/Code/Sources/Compilers/index.html">Compilers</a></summary><ul><li><a href="../MBDoc/Code/Sources/Compilers/HTML.html" >HTML.mbd</a></li><li><a href="../MBDoc/Code/Sources/Compilers/Markdown.html" >Markdown.mbd</a></li></ul></details></li></ul></details></li></ul></details></li><li><details><summary><a href="../MBDoc/Compiler/index.html">Compiler</a></summary><ul><li><a href="../MBDoc/Compiler/index.html" >index.mbd</a></li></ul></details></li></ul></details></li><li><details><summary><a href="../MBDocGen/index.html">MBDocGen</a></summary><ul><li><details><summary><a href="../MBDocGen/Code/index.html">Code</a></summary><ul><li><details><summary><a href="../MBDocGen/Code/Classes/index.html">Classes</a></summary><ul><li><a href="../MBDocGen/Code/Classes/CppClass.html" >CppClass.mbd</a></li><li><a href="../MBDocGen/Code/Classes/CppClassContent.html" >CppClassContent.mbd</a></li><li><a href="../MBDocGen/Code/Classes/CppDocGenerator.html" >CppDocGenerator.mbd</a></li><li><a href="../MBDocGen/Code/Classes/CppHeaderContent.html" >CppHeaderContent.mbd</a></li><li><a href="../MBDocGen/Code/Classes/DocGenCLI.html" >DocGenCLI.mbd</a></li><li><a href="../MBDocGen/Code/Classes/TestStruct.html" >TestStruct.mbd</a></li></ul></details></li><li><details><summary><a href="../MBDocGen/Code/Functions/index.html">Functions</a></summary><ul><li><a href="../MBDocGen/Code/Functions/EnumDoer.html" >EnumDoer.mbd</a></li><li><a href="../MBDocGen/Code/Functions/TestFunc.html" >TestFunc.mbd</a></li></ul></details></li><li><details><summary><a href="../MBDocGen/Code/Sources/index.html">Sources</a></summary><ul><li><a href="../MBDocGen/Code/Sources/MBDocGenMain.html" >MBDocGenMain.mbd</a></li><li><a href="../MBDocGen/Code/Sources/MBDocGen_CLI.html" >MBDocGen_CLI.mbd</a></li></ul></details></li></ul></details></li></ul></details></li><li><details><summary><a href="../MBPacketManager/index.html">MBPacketManager</a></summary><ul><li><a href="../MBPacketManager/index.html" >index.mbd</a></li><li><a href="../MBPacketManager/CLI.html" >CLI.mbd</a></li><li><a href="../MBPacketManager/DevelopmentStructure.html" >DevelopmentStructure.mbd</a></li><li><a href="../MBPacketManager/Packets.html" >Packets.mbd</a></li><li><a href="../MBPacketManager/PacketsSpecification.html" >PacketsSpecification.mbd</a></li><li><a href="../MBPacketManager/SubPackets.html" >SubPackets.mbd</a></li><li><a href="../MBPacketManager/Extensions.html" >Extensions.mbd</a></li><li><a href="../MBPacketManager/Terminology.html" >Terminology.mbd</a></li><li><a href="../MBPacketManager/History.html" >History.mbd</a></li><li><details><summary><a href="../MBPacketManager/MBBuild/index.html">MBBuild</a></summary><ul><li><a href="../MBPacketManager/MBBuild/index.html" >index.mbd</a></li><li><a href="../MBPacketManager/MBBuild/History.html" >History.mbd</a></li><li><a href="../MBPacketManager/MBBuild/Buildsystem.html" >Buildsystem.mbd</a></li><li><a href="../MBPacketManager/MBBuild/MBCompileConfigurations.html" >MBCompileConfigurations.mbd</a></li><li><a href="../MBPacketManager/MBBuild/MBDependancySpecification.html" >MBDependancySpecification.mbd</a></li><li><a href="../MBPacketManager/MBBuild/MBSourceInfo.html" >MBSourceInfo.mbd</a></li><li><a href="../MBPacketManager/MBBuild/CLI.html" >CLI.mbd</a></li></ul></details></li></ul></details></li><li><details open=""><summary><a href="index.html">MBUtility</a></summary><ul><li><a href="index.html" >index.mbd</a></li><li><mark><a href="" >IO.mbd</a></mark></li><li><details><summary><a href="Code/index.html">Code</a></summary><ul><li><details><summary><a href="Code/Classes/index.html">Classes</a></summary><ul><li><a href="Code/Classes/FSObjectInfo.html" >FSObjectInfo.mbd</a></li><li><a href="Code/Classes/Filesystem.html" >Filesystem.mbd</a></li><li><a href="Code/Classes/LineRetriever.html" >LineRetriever.mbd</a></li><li><a href="Code/Classes/MBBasicUserAuthenticator.html" >MBBasicUserAuthenticator.mbd</a></li><li><a href="Code/Classes/MBBufferInputStream.html" >MBBufferInputStream.mbd</a></li><li><a href="Code/Classes/MBFileInputStream.html" >MBFileInputStream.mbd</a></li><li><a href="Code/Classes/MBFileOutputStream.html" >MBFileOutputStream.mbd</a></li><li><a href="Code/Classes/MBOctetInputStream.html" >MBOctetInputStream.mbd</a></li><li><a href="Code/Classes/MBOctetOutputStream.html" >MBOctetOutputStream.mbd</a></li><li><a href="Code/Classes/MBSearchableInputStream.html" >MBSearchableInputStream.mbd</a></li><li><a href="Code/Classes/MBSearchableOutputStream.html" >MBSearchableOutputStream.mbd</a></li><li><a href="Code/Classes/MBStringOutputStream.html" >MBStringOutputStream.mbd</a></li><li><a href="Code/Classes/OS_Filesystem.html" >OS_Filesystem.mbd</a></li><li><a href="Code/Classes/TerminalOutput.html" >TerminalOutput.mbd</a></li></ul></details></li><li><details><summary><a href="Code/Functions/index.html">Functions</a></summary><ul><li><a href="Code/Functions/FSErrorToString.html" >FSErrorToString.mbd</a></li><li><a href="Code/Functions/FSTypeToString.html" >FSTypeToString.mbd</a></li><li><a href="Code/Functions/ReadWholeFile.html" >ReadWholeFile.mbd</a></li><li><a href="Code/Functions/StringToFSObjectType.html" >StringToFSObjectType.mbd</a></li><li><a href="Code/Functions/WriteData.html" >WriteData.mbd</a></li><li><a href="Code/Functions/operator!.html" >operator!.mbd</a></li></ul></details></li><li><details><summary><a href="Code/Sources/index.html">Sources</a></summary><ul><li><a href="Code/Sources/Filesystem.html" >Filesystem.mbd</a></li><li><a href="Code/Sources/MBCompileDefinitions.html" >MBCompileDefinitions.mbd</a></li><li><a href="Code/Sources/MBErrorHandling.html" >MBErrorHandling.mbd</a></li><li><a href="Code/Sources/MBFiles.html" >MBFiles.mbd</a></li><li><a href="Code/Sources/MBInterfaces.html" >MBInterfaces.mbd</a></li><li><a href="Code/Sources/MBMatrix.html" >MBMatrix.mbd</a></li><li><a href="Code/Sources/MBUtilityTest.html" >MBUtilityTest.mbd</a></li></ul></details></li></ul></details></li></ul></details></li></ul></details></div><div style="width: 80ch; display: inline-block; position: absolute; top: 0; left: 0; right: 0; bottom: 0; margin: auto;"><h1 style="text-align: center;">IO</h1>
On of the biggest part of MBUtility is the inclusion of the generic interfaces describing the different kind of IO that is used in a program. An overview of these interfaces is given here, describing the typical use cases by which they are modelled, and how and why they are different. <br><br>

IO is a term that is used very commonly, but often times never really given a precise definition. It also has slightly different connotations depending on which level the code is located, IO in assembly and kernel development for example has many pitfalls and unique challenges that aren't present in everyday programming. The definition of IO used here is quite broad, and is defined as any operation reading data, bytes, from a source that is external to the program being run, such as in a file, from a network socket, or a pipe. The interfaces here are therefor designed in order to describe the different kind of IO operations these tasks require. <br><br>

All interfaces describe different kind of "byte streams", that is you can read bytes from them in consecutive order. The interfaces are also unlike typical posix file descriptors statically typed, that is the behaviour of the stream is uniquely determined by the interface, and no runtime checking is needed to use them right. But this also means that many of the streams have very similar behaviour, and only differ in very few key points, commonly sharing identical function signatures. <br><br>

The interfaces are also designed to be as minimal as possible. Many libraries provide much more convenient helper functions, such as reading a stream line by line, reading until a specific character is encountered, etc etc. But these are all operations that I argue should be implemented externally from the stream. <br><br>

When implementing a new stream object, the hard static typing assumed means that it must be extremely clear exactly was is expected from it. Requiring that every <a class="link" href="#Input stream">Input stream</a> can read line by line most likely involves a lot of code duplication, and most importantly, means that meany features have to be implemented before it can be usable by other components expecting this behaviour. The design philosophy here favours composability over performance when the dichotomy is given, and assumes that these convenience functions can be implemented reasonably good in a generic fashion, with the <a class="link" href="#" style="color: red;">LineRetriever</a> being an example of such an external object. <br><br>

Another very important part of these interfaces are the semantics. These interfaces are simple, but describing them only through their operational semantics often times fail to convey how they should actually be used. The best example of this is the classic TCP network socket. Reading from a TCP socket can be considered identical to a reading from a <a class="link" href="#Input stream">input stream</a>. EOF can easily be determined by just reading. Just wait until the clients disconnects lmao. But this fails to capture the semantics of the stream. A <a class="link" href="#Input stream">input stream</a> is a stream where content can be read without having to reason about extremely large stalls, and where the content can be considered having a concrete end. This is not the case for the TCP network stream, which can stall for arbitrary amounts of time, and where it's impossible to determine if all data was truly sent. <br><br>

Common to all these interfaces are also the assumption that something only can be considered correctly implementing the interface, if expected behaviour can be achieved without the use of other functions that object might provide. Something is not an <a class="link" href="#Input stream">input stream</a> if satisfies the interface only when for example alternating between read and write operations. <br><br>

<h1 id="Input stream" style = "text-align: center;">1 Input stream</h1><br>
The input stream, described by <a class="link" href="Code/Classes/MBOctetInputStream.html">MBOctetInputStream</a>, is in some sense a bit of a misnomer. Many streams here can be considered a input stream, and this very generic name might hint at a inheritance hierarchy, which isn't present. It is named the "Input stream" because it provides the most simple and perhaps most commonly used functionality. <br><br>

A input stream is a byte stream, where consecutive bytes can be read from, and where an exact amount of bytes can always be read at a time, with the EOF being signaled through less than the requested bytes sent. This mirrors the interface used when reading from a file with for example std::ofstream. <br><br>

What makes this interface unique, is that it knows when no more bytes can be read. A file has a set size which is known by the operating system, there is never confusion whether or not a file has more bytes or not, or if all bytes truly has been read. Note of this differs from the <a class="link" href="#" style="color: red;">indeterminate input stream</a>. <br><br>

This interface makes no guarantee on the amount of time any given read operation takes. A read must not be considered usable for realtime purposes, and an application must be ready to block for a long time when using it. It also provides no ability to determine whether or not a given read will block. <br><br>

<h2 id="Input stream_Use cases" >1.1 Use cases</h2><br>
This interface is meant to model the way file reading is performed, and is for example applicable when data that is needed to be processed can be processed chunk for chunk without needing to look back at previous data. No guarantee on block time also means that it is not as applicable for GUI code, and should either be used on a separate thread for interactive programs. <br><br>

It having now way to determine whether or not a given read will block or not or determine when an error has occurred, means that it's most commonly used when for example parsing various kind of file formats. Parsing for example a JSON file can often times be done chunk by chunk, and doesn't require previously read bytes to be present. The parsing of a file also always has a binary outcome, either the file abides by the format, or it's faulty. This operation is also often times relatively atomic, many times the semantics of the file can only be correctly determined when the whole file is read, like in JSON, where determining whether or not the top object contains a specific attribute requires reading through the whole file. Parsing of file format is therefor something that can easily be done asynchronously, or something that is needed to be done on the spot to continue execution, and arbitrary read times are something that can neither be avoided nor remedied by for for example "non-blocking" reads. <br><br>

This interface is not applicable for describing bidirectional communication. Communication often times means that the amount of bytes sent by the other part are determined by what is sent by you, and in the case where the input of one is unrelated to the output, so can that relationship be more accurately described with the use of two separate streams. <br><br>

This also means that for example interprocess communication with stdio is not something that can be considered abiding by this interface, and which is why <a class="link" href="#" style="color: red;">MBSystem::BiDirectionalProcess</a> uses a pair of <a class="link" href="#" style="color: red;">Indeterminate streams</a>. <br><br>

</div></div></body></html>