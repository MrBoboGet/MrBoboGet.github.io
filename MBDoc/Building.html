<!DOCTYPE html><html><head><style>body{background-color: black; color: #00FF00;}table,th,td{border: 1px solid;}table{border-collapse: collapse;} .color .link{color: inherit !important;}</style></head><body><div style="display: flex"><div style="width: 30%; display: inline-block"><details open=""><summary><a href="../index.html">/</a></summary><ul><li><a href="../index.html" >index.mbd</a></li><li><details><summary><a href="../MBCC/index.html">MBCC</a></summary><ul><li><a href="../MBCC/index.html" >index.mbd</a></li><li><a href="../MBCC/CLI.html" >CLI.mbd</a></li><li><a href="../MBCC/History.html" >History.mbd</a></li></ul></details></li><li><details open=""><summary><a href="index.html">MBDoc</a></summary><ul><li><a href="index.html" >index.mbd</a></li><li><a href="History.html" >History.mbd</a></li><li><a href="BuildPipeline.html" >BuildPipeline.mbd</a></li><li><mark><a href="" >Building.mbd</a></mark></li><li><a href="Format.html" >Format.mbd</a></li><li><a href="Attributes.html" >Attributes.mbd</a></li><li><a href="LinkResolving.html" >LinkResolving.mbd</a></li><li><a href="CodeIndex.html" >CodeIndex.mbd</a></li><li><a href="CLI.html" >CLI.mbd</a></li><li><a href="LSP.html" >LSP.mbd</a></li><li><details><summary><a href="Code/index.html">Code</a></summary><ul><li><details><summary><a href="Code/Classes/index.html">Classes</a></summary><ul><li><a href="Code/Classes/ArgumentList.html" >ArgumentList.mbd</a></li><li><a href="Code/Classes/AttributeList.html" >AttributeList.mbd</a></li><li><a href="Code/Classes/BlockElement.html" >BlockElement.mbd</a></li><li><a href="Code/Classes/BlockVisitor.html" >BlockVisitor.mbd</a></li><li><a href="Code/Classes/CodeBlock.html" >CodeBlock.mbd</a></li><li><a href="Code/Classes/ColorConfiguration.html" >ColorConfiguration.mbd</a></li><li><a href="Code/Classes/ColorInfo.html" >ColorInfo.mbd</a></li><li><a href="Code/Classes/Coloring.html" >Coloring.mbd</a></li><li><a href="Code/Classes/CommonCompilationOptions.html" >CommonCompilationOptions.mbd</a></li><li><a href="Code/Classes/Directive.html" >Directive.mbd</a></li><li><a href="Code/Classes/DirectiveVisitor.html" >DirectiveVisitor.mbd</a></li><li><a href="Code/Classes/DocCLI.html" >DocCLI.mbd</a></li><li><a href="Code/Classes/DocReference.html" >DocReference.mbd</a></li><li><a href="Code/Classes/DocumentBuild.html" >DocumentBuild.mbd</a></li><li><a href="Code/Classes/DocumentCompiler.html" >DocumentCompiler.mbd</a></li><li><a href="Code/Classes/DocumentDirectoryInfo.html" >DocumentDirectoryInfo.mbd</a></li><li><a href="Code/Classes/DocumentFilesystem.html" >DocumentFilesystem.mbd</a></li><li><a href="Code/Classes/DocumentFilesystemIterator.html" >DocumentFilesystemIterator.mbd</a></li><li><a href="Code/Classes/DocumentParsingContext.html" >DocumentParsingContext.mbd</a></li><li><a href="Code/Classes/DocumentPath.html" >DocumentPath.mbd</a></li><li><a href="Code/Classes/DocumentPathFileIterator.html" >DocumentPathFileIterator.mbd</a></li><li><a href="Code/Classes/DocumentReference.html" >DocumentReference.mbd</a></li><li><a href="Code/Classes/DocumentSource.html" >DocumentSource.mbd</a></li><li><a href="Code/Classes/DocumentTraverser.html" >DocumentTraverser.mbd</a></li><li><a href="Code/Classes/DocumentVisitor.html" >DocumentVisitor.mbd</a></li><li><a href="Code/Classes/FileReference.html" >FileReference.mbd</a></li><li><a href="Code/Classes/FilesystemDocumentInfo.html" >FilesystemDocumentInfo.mbd</a></li><li><a href="Code/Classes/FormatElement.html" >FormatElement.mbd</a></li><li><a href="Code/Classes/FormatElementComponent.html" >FormatElementComponent.mbd</a></li><li><a href="Code/Classes/FormatVisitor.html" >FormatVisitor.mbd</a></li><li><a href="Code/Classes/HTMLCompiler.html" >HTMLCompiler.mbd</a></li><li><a href="Code/Classes/HTMLNavigationCreator.html" >HTMLNavigationCreator.mbd</a></li><li><a href="Code/Classes/HTMLReferenceSolver.html" >HTMLReferenceSolver.mbd</a></li><li><a href="Code/Classes/HTTPTocCreator.html" >HTTPTocCreator.mbd</a></li><li><a href="Code/Classes/LSPInfo.html" >LSPInfo.mbd</a></li><li><a href="Code/Classes/LSPServer.html" >LSPServer.mbd</a></li><li><a href="Code/Classes/LanguageConfig.html" >LanguageConfig.mbd</a></li><li><a href="Code/Classes/LineIndex.html" >LineIndex.mbd</a></li><li><a href="Code/Classes/LineRetriever.html" >LineRetriever.mbd</a></li><li><a href="Code/Classes/MarkdownCompiler.html" >MarkdownCompiler.mbd</a></li><li><a href="Code/Classes/MarkdownReferenceSolver.html" >MarkdownReferenceSolver.mbd</a></li><li><a href="Code/Classes/MediaInclude.html" >MediaInclude.mbd</a></li><li><a href="Code/Classes/Paragraph.html" >Paragraph.mbd</a></li><li><a href="Code/Classes/PathSpecifier.html" >PathSpecifier.mbd</a></li><li><a href="Code/Classes/PreProcessorBlock.html" >PreProcessorBlock.mbd</a></li><li><a href="Code/Classes/ProcessedColorConfiguration.html" >ProcessedColorConfiguration.mbd</a></li><li><a href="Code/Classes/ProcessedColorInfo.html" >ProcessedColorInfo.mbd</a></li><li><a href="Code/Classes/ProcessedLanguageColorConfig.html" >ProcessedLanguageColorConfig.mbd</a></li><li><a href="Code/Classes/ProcessedRegexColoring.html" >ProcessedRegexColoring.mbd</a></li><li><a href="Code/Classes/ReferenceResolver.html" >ReferenceResolver.mbd</a></li><li><a href="Code/Classes/ReferenceTargetsResolver.html" >ReferenceTargetsResolver.mbd</a></li><li><a href="Code/Classes/ReferenceVisitor.html" >ReferenceVisitor.mbd</a></li><li><a href="Code/Classes/RegularText.html" >RegularText.mbd</a></li><li><a href="Code/Classes/ResolvedCodeText.html" >ResolvedCodeText.mbd</a></li><li><a href="Code/Classes/Table.html" >Table.mbd</a></li><li><a href="Code/Classes/TextColor.html" >TextColor.mbd</a></li><li><a href="Code/Classes/TextElement.html" >TextElement.mbd</a></li><li><a href="Code/Classes/TextElement_Base.html" >TextElement_Base.mbd</a></li><li><a href="Code/Classes/TextVisitor.html" >TextVisitor.mbd</a></li><li><a href="Code/Classes/URLReference.html" >URLReference.mbd</a></li><li><a href="Code/Classes/UnresolvedReference.html" >UnresolvedReference.mbd</a></li></ul></details></li><li><details><summary><a href="Code/Functions/index.html">Functions</a></summary><ul><li><a href="Code/Functions/GetTypeIndex.html" >GetTypeIndex.mbd</a></li><li><a href="Code/Functions/ProcessColorConfig.html" >ProcessColorConfig.mbd</a></li><li><a href="Code/Functions/StartLSPServer.html" >StartLSPServer.mbd</a></li><li><a href="Code/Functions/operator&.html" >operator&.mbd</a></li><li><a href="Code/Functions/operator^.html" >operator^.mbd</a></li><li><a href="Code/Functions/operator~.html" >operator~.mbd</a></li></ul></details></li><li><details><summary><a href="Code/Sources/index.html">Sources</a></summary><ul><li><a href="Code/Sources/ColorConf.html" >ColorConf.mbd</a></li><li><a href="Code/Sources/LSP.html" >LSP.mbd</a></li><li><a href="Code/Sources/MBDoc.html" >MBDoc.mbd</a></li><li><a href="Code/Sources/MBDocCLI.html" >MBDocCLI.mbd</a></li><li><a href="Code/Sources/MBDocMain.html" >MBDocMain.mbd</a></li><li><details><summary><a href="Code/Sources/Compilers/index.html">Compilers</a></summary><ul><li><a href="Code/Sources/Compilers/HTML.html" >HTML.mbd</a></li><li><a href="Code/Sources/Compilers/Markdown.html" >Markdown.mbd</a></li></ul></details></li></ul></details></li></ul></details></li><li><details><summary><a href="Compiler/index.html">Compiler</a></summary><ul><li><a href="Compiler/index.html" >index.mbd</a></li></ul></details></li></ul></details></li><li><details><summary><a href="../MBDocGen/index.html">MBDocGen</a></summary><ul><li><details><summary><a href="../MBDocGen/Code/index.html">Code</a></summary><ul><li><details><summary><a href="../MBDocGen/Code/Classes/index.html">Classes</a></summary><ul><li><a href="../MBDocGen/Code/Classes/CppClass.html" >CppClass.mbd</a></li><li><a href="../MBDocGen/Code/Classes/CppClassContent.html" >CppClassContent.mbd</a></li><li><a href="../MBDocGen/Code/Classes/CppDocGenerator.html" >CppDocGenerator.mbd</a></li><li><a href="../MBDocGen/Code/Classes/CppHeaderContent.html" >CppHeaderContent.mbd</a></li><li><a href="../MBDocGen/Code/Classes/DocGenCLI.html" >DocGenCLI.mbd</a></li><li><a href="../MBDocGen/Code/Classes/TestStruct.html" >TestStruct.mbd</a></li></ul></details></li><li><details><summary><a href="../MBDocGen/Code/Functions/index.html">Functions</a></summary><ul><li><a href="../MBDocGen/Code/Functions/EnumDoer.html" >EnumDoer.mbd</a></li><li><a href="../MBDocGen/Code/Functions/TestFunc.html" >TestFunc.mbd</a></li></ul></details></li><li><details><summary><a href="../MBDocGen/Code/Sources/index.html">Sources</a></summary><ul><li><a href="../MBDocGen/Code/Sources/MBDocGenMain.html" >MBDocGenMain.mbd</a></li><li><a href="../MBDocGen/Code/Sources/MBDocGen_CLI.html" >MBDocGen_CLI.mbd</a></li></ul></details></li></ul></details></li></ul></details></li><li><details><summary><a href="../MBPacketManager/index.html">MBPacketManager</a></summary><ul><li><a href="../MBPacketManager/index.html" >index.mbd</a></li><li><a href="../MBPacketManager/CLI.html" >CLI.mbd</a></li><li><a href="../MBPacketManager/DevelopmentStructure.html" >DevelopmentStructure.mbd</a></li><li><a href="../MBPacketManager/Packets.html" >Packets.mbd</a></li><li><a href="../MBPacketManager/PacketsSpecification.html" >PacketsSpecification.mbd</a></li><li><a href="../MBPacketManager/SubPackets.html" >SubPackets.mbd</a></li><li><a href="../MBPacketManager/Extensions.html" >Extensions.mbd</a></li><li><a href="../MBPacketManager/Terminology.html" >Terminology.mbd</a></li><li><a href="../MBPacketManager/History.html" >History.mbd</a></li><li><details><summary><a href="../MBPacketManager/MBBuild/index.html">MBBuild</a></summary><ul><li><a href="../MBPacketManager/MBBuild/index.html" >index.mbd</a></li><li><a href="../MBPacketManager/MBBuild/History.html" >History.mbd</a></li><li><a href="../MBPacketManager/MBBuild/Buildsystem.html" >Buildsystem.mbd</a></li><li><a href="../MBPacketManager/MBBuild/MBCompileConfigurations.html" >MBCompileConfigurations.mbd</a></li><li><a href="../MBPacketManager/MBBuild/MBDependancySpecification.html" >MBDependancySpecification.mbd</a></li><li><a href="../MBPacketManager/MBBuild/MBSourceInfo.html" >MBSourceInfo.mbd</a></li><li><a href="../MBPacketManager/MBBuild/CLI.html" >CLI.mbd</a></li></ul></details></li></ul></details></li><li><details><summary><a href="../MBUtility/index.html">MBUtility</a></summary><ul><li><a href="../MBUtility/index.html" >index.mbd</a></li><li><a href="../MBUtility/IO.html" >IO.mbd</a></li><li><details><summary><a href="../MBUtility/Code/index.html">Code</a></summary><ul><li><details><summary><a href="../MBUtility/Code/Classes/index.html">Classes</a></summary><ul><li><a href="../MBUtility/Code/Classes/FSObjectInfo.html" >FSObjectInfo.mbd</a></li><li><a href="../MBUtility/Code/Classes/Filesystem.html" >Filesystem.mbd</a></li><li><a href="../MBUtility/Code/Classes/LineRetriever.html" >LineRetriever.mbd</a></li><li><a href="../MBUtility/Code/Classes/MBBasicUserAuthenticator.html" >MBBasicUserAuthenticator.mbd</a></li><li><a href="../MBUtility/Code/Classes/MBBufferInputStream.html" >MBBufferInputStream.mbd</a></li><li><a href="../MBUtility/Code/Classes/MBFileInputStream.html" >MBFileInputStream.mbd</a></li><li><a href="../MBUtility/Code/Classes/MBFileOutputStream.html" >MBFileOutputStream.mbd</a></li><li><a href="../MBUtility/Code/Classes/MBOctetInputStream.html" >MBOctetInputStream.mbd</a></li><li><a href="../MBUtility/Code/Classes/MBOctetOutputStream.html" >MBOctetOutputStream.mbd</a></li><li><a href="../MBUtility/Code/Classes/MBSearchableInputStream.html" >MBSearchableInputStream.mbd</a></li><li><a href="../MBUtility/Code/Classes/MBSearchableOutputStream.html" >MBSearchableOutputStream.mbd</a></li><li><a href="../MBUtility/Code/Classes/MBStringOutputStream.html" >MBStringOutputStream.mbd</a></li><li><a href="../MBUtility/Code/Classes/OS_Filesystem.html" >OS_Filesystem.mbd</a></li><li><a href="../MBUtility/Code/Classes/TerminalOutput.html" >TerminalOutput.mbd</a></li></ul></details></li><li><details><summary><a href="../MBUtility/Code/Functions/index.html">Functions</a></summary><ul><li><a href="../MBUtility/Code/Functions/FSErrorToString.html" >FSErrorToString.mbd</a></li><li><a href="../MBUtility/Code/Functions/FSTypeToString.html" >FSTypeToString.mbd</a></li><li><a href="../MBUtility/Code/Functions/ReadWholeFile.html" >ReadWholeFile.mbd</a></li><li><a href="../MBUtility/Code/Functions/StringToFSObjectType.html" >StringToFSObjectType.mbd</a></li><li><a href="../MBUtility/Code/Functions/WriteData.html" >WriteData.mbd</a></li><li><a href="../MBUtility/Code/Functions/operator!.html" >operator!.mbd</a></li></ul></details></li><li><details><summary><a href="../MBUtility/Code/Sources/index.html">Sources</a></summary><ul><li><a href="../MBUtility/Code/Sources/Filesystem.html" >Filesystem.mbd</a></li><li><a href="../MBUtility/Code/Sources/MBCompileDefinitions.html" >MBCompileDefinitions.mbd</a></li><li><a href="../MBUtility/Code/Sources/MBErrorHandling.html" >MBErrorHandling.mbd</a></li><li><a href="../MBUtility/Code/Sources/MBFiles.html" >MBFiles.mbd</a></li><li><a href="../MBUtility/Code/Sources/MBInterfaces.html" >MBInterfaces.mbd</a></li><li><a href="../MBUtility/Code/Sources/MBMatrix.html" >MBMatrix.mbd</a></li><li><a href="../MBUtility/Code/Sources/MBUtilityTest.html" >MBUtilityTest.mbd</a></li></ul></details></li></ul></details></li></ul></details></li></ul></details></div><div style="width: 80ch; display: inline-block; position: absolute; top: 0; left: 0; right: 0; bottom: 0; margin: auto;"><h1 style="text-align: center;">Building</h1>
When compiling documents or compiling any type of program, manually inputting everything on the command line quickly get's very tedious. While some people might solve this with custom bash scripts or similar, providing a uniform portable way to build documentation should be a feature provided by the program. <br><br>

This is something that notably isn't commonly done by compilers, and compiling for example C/C++ code is mostly dependant on extra tools such as make or cmake to make the build process easier. These build systems are however very feature full, providing arbitrary command execution and determining which file needs to be rebuilt and so on. <br><br>

The provided build system here is purposefully very simple and declerative in it's structure, for a full motivation on the build philosophy go here <a class="link" href="../MBPacketManager/MBBuild/index.html">MBBuild</a>. <br><br>

In the rest of the document the goals guiding the design of the build systems are described, followed by a syntactic description of the build files, and finally a description of the semantics and how they are used by the program <br><br>

<h1 id="The Goals" style = "text-align: center;">1 The Goals</h1><br>
<h2 id="The Goals_Hand written and easily extensible" >1.1 Hand written and easily extensible</h2><br>
Some build systems like .sln are machine generated and meant to be used solely by the target application, aren't feasible to write by hand, and other systems like CMake can get relativly complex and require a lot of maintenance. The build files used in MBDoc should be easy to write by hand, simple so that constant rereading of the documentation isn't needed to create them. <br><br>

<h2 id="The Goals_External tools friendly" >1.2 External tools friendly</h2><br>
A common goal for many programs is that they are extensible, and combine well with other applications. It is impossible for a program to foresee all the possible use cases, and if the only way to utilize the functionality is through to the original program, the functionality is inherently limited. This means that a important part of the build specification is that external tools can utilize them. <br><br>

<h3 id="The Goals_External tools friendly_Declarative" >1.2.1 Declarative</h3><br>
The build files should not specify the way documentation is created, should only provide the minimum required components needed to make a build. <br><br>

<h3 id="The Goals_External tools friendly_Only provide functionality that can be replicated on the CLI" >1.2.2 Only provide functionality that can be replicated on the CLI</h3><br>
This ensures that there are no hidden features that are intrinsic to the way these build files specify a build, and that the whole process can be replicated by other programs invocing MBDoc. <br><br>

<h2 id="The Goals_Format/Semantic agnostic" >1.3 Format/Semantic agnostic</h2><br>
This goal is something that is tighly integrated with the overall philosophy of the project, and is meant to ensure that the way files are built should not need to really on the target format and semantic. <br><br>

<mark>Note: </mark>This doesn't neccesarilly mean that build files can't specify a target semantic and format, as this could be used to simply creating mixed semantic builds, it does however mean that they can't specify semantic/format specific options for the build. <br><br>

<h2 id="The Goals_Future compatible" >1.4 Future compatible</h2><br>
Extra functionality added to the build files should be something that doesn't interfere with the default behaviour of previously written files, and not specifying and option should always have a well defined default behaviour that should match the default behaviour of the program before this was able to be specified. <br><br>

<h1 id="The syntax" style = "text-align: center;">2 The syntax</h1><br>
The build specification file follows the <a class="link" href="../MBPacketManager/MBBuild/index.htmlhttps://www.json.org/json-en.html">JSON format</a>. This ensures that the files are able to be written by hand with a familiar syntax, aswell as providing a syntax which is forwards compatible. Currently only 4 fields are specified, and an application encountering a field it doesn't recognize is free to ignore it. <br><br>

The Build specication is a json object that can optionally contain the following named fields. <br><br>

<h2 id="The syntax_Sources" >2.1 Sources</h2><br>
The sources field has to be an array of strings, specifing the sources contained in a project. <br><br>

<h2 id="The syntax_SubBuilds" >2.2 SubBuilds</h2><br>
This field is a JSON object whose field name describe the mount point for a SubBuild, and whose value has to be a string specifing either a a relative path or and absolute path of the subbuild json specification. <br><br>

<h2 id="The syntax_Version" >2.3 Version</h2><br>
A string following the semantics and syntax of <a class="link" href="../MBPacketManager/MBBuild/index.htmlhttps://www.json.org/json-en.htmlhttps://semver.org/">../MBPacketManager/MBBuild/index.htmlhttps://www.json.org/json-en.htmlhttps://semver.org/</a>. The version describes the version of the Build specification file, and is used mainly used as a hint to the program on how it should interpet the file. Wheter the version is taken into account unspecified, and the program is free to ignore this field entirely. <br><br>

<h2 id="The syntax_MinVersion" >2.4 MinVersion</h2><br>
Like the Version field, this purpose of the field is to indicate which version this build specification is, however, unlike the Version field a MBDoc MUST read this field and determine wheter or not it can process the file. A file that the program cannot process results in an error and the build process stops. <br><br>

A program that encounters a file with a higher MinVersion than it's latest implementation can process MUST result in an error, however, it's implementation defined in what way older MinVersions that the current supported are handled. <br><br>

This concludes the syntax for the build specification files, and following are a couple of examples <br><br>

<h2 id="The syntax_Examples" >2.5 Examples</h2><br>
A build file only specifying sources contained. <br><br>

<pre>{
    "Sources":["foo.mbd","bar.mbd"] 
}</pre>A build file specifing a couple of sub builds <br><br>

<pre>{
    "Sources":["foo.mbd","bar.mbd"] 
    "SubBuilds":{"SubBuild1":"../ParentDirectoryBuild.json","SubBuild2":"sub/SubDirectoryBuild.json"}
}</pre>A build specifing a version and min version <br><br>

<pre>{
    "Version":"0.3.0",
    "MinVersion":"0.2.0",
    "Sources":["foo.mbd","bar.mbd"] 
    "SubBuilds":{"SubBuild1":"../ParentDirectoryBuild.json","SubBuild2":"sub/SubDirectoryBuild.json"}
}</pre><h1 id="Semantics" style = "text-align: center;">3 Semantics</h1><br>
The semantics for the Version and MinVersion fields are described above, and the semantics for the other fields are entirely based on the concept of the Document filesystem. <br><br>

A MBDocBuild always represent a complete directory structure. This directory structure can then be "mounted" to other builds, in order to create more complex builds. When mounting a subbuild, a new directory is created with the name specified, with the directory contents being that of the sub build. <br><br>

<mark>Note: </mark>With a naive implementation of a MBDocBuild parser, it is possible to specify a cyclic build system where sub builds include the parent build, and possibly creating a infinite loop. In order to remove this possibility so is the inclusion of a subbuild that is already a part of the build treated as an error, immediately ending the build. Builds are uniquely determined by ther canoncial path to their build specification. <br><br>

<h2 id="Semantics_Sources" >3.1 Sources</h2><br>
The source array specify which source files should be a part of the project. The syntax of the path is that of a POSIX path, and <i>the root directory is the directory containing the current build specification</i>, also, the special ".." directory is not allowed to be a part of the path. This main implication of this is that the files included in a MBDocBuild has to be part of the directory containing the build specification. This is meant to ensure that moving a directory containing the build specification doesn't change the behaviour, and to encourage a completely modular design of the builds. <br><br>

A source path has to point a file existing on the filesystem, and can't for a example point to a directory. A path that doesn't exist or isn't a file is treated as a fatal error and ends the build. <br><br>

The files and their corresponding parent directories are included as is in the document filesystem, essentially mimicing the local strucutre entirely. <br><br>

<h2 id="Semantics_SubBuilds" >3.2 SubBuilds</h2><br>
The Fields in the SubBuilds field specify a "mount point" for another MBDocBuild. This creates a directory in the currents builds "document fileystem" representation with the name specified as the name of the field in the SubBuilds object, and the directories contents is that of the build specified by the path. <br><br>

Unlike the paths in Sources so is the path here allowed to be relative and absolute, and it follows the semantics of that of the underlying operating system. However, the "current path" for evaluating the path is always the directory of the build specification. <br><br>

A sub build path that doesn't point to file existing on the filesystem is treated as a fatal error, and ends the build process. <br><br>

The directory mount name is the name for a single directory, and can't contain subdirectories. This means that it is NOT possible to mount all of the subbuilds to the same directory "SubBuilds/{BuildName}". <br><br>

It's also a fatal error to have the same mount name as that of a implcitily created directory from including all of the sources in the sources field. <br><br>

This means for example that this build always result in a fatal error. <br><br>

<pre>{
   "Sources":["foo/bar"],
   "SubBuilds":{"foo":"../NewBuild.json"}
}</pre></div></div></body></html>