<!DOCTYPE html><html><head><style>body{background-color: black; color: #00FF00;}table,th,td{border: 1px solid;}table{border-collapse: collapse;} .color .link{color: inherit !important;}</style></head><body><div style="display: flex"><div style="width: 30%; display: inline-block"><details open=""><summary><a href="../../../index.html">/</a></summary><ul><li><a href="../../../index.html" >index.mbd</a></li><li><details><summary><a href="../../../MBCC/index.html">MBCC</a></summary><ul><li><a href="../../../MBCC/index.html" >index.mbd</a></li><li><a href="../../../MBCC/CLI.html" >CLI.mbd</a></li><li><a href="../../../MBCC/History.html" >History.mbd</a></li></ul></details></li><li><details open=""><summary><a href="../../index.html">MBDoc</a></summary><ul><li><a href="../../index.html" >index.mbd</a></li><li><a href="../../History.html" >History.mbd</a></li><li><a href="../../BuildPipeline.html" >BuildPipeline.mbd</a></li><li><a href="../../Building.html" >Building.mbd</a></li><li><a href="../../Format.html" >Format.mbd</a></li><li><a href="../../Attributes.html" >Attributes.mbd</a></li><li><a href="../../LinkResolving.html" >LinkResolving.mbd</a></li><li><a href="../../CodeIndex.html" >CodeIndex.mbd</a></li><li><a href="../../CLI.html" >CLI.mbd</a></li><li><a href="../../LSP.html" >LSP.mbd</a></li><li><details open=""><summary><a href="../index.html">Code</a></summary><ul><li><details><summary><a href="../Classes/index.html">Classes</a></summary><ul><li><a href="../Classes/ArgumentList.html" >ArgumentList.mbd</a></li><li><a href="../Classes/AttributeList.html" >AttributeList.mbd</a></li><li><a href="../Classes/BlockElement.html" >BlockElement.mbd</a></li><li><a href="../Classes/BlockVisitor.html" >BlockVisitor.mbd</a></li><li><a href="../Classes/CodeBlock.html" >CodeBlock.mbd</a></li><li><a href="../Classes/ColorConfiguration.html" >ColorConfiguration.mbd</a></li><li><a href="../Classes/ColorInfo.html" >ColorInfo.mbd</a></li><li><a href="../Classes/Coloring.html" >Coloring.mbd</a></li><li><a href="../Classes/CommonCompilationOptions.html" >CommonCompilationOptions.mbd</a></li><li><a href="../Classes/Directive.html" >Directive.mbd</a></li><li><a href="../Classes/DirectiveVisitor.html" >DirectiveVisitor.mbd</a></li><li><a href="../Classes/DocCLI.html" >DocCLI.mbd</a></li><li><a href="../Classes/DocReference.html" >DocReference.mbd</a></li><li><a href="../Classes/DocumentBuild.html" >DocumentBuild.mbd</a></li><li><a href="../Classes/DocumentCompiler.html" >DocumentCompiler.mbd</a></li><li><a href="../Classes/DocumentDirectoryInfo.html" >DocumentDirectoryInfo.mbd</a></li><li><a href="../Classes/DocumentFilesystem.html" >DocumentFilesystem.mbd</a></li><li><a href="../Classes/DocumentFilesystemIterator.html" >DocumentFilesystemIterator.mbd</a></li><li><a href="../Classes/DocumentParsingContext.html" >DocumentParsingContext.mbd</a></li><li><a href="../Classes/DocumentPath.html" >DocumentPath.mbd</a></li><li><a href="../Classes/DocumentPathFileIterator.html" >DocumentPathFileIterator.mbd</a></li><li><a href="../Classes/DocumentReference.html" >DocumentReference.mbd</a></li><li><a href="../Classes/DocumentSource.html" >DocumentSource.mbd</a></li><li><a href="../Classes/DocumentTraverser.html" >DocumentTraverser.mbd</a></li><li><a href="../Classes/DocumentVisitor.html" >DocumentVisitor.mbd</a></li><li><a href="../Classes/FileReference.html" >FileReference.mbd</a></li><li><a href="../Classes/FilesystemDocumentInfo.html" >FilesystemDocumentInfo.mbd</a></li><li><a href="../Classes/FormatElement.html" >FormatElement.mbd</a></li><li><a href="../Classes/FormatElementComponent.html" >FormatElementComponent.mbd</a></li><li><a href="../Classes/FormatVisitor.html" >FormatVisitor.mbd</a></li><li><a href="../Classes/HTMLCompiler.html" >HTMLCompiler.mbd</a></li><li><a href="../Classes/HTMLNavigationCreator.html" >HTMLNavigationCreator.mbd</a></li><li><a href="../Classes/HTMLReferenceSolver.html" >HTMLReferenceSolver.mbd</a></li><li><a href="../Classes/HTTPTocCreator.html" >HTTPTocCreator.mbd</a></li><li><a href="../Classes/LSPInfo.html" >LSPInfo.mbd</a></li><li><a href="../Classes/LSPServer.html" >LSPServer.mbd</a></li><li><a href="../Classes/LanguageConfig.html" >LanguageConfig.mbd</a></li><li><a href="../Classes/LineIndex.html" >LineIndex.mbd</a></li><li><a href="../Classes/LineRetriever.html" >LineRetriever.mbd</a></li><li><a href="../Classes/MarkdownCompiler.html" >MarkdownCompiler.mbd</a></li><li><a href="../Classes/MarkdownReferenceSolver.html" >MarkdownReferenceSolver.mbd</a></li><li><a href="../Classes/MediaInclude.html" >MediaInclude.mbd</a></li><li><a href="../Classes/Paragraph.html" >Paragraph.mbd</a></li><li><a href="../Classes/PathSpecifier.html" >PathSpecifier.mbd</a></li><li><a href="../Classes/PreProcessorBlock.html" >PreProcessorBlock.mbd</a></li><li><a href="../Classes/ProcessedColorConfiguration.html" >ProcessedColorConfiguration.mbd</a></li><li><a href="../Classes/ProcessedColorInfo.html" >ProcessedColorInfo.mbd</a></li><li><a href="../Classes/ProcessedLanguageColorConfig.html" >ProcessedLanguageColorConfig.mbd</a></li><li><a href="../Classes/ProcessedRegexColoring.html" >ProcessedRegexColoring.mbd</a></li><li><a href="../Classes/ReferenceResolver.html" >ReferenceResolver.mbd</a></li><li><a href="../Classes/ReferenceTargetsResolver.html" >ReferenceTargetsResolver.mbd</a></li><li><a href="../Classes/ReferenceVisitor.html" >ReferenceVisitor.mbd</a></li><li><a href="../Classes/RegularText.html" >RegularText.mbd</a></li><li><a href="../Classes/ResolvedCodeText.html" >ResolvedCodeText.mbd</a></li><li><a href="../Classes/Table.html" >Table.mbd</a></li><li><a href="../Classes/TextColor.html" >TextColor.mbd</a></li><li><a href="../Classes/TextElement.html" >TextElement.mbd</a></li><li><a href="../Classes/TextElement_Base.html" >TextElement_Base.mbd</a></li><li><a href="../Classes/TextVisitor.html" >TextVisitor.mbd</a></li><li><a href="../Classes/URLReference.html" >URLReference.mbd</a></li><li><a href="../Classes/UnresolvedReference.html" >UnresolvedReference.mbd</a></li></ul></details></li><li><details><summary><a href="../Functions/index.html">Functions</a></summary><ul><li><a href="../Functions/GetTypeIndex.html" >GetTypeIndex.mbd</a></li><li><a href="../Functions/ProcessColorConfig.html" >ProcessColorConfig.mbd</a></li><li><a href="../Functions/StartLSPServer.html" >StartLSPServer.mbd</a></li><li><a href="../Functions/operator&.html" >operator&.mbd</a></li><li><a href="../Functions/operator^.html" >operator^.mbd</a></li><li><a href="../Functions/operator~.html" >operator~.mbd</a></li></ul></details></li><li><details open=""><summary><a href="index.html">Sources</a></summary><ul><li><a href="ColorConf.html" >ColorConf.mbd</a></li><li><a href="LSP.html" >LSP.mbd</a></li><li><mark><a href="" >MBDoc.mbd</a></mark></li><li><a href="MBDocCLI.html" >MBDocCLI.mbd</a></li><li><a href="MBDocMain.html" >MBDocMain.mbd</a></li><li><details><summary><a href="Compilers/index.html">Compilers</a></summary><ul><li><a href="Compilers/HTML.html" >HTML.mbd</a></li><li><a href="Compilers/Markdown.html" >Markdown.mbd</a></li></ul></details></li></ul></details></li></ul></details></li><li><details><summary><a href="../../Compiler/index.html">Compiler</a></summary><ul><li><a href="../../Compiler/index.html" >index.mbd</a></li></ul></details></li></ul></details></li><li><details><summary><a href="../../../MBDocGen/index.html">MBDocGen</a></summary><ul><li><details><summary><a href="../../../MBDocGen/Code/index.html">Code</a></summary><ul><li><details><summary><a href="../../../MBDocGen/Code/Classes/index.html">Classes</a></summary><ul><li><a href="../../../MBDocGen/Code/Classes/CppClass.html" >CppClass.mbd</a></li><li><a href="../../../MBDocGen/Code/Classes/CppClassContent.html" >CppClassContent.mbd</a></li><li><a href="../../../MBDocGen/Code/Classes/CppDocGenerator.html" >CppDocGenerator.mbd</a></li><li><a href="../../../MBDocGen/Code/Classes/CppHeaderContent.html" >CppHeaderContent.mbd</a></li><li><a href="../../../MBDocGen/Code/Classes/DocGenCLI.html" >DocGenCLI.mbd</a></li><li><a href="../../../MBDocGen/Code/Classes/TestStruct.html" >TestStruct.mbd</a></li></ul></details></li><li><details><summary><a href="../../../MBDocGen/Code/Functions/index.html">Functions</a></summary><ul><li><a href="../../../MBDocGen/Code/Functions/EnumDoer.html" >EnumDoer.mbd</a></li><li><a href="../../../MBDocGen/Code/Functions/TestFunc.html" >TestFunc.mbd</a></li></ul></details></li><li><details><summary><a href="../../../MBDocGen/Code/Sources/index.html">Sources</a></summary><ul><li><a href="../../../MBDocGen/Code/Sources/MBDocGenMain.html" >MBDocGenMain.mbd</a></li><li><a href="../../../MBDocGen/Code/Sources/MBDocGen_CLI.html" >MBDocGen_CLI.mbd</a></li></ul></details></li></ul></details></li></ul></details></li><li><details><summary><a href="../../../MBPacketManager/index.html">MBPacketManager</a></summary><ul><li><a href="../../../MBPacketManager/index.html" >index.mbd</a></li><li><a href="../../../MBPacketManager/CLI.html" >CLI.mbd</a></li><li><a href="../../../MBPacketManager/DevelopmentStructure.html" >DevelopmentStructure.mbd</a></li><li><a href="../../../MBPacketManager/Packets.html" >Packets.mbd</a></li><li><a href="../../../MBPacketManager/PacketsSpecification.html" >PacketsSpecification.mbd</a></li><li><a href="../../../MBPacketManager/SubPackets.html" >SubPackets.mbd</a></li><li><a href="../../../MBPacketManager/Extensions.html" >Extensions.mbd</a></li><li><a href="../../../MBPacketManager/Terminology.html" >Terminology.mbd</a></li><li><a href="../../../MBPacketManager/History.html" >History.mbd</a></li><li><details><summary><a href="../../../MBPacketManager/MBBuild/index.html">MBBuild</a></summary><ul><li><a href="../../../MBPacketManager/MBBuild/index.html" >index.mbd</a></li><li><a href="../../../MBPacketManager/MBBuild/History.html" >History.mbd</a></li><li><a href="../../../MBPacketManager/MBBuild/Buildsystem.html" >Buildsystem.mbd</a></li><li><a href="../../../MBPacketManager/MBBuild/MBCompileConfigurations.html" >MBCompileConfigurations.mbd</a></li><li><a href="../../../MBPacketManager/MBBuild/MBDependancySpecification.html" >MBDependancySpecification.mbd</a></li><li><a href="../../../MBPacketManager/MBBuild/MBSourceInfo.html" >MBSourceInfo.mbd</a></li><li><a href="../../../MBPacketManager/MBBuild/CLI.html" >CLI.mbd</a></li></ul></details></li></ul></details></li><li><details><summary><a href="../../../MBUtility/index.html">MBUtility</a></summary><ul><li><a href="../../../MBUtility/index.html" >index.mbd</a></li><li><a href="../../../MBUtility/IO.html" >IO.mbd</a></li><li><details><summary><a href="../../../MBUtility/Code/index.html">Code</a></summary><ul><li><details><summary><a href="../../../MBUtility/Code/Classes/index.html">Classes</a></summary><ul><li><a href="../../../MBUtility/Code/Classes/FSObjectInfo.html" >FSObjectInfo.mbd</a></li><li><a href="../../../MBUtility/Code/Classes/Filesystem.html" >Filesystem.mbd</a></li><li><a href="../../../MBUtility/Code/Classes/LineRetriever.html" >LineRetriever.mbd</a></li><li><a href="../../../MBUtility/Code/Classes/MBBasicUserAuthenticator.html" >MBBasicUserAuthenticator.mbd</a></li><li><a href="../../../MBUtility/Code/Classes/MBBufferInputStream.html" >MBBufferInputStream.mbd</a></li><li><a href="../../../MBUtility/Code/Classes/MBFileInputStream.html" >MBFileInputStream.mbd</a></li><li><a href="../../../MBUtility/Code/Classes/MBFileOutputStream.html" >MBFileOutputStream.mbd</a></li><li><a href="../../../MBUtility/Code/Classes/MBOctetInputStream.html" >MBOctetInputStream.mbd</a></li><li><a href="../../../MBUtility/Code/Classes/MBOctetOutputStream.html" >MBOctetOutputStream.mbd</a></li><li><a href="../../../MBUtility/Code/Classes/MBSearchableInputStream.html" >MBSearchableInputStream.mbd</a></li><li><a href="../../../MBUtility/Code/Classes/MBSearchableOutputStream.html" >MBSearchableOutputStream.mbd</a></li><li><a href="../../../MBUtility/Code/Classes/MBStringOutputStream.html" >MBStringOutputStream.mbd</a></li><li><a href="../../../MBUtility/Code/Classes/OS_Filesystem.html" >OS_Filesystem.mbd</a></li><li><a href="../../../MBUtility/Code/Classes/TerminalOutput.html" >TerminalOutput.mbd</a></li></ul></details></li><li><details><summary><a href="../../../MBUtility/Code/Functions/index.html">Functions</a></summary><ul><li><a href="../../../MBUtility/Code/Functions/FSErrorToString.html" >FSErrorToString.mbd</a></li><li><a href="../../../MBUtility/Code/Functions/FSTypeToString.html" >FSTypeToString.mbd</a></li><li><a href="../../../MBUtility/Code/Functions/ReadWholeFile.html" >ReadWholeFile.mbd</a></li><li><a href="../../../MBUtility/Code/Functions/StringToFSObjectType.html" >StringToFSObjectType.mbd</a></li><li><a href="../../../MBUtility/Code/Functions/WriteData.html" >WriteData.mbd</a></li><li><a href="../../../MBUtility/Code/Functions/operator!.html" >operator!.mbd</a></li></ul></details></li><li><details><summary><a href="../../../MBUtility/Code/Sources/index.html">Sources</a></summary><ul><li><a href="../../../MBUtility/Code/Sources/Filesystem.html" >Filesystem.mbd</a></li><li><a href="../../../MBUtility/Code/Sources/MBCompileDefinitions.html" >MBCompileDefinitions.mbd</a></li><li><a href="../../../MBUtility/Code/Sources/MBErrorHandling.html" >MBErrorHandling.mbd</a></li><li><a href="../../../MBUtility/Code/Sources/MBFiles.html" >MBFiles.mbd</a></li><li><a href="../../../MBUtility/Code/Sources/MBInterfaces.html" >MBInterfaces.mbd</a></li><li><a href="../../../MBUtility/Code/Sources/MBMatrix.html" >MBMatrix.mbd</a></li><li><a href="../../../MBUtility/Code/Sources/MBUtilityTest.html" >MBUtilityTest.mbd</a></li></ul></details></li></ul></details></li></ul></details></li></ul></details></div><div style="width: 80ch; display: inline-block; position: absolute; top: 0; left: 0; right: 0; bottom: 0; margin: auto;"><h1 style="text-align: center;">MBDoc.mbd</h1>
<pre><span class="color" style="color: #a020f0;">#include "MBDoc.h"</span><br><span class="color" style="color: #a020f0;">#include "MBLSP/LSP_Structs.h"</span><br><span class="color" style="color: #a020f0;">#include &lt;MBUtility/MBErrorHandling.h&gt;</span><br><span class="color" style="color: #a020f0;">#include &lt;MBUtility/MBInterfaces.h&gt;</span><br><span class="color" style="color: #a020f0;">#include &lt;cstring&gt;</span><br><span class="color" style="color: #a020f0;">#include &lt;exception&gt;</span><br><span class="color" style="color: #a020f0;">#include &lt;memory&gt;</span><br><span class="color" style="color: #a020f0;">#include &lt;MBParsing/MBParsing.h&gt;</span><br><span class="color" style="color: #a020f0;">#include &lt;stdexcept&gt;</span><br><span class="color" style="color: #a020f0;">#include &lt;assert.h&gt;</span><br><span class="color" style="color: #a020f0;">#include &lt;stdint.h&gt;</span><br><br><span class="color" style="color: #a020f0;">#include &lt;iostream&gt;</span><br><span class="color" style="color: #a020f0;">#include &lt;MBUtility/MBStrings.h&gt;</span><br><span class="color" style="color: #a020f0;">#include &lt;MBUnicode/MBUnicode.h&gt;</span><br><span class="color" style="color: #a020f0;">#include &lt;MBCLI/MBCLI.h&gt;</span><br><br><span class="color" style="color: #a020f0;">#include &lt;MBMime/MBMime.h&gt;</span><br><br><span class="color" style="color: #a020f0;">#include &lt;MBLSP/MBLSP.h&gt;</span><br><span class="color" style="color: #a020f0;">#include &lt;MBSystem/BiDirectionalSubProcess.h&gt;</span><br><span class="color" style="color: #a020f0;">#include &lt;numeric&gt;</span><br><br><br><span class="color" style="color: #a020f0;">#include &lt;MBUtility/InterfaceAdaptors.h&gt;</span><br><span class="color" style="color: #a020f0;">#include &lt;MBUtility/Merge.h&gt;</span><br><br><span class="color" style="color: #a020f0;">#include &lt;regex&gt;</span><br><br><br><span class="color" style="color: #ffffff;">namespace </span><span class="color" style="color: #ffffff;">MBDoc</span><br><span class="color" style="color: #ffffff;">{</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_UnescapeText</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">InParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TextEnd</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #a020f0;">assert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TextEnd</span><span class="color" style="color: #ffffff;"> &lt;= </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">InParseOffset</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">TextEnd</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NextEscapePosition</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">find</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">TextEnd</span><span class="color" style="color: #ffffff;">,'\\')-</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NextEscapePosition</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">TextEnd</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">insert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">TextEnd</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">insert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">NextEscapePosition</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NextEscapePosition</span><span class="color" style="color: #ffffff;">+1 &lt; </span><span class="color" style="color: #00ffff;">TextEnd</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">NextEscapePosition</span><span class="color" style="color: #ffffff;">+1];</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NextEscapePosition</span><span class="color" style="color: #ffffff;">+2;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_UnescapeText</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">InParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TextEnd</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">EscapedCharacter</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #a020f0;">assert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TextEnd</span><span class="color" style="color: #ffffff;"> &lt;= </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">InParseOffset</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">TextEnd</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NextEscapePosition</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">find</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">TextEnd</span><span class="color" style="color: #ffffff;">,'\\')-</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NextEscapePosition</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">TextEnd</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">insert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">TextEnd</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NextEscapePosition</span><span class="color" style="color: #ffffff;"> + 1 &gt;= </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;"> || </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">NextEscapePosition</span><span class="color" style="color: #ffffff;">+1] != </span><span class="color" style="color: #00ffff;">EscapedCharacter</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">insert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">NextEscapePosition</span><span class="color" style="color: #ffffff;">+1);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NextEscapePosition</span><span class="color" style="color: #ffffff;"> + 1 &lt; </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">NextEscapePosition</span><span class="color" style="color: #ffffff;">+1];   </span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NextEscapePosition</span><span class="color" style="color: #ffffff;">+2;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">insert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">NextEscapePosition</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NextEscapePosition</span><span class="color" style="color: #ffffff;">+1 &lt; </span><span class="color" style="color: #00ffff;">TextEnd</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">NextEscapePosition</span><span class="color" style="color: #ffffff;">+1];</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NextEscapePosition</span><span class="color" style="color: #ffffff;">+2;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_IsEscaped</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;"> = (</span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;">*)</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &gt; 0)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> - 1] == '\\')</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = !</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">--;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_FindNextUnescaped</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">InParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">EscapedCharacter</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">;    </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">InParseOffset</span><span class="color" style="color: #ffffff;">; </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NextCandidate</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">find</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">EscapedCharacter</span><span class="color" style="color: #ffffff;">)-</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NextCandidate</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_IsEscaped</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">NextCandidate</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NextCandidate</span><span class="color" style="color: #ffffff;">;     </span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NextCandidate</span><span class="color" style="color: #ffffff;">+1;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LineRetriever.html">LineRetriever</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LineRetriever.html">LineRetriever</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../../../MBUtility/Code/Classes/MBOctetInputStream.html">MBOctetInputStream</a></span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">InputStream</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">        : </span><span class="color" style="color: #ffffff;">m_UnderlyingRetriever</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">InputStream</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">           </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LineRetriever.html">LineRetriever</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_IteratorNextNonComment</span><span class="color" style="color: #ffffff;">()</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #ffffff;">m_UnderlyingRetriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Finished</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_UnderlyingRetriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">PeekLine</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FirstNonWS</span><span class="color" style="color: #ffffff;"> = 0; </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">SkipWhitespace</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">,0,&amp;</span><span class="color" style="color: #00ffff;">FirstNonWS</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FirstNonWS</span><span class="color" style="color: #ffffff;">+1 &lt; </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &amp;&amp; (</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">FirstNonWS</span><span class="color" style="color: #ffffff;">] == '/' &amp;&amp; </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">FirstNonWS</span><span class="color" style="color: #ffffff;">+1] == '/'))</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">m_UnderlyingRetriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">DiscardLine</span><span class="color" style="color: #ffffff;">();   </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><br><span class="color" style="color: #ffffff;">        }    </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LineRetriever.html">LineRetriever</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Finished</span><span class="color" style="color: #ffffff;">()</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffff00;">p_IteratorNextNonComment</span><span class="color" style="color: #ffffff;">(); </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_UnderlyingRetriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Finished</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LineRetriever.html">LineRetriever</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetLine</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">OutLine</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffff00;">p_IteratorNextNonComment</span><span class="color" style="color: #ffffff;">(); </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_UnderlyingRetriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetLine</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">OutLine</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LineRetriever.html">LineRetriever</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">DiscardLine</span><span class="color" style="color: #ffffff;">()</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_UnderlyingRetriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">DiscardLine</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LineRetriever.html">LineRetriever</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">PeekLine</span><span class="color" style="color: #ffffff;">()</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffff00;">p_IteratorNextNonComment</span><span class="color" style="color: #ffffff;">(); </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_UnderlyingRetriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">PeekLine</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextColor.html">TextColor</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_ParseTextColor</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">DataBegin</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">DataEnd</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextColor.html">TextColor</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;    </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DataEnd</span><span class="color" style="color: #ffffff;">-</span><span class="color" style="color: #00ffff;">DataBegin</span><span class="color" style="color: #ffffff;"> != 6)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Error parsing color: unrecognized color \"</span><span class="color" style="color: #ffffff;">"+</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DataBegin</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">DataEnd</span><span class="color" style="color: #ffffff;">)+</span><span class="color" style="color: #ff0000;">"\"</span><span class="color" style="color: #ffffff;">");</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">[3];</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> = 0; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> &lt; 3;</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">++)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">] = </span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">HexValueToByte</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DataBegin</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">*2],</span><span class="color" style="color: #00ffff;">DataBegin</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">*2+1],&amp;</span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Error parsing color: unrecognized color \"</span><span class="color" style="color: #ffffff;">"+</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DataBegin</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">DataEnd</span><span class="color" style="color: #ffffff;">)+</span><span class="color" style="color: #ff0000;">"\"</span><span class="color" style="color: #ffffff;">");</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextColor.html">TextColor</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">[0],</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">[1],</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">[2]);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextColor.html">TextColor</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_ParseTextColor</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">TextString</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextColor.html">TextColor</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;    </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TextString</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() != 6)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Error parsing color: unrecognized color \"</span><span class="color" style="color: #ffffff;">"+</span><span class="color" style="color: #00ffff;">TextString</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #ff0000;">"\"</span><span class="color" style="color: #ffffff;">");</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">[3];</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> = 0; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> &lt; 3;</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">++)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">] = </span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">HexValueToByte</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TextString</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">*2],</span><span class="color" style="color: #00ffff;">TextString</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">*2+1],&amp;</span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Error parsing color: unrecognized color \"</span><span class="color" style="color: #ffffff;">"+</span><span class="color" style="color: #00ffff;">TextString</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #ff0000;">"\"</span><span class="color" style="color: #ffffff;">");</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextColor.html">TextColor</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">[0],</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">[1],</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">[2]);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ProcessedColorConfiguration.html">ProcessedColorConfiguration</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffff00;"><a class="link" href="../Functions/ProcessColorConfig.html">ProcessColorConfig</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ColorConfiguration.html">ColorConfiguration</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Config</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ProcessedColorConfiguration.html">ProcessedColorConfiguration</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DefaultColor</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_ParseTextColor</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Config</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Coloring</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DefaultColor</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColoringNameToIndex</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #ff0000;">"Default"</span><span class="color" style="color: #ffffff;">] = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorMap</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DefaultColor</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">LangConf</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">Config</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">LanguageColorings</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ProcessedLanguageColorConfig.html">ProcessedLanguageColorConfig</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewConf</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">NewConf</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">LSP</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">LangConf</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">second</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">LSP</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">RegexList</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">LangConf</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">second</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Regexes</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">ColorTypeIndex</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">RegexColorType</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColoringNameToIndex</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">RegexList</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">first</span><span class="color" style="color: #ffffff;">]; </span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">RegexColorType</span><span class="color" style="color: #ffffff;"> == 0)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">RegexColorType</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorMap</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorMap</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextColor.html">TextColor</a></span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Regexes</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NewConf</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">RegexColoring</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Regexes</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">RegexColorType</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Regex</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">RegexList</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">second</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">Regexes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">regex</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Regex</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">regex_constants</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">ECMAScript</span><span class="color" style="color: #ffffff;">|</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">regex_constants</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">nosubs</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">LanguageConfigs</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">LangConf</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">first</span><span class="color" style="color: #ffffff;">] = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewConf</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Color</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">Config</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Coloring</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorMap</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">ColorTypeIndex</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColoringNameToIndex</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">Color</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">first</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;"> == 0)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorMap</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();   </span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorMap</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextColor.html">TextColor</a></span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorMap</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">] = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_ParseTextColor</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Color</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">second</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><br><br><br><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/URLReference.html">URLReference</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceVisitor.html">ReferenceVisitor</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/URLReference.html">URLReference</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceVisitor.html">ReferenceVisitor</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/UnresolvedReference.html">UnresolvedReference</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceVisitor.html">ReferenceVisitor</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/UnresolvedReference.html">UnresolvedReference</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceVisitor.html">ReferenceVisitor</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FileReference.html">FileReference</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceVisitor.html">ReferenceVisitor</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FileReference.html">FileReference</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceVisitor.html">ReferenceVisitor</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextElement.html">TextElement</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextVisitor.html">TextVisitor</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">IsType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocReference.html">DocReference</a></span><span class="color" style="color: #ffffff;">&gt;())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">GetType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocReference.html">DocReference</a></span><span class="color" style="color: #ffffff;">&gt;());</span><br><span class="color" style="color: #ffffff;">        } </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">IsType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/RegularText.html">RegularText</a></span><span class="color" style="color: #ffffff;">&gt;())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">GetType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/RegularText.html">RegularText</a></span><span class="color" style="color: #ffffff;">&gt;());</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextElement.html">TextElement</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextVisitor.html">TextVisitor</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">IsType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocReference.html">DocReference</a></span><span class="color" style="color: #ffffff;">&gt;())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">GetType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocReference.html">DocReference</a></span><span class="color" style="color: #ffffff;">&gt;());</span><br><span class="color" style="color: #ffffff;">        } </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">IsType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/RegularText.html">RegularText</a></span><span class="color" style="color: #ffffff;">&gt;())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">GetType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/RegularText.html">RegularText</a></span><span class="color" style="color: #ffffff;">&gt;());</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockVisitor.html">BlockVisitor</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">IsType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/CodeBlock.html">CodeBlock</a></span><span class="color" style="color: #ffffff;">&gt;())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(static_cast&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/CodeBlock.html">CodeBlock</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp;&gt;(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">        }       </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">IsType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/MediaInclude.html">MediaInclude</a></span><span class="color" style="color: #ffffff;">&gt;())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(static_cast&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/MediaInclude.html">MediaInclude</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp;&gt;(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">IsType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Paragraph.html">Paragraph</a></span><span class="color" style="color: #ffffff;">&gt;())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(static_cast&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Paragraph.html">Paragraph</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp;&gt;(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">IsType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Table.html">Table</a></span><span class="color" style="color: #ffffff;">&gt;())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(static_cast&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Table.html">Table</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp;&gt;(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockVisitor.html">BlockVisitor</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">IsType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/CodeBlock.html">CodeBlock</a></span><span class="color" style="color: #ffffff;">&gt;())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(static_cast&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/CodeBlock.html">CodeBlock</a></span><span class="color" style="color: #ffffff;">&amp;&gt;(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">        }       </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">IsType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/MediaInclude.html">MediaInclude</a></span><span class="color" style="color: #ffffff;">&gt;())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(static_cast&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/MediaInclude.html">MediaInclude</a></span><span class="color" style="color: #ffffff;">&amp;&gt;(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">IsType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Paragraph.html">Paragraph</a></span><span class="color" style="color: #ffffff;">&gt;())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(static_cast&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Paragraph.html">Paragraph</a></span><span class="color" style="color: #ffffff;">&amp;&gt;(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">IsType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Table.html">Table</a></span><span class="color" style="color: #ffffff;">&gt;())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(static_cast&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Table.html">Table</a></span><span class="color" style="color: #ffffff;">&amp;&gt;(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">        }</span><br><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/AttributeList.html">AttributeList</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">IsEmpty</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_Attributes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() == 0);   </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/AttributeList.html">AttributeList</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Clear</span><span class="color" style="color: #ffffff;">()</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_Attributes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">clear</span><span class="color" style="color: #ffffff;">();       </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #a020f0;">assert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">IsEmpty</span><span class="color" style="color: #ffffff;">() == true);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/AttributeList.html">AttributeList</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">AddAttribute</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">AttributeName</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_Attributes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">insert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">AttributeName</span><span class="color" style="color: #ffffff;">);    </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/AttributeList.html">AttributeList</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">HasAttribute</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">AttributeToCheck</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_Attributes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">AttributeToCheck</span><span class="color" style="color: #ffffff;">) != </span><span class="color" style="color: #ffffff;">m_Attributes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">());        </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ArgumentList.html">ArgumentList</a></span><span class="color" style="color: #ffffff;">::operator[](</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_PositionalArguments</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">]);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ArgumentList.html">ArgumentList</a></span><span class="color" style="color: #ffffff;">::operator[](</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">AttributeName</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_NamedArguments</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">at</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">AttributeName</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ArgumentList.html">ArgumentList</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">HasArgument</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">AttributeName</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_NamedArguments</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">AttributeName</span><span class="color" style="color: #ffffff;">) != </span><span class="color" style="color: #ffffff;">m_NamedArguments</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ArgumentList.html">ArgumentList</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">PositionalArgumentsCount</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_PositionalArguments</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ArgumentList.html">ArgumentList</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">AddArgument</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">pair</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">NewAttribute</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_NamedArguments</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">NewAttribute</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">first</span><span class="color" style="color: #ffffff;">] = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewAttribute</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">second</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ArgumentList.html">ArgumentList</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">AddArgument</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ArgumentToAdd</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_PositionalArguments</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ArgumentToAdd</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">    }</span><br><br><br><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">&amp;&amp; </span><span class="color" style="color: #00ffff;">ElementToSteal</span><span class="color" style="color: #ffffff;">) noexcept</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">swap</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ElementToSteal</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">m_Data</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ffffff;">m_Data</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">swap</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ElementToSteal</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">::operator=(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FormatToCopy</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">swap</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">FormatToCopy</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;">);    </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">swap</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_Data</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">FormatToCopy</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">m_Data</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">BlockData</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Block</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_Data</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #0000ff;">new</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">BlockData</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Directive.html">Directive</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DirectiveData</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Directive</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_Data</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #0000ff;">new</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Directive.html">Directive</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DirectiveData</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElement.html">FormatElement</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FormatData</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Format</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_Data</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #0000ff;">new</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElement.html">FormatElement</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FormatData</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">    }</span><br><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetType</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">SetAttributes</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/AttributeList.html">AttributeList</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewAttributes</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Block</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffff00;">GetBlockData</span><span class="color" style="color: #ffffff;">().</span><span class="color" style="color: #ffffff;">Attributes</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewAttributes</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">        } </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Format</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffff00;">GetFormatData</span><span class="color" style="color: #ffffff;">().</span><span class="color" style="color: #ffffff;">Attributes</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewAttributes</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Can't set attributes for directive or empty format type"</span><span class="color" style="color: #ffffff;">);    </span><br><span class="color" style="color: #ffffff;">        }</span><br><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetBlockData</span><span class="color" style="color: #ffffff;">()</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Block</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Format component not of block type"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(**(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;">&gt;*)</span><span class="color" style="color: #ffffff;">m_Data</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetBlockData</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Block</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Format component not of block type"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(**(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">*)</span><span class="color" style="color: #ffffff;">m_Data</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Directive.html">Directive</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetDirectiveData</span><span class="color" style="color: #ffffff;">()</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Directive</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Format component not of directive type"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(*(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Directive.html">Directive</a></span><span class="color" style="color: #ffffff;">*)</span><span class="color" style="color: #ffffff;">m_Data</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Directive.html">Directive</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetDirectiveData</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Directive</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Format component not of directive type"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(*(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Directive.html">Directive</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">*)</span><span class="color" style="color: #ffffff;">m_Data</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElement.html">FormatElement</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetFormatData</span><span class="color" style="color: #ffffff;">() </span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Format</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Format component not of format type"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(*(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElement.html">FormatElement</a></span><span class="color" style="color: #ffffff;">*)</span><span class="color" style="color: #ffffff;">m_Data</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElement.html">FormatElement</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetFormatData</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Format</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Format component not of format type"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(*(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElement.html">FormatElement</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">*)</span><span class="color" style="color: #ffffff;">m_Data</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatVisitor.html">FormatVisitor</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Block</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">GetBlockData</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        } </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Format</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">GetFormatData</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Directive</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">GetDirectiveData</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #a020f0;">assert</span><span class="color" style="color: #ffffff;">(false);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatVisitor.html">FormatVisitor</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Block</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">GetBlockData</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        } </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Format</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">GetFormatData</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Directive</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Visitor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">GetDirectiveData</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #a020f0;">assert</span><span class="color" style="color: #ffffff;">(false);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">::~</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">()</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Block</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #0000ff;">delete</span><span class="color" style="color: #ffffff;"> static_cast&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;">&gt;*&gt;(</span><span class="color" style="color: #ffffff;">m_Data</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Directive</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #0000ff;">delete</span><span class="color" style="color: #ffffff;"> static_cast&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Directive.html">Directive</a></span><span class="color" style="color: #ffffff;">*&gt;(</span><span class="color" style="color: #ffffff;">m_Data</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">m_Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Format</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #0000ff;">delete</span><span class="color" style="color: #ffffff;"> static_cast&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElement.html">FormatElement</a></span><span class="color" style="color: #ffffff;">*&gt;(</span><span class="color" style="color: #ffffff;">m_Data</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextElement.html">TextElement</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentParsingContext.html">DocumentParsingContext</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_ParseReference</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">OutParseOffset</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextElement.html">TextElement</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(!(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> + 1 &lt; </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Invalid reference, empty name"</span><span class="color" style="color: #ffffff;">);   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">VisibleText</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReferenceString</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;"> = (</span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;">*)</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">+1] == '[')</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TextEnd</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_FindNextUnescaped</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">+2,']');</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TextEnd</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Unexpected end of visible text in reference"</span><span class="color" style="color: #ffffff;">);   </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">VisibleText</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_UnescapeText</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">TextEnd</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">TextEnd</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">TextEnd</span><span class="color" style="color: #ffffff;">+1;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">SkipWhitespace</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,&amp;</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &gt;= </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Reference with visible requires refernce identifier part"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">] != '(')</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Invalid start of reference identifier"</span><span class="color" style="color: #ffffff;">);   </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReferenceIDEnd</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">find</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">+1,</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">,')')-(</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReferenceIDEnd</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Unexpected end of reference identifier"</span><span class="color" style="color: #ffffff;">);   </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReferenceString</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">+1,</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">ReferenceIDEnd</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ReferenceIDEnd</span><span class="color" style="color: #ffffff;"> + 1;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> + 1] != '(') </span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DelimiterPosition</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">GetNextDelimiterPosition</a></span><span class="color" style="color: #ffffff;">({ '\t',' ','\n',',','.' }, </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">, nullptr);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReferenceString</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> + 1, </span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">DelimiterPosition</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">DelimiterPosition</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">IdentifierEnd</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">find</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> + 2, </span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">,')') - </span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">IdentifierEnd</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Unexpected end of reference identifier, missing )"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReferenceString</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> + 2, </span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">IdentifierEnd</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">IdentifierEnd</span><span class="color" style="color: #ffffff;"> + 1;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReferenceString</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"://"</span><span class="color" style="color: #ffffff;">) == </span><span class="color" style="color: #00ffff;">ReferenceString</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #00ffff;">npos</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">             </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/UnresolvedReference.html">UnresolvedReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewRef</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">             </span><span class="color" style="color: #00ffff;">NewRef</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ReferenceString</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ReferenceString</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">             </span><span class="color" style="color: #00ffff;">NewRef</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">VisibleText</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">VisibleText</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">             </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextElement.html">TextElement</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocReference.html">DocReference</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #0000ff;">new</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/UnresolvedReference.html">UnresolvedReference</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewRef</span><span class="color" style="color: #ffffff;">))));</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">             </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/URLReference.html">URLReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewRef</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">             </span><span class="color" style="color: #00ffff;">NewRef</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">VisibleText</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">VisibleText</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">             </span><span class="color" style="color: #00ffff;">NewRef</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">URL</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ReferenceString</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">             </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextElement.html">TextElement</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocReference.html">DocReference</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #0000ff;">new</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/URLReference.html">URLReference</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewRef</span><span class="color" style="color: #ffffff;">))));</span><br><span class="color" style="color: #ffffff;">               </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        *</span><span class="color" style="color: #00ffff;">OutParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);    </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    struct </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">TextState</a></span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextColor.html">TextColor</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">Color</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">TextModifier</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">Modifiers</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">TextModifier</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Null</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">    };</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">TextState</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_ParseTextState</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">OutParseOffset</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">TextState</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;"> = (</span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;">*)</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ResultParsed</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> + 2 &lt; </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ff0000;">"***"</span><span class="color" style="color: #ffffff;">,3) == 0)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> += 3;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Modifiers</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Modifiers</span><span class="color" style="color: #ffffff;"> | </span><span class="color" style="color: #ffffff;">TextModifier</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Bold</span><span class="color" style="color: #ffffff;"> | </span><span class="color" style="color: #ffffff;">TextModifier</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Italic</span><span class="color" style="color: #ffffff;">; </span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ResultParsed</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">            }   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #00ffff;">ResultParsed</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> + 1 &lt; </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ff0000;">"**"</span><span class="color" style="color: #ffffff;">,2) == 0)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Modifiers</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Modifiers</span><span class="color" style="color: #ffffff;"> | </span><span class="color" style="color: #ffffff;">TextModifier</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Bold</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> += 2;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ResultParsed</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #00ffff;">ResultParsed</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">] == '*')</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Modifiers</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Modifiers</span><span class="color" style="color: #ffffff;"> | </span><span class="color" style="color: #ffffff;">TextModifier</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Italic</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ResultParsed</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> += 1;</span><br><span class="color" style="color: #ffffff;">            }   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">OutParseOffset</span><span class="color" style="color: #ffffff;"> != nullptr)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            *</span><span class="color" style="color: #00ffff;">OutParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);   </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextColor.html">TextColor</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_ParseColorModifier</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">OutParseOffset</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextColor.html">TextColor</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NextSpace</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">find</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">,' ')-</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NextSpace</span><span class="color" style="color: #ffffff;"> &gt;= </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Error parsing color modifier: need delimiting space"</span><span class="color" style="color: #ffffff;">);   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NextSpace</span><span class="color" style="color: #ffffff;">-</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> == 0)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            *</span><span class="color" style="color: #00ffff;">OutParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">+1;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NextSpace</span><span class="color" style="color: #ffffff;">-</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> != 6)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;">  </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Error parsing color modifier: non-reset modifer requires exactly 6 characters to form a valid hex color"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_ParseTextColor</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">+6);</span><br><span class="color" style="color: #ffffff;">        *</span><span class="color" style="color: #00ffff;">OutParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">+7;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_NormalizeText</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">TextToNormalize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">TextToNormalize</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">SkipWhitespace</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TextToNormalize</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,&amp;</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">LineEnd</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">TextToNormalize</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find_first_of</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"\r\n"</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">LastNonWhitespace</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">TextToNormalize</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find_last_not_of</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"\r\n \t"</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">LineEnd</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LastNonWhitespace</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">TextToNormalize</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #00ffff;">npos</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">LastNonWhitespace</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">LastNonWhitespace</span><span class="color" style="color: #ffffff;"> += 1;</span><br><span class="color" style="color: #ffffff;">                 </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LastNonWhitespace</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LineEnd</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">TextToNormalize</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #00ffff;">npos</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">insert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">TextToNormalize</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">TextToNormalize</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">LastNonWhitespace</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LastNonWhitespace</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">TextToNormalize</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">" "</span><span class="color" style="color: #ffffff;">;       </span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">insert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">TextToNormalize</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">TextToNormalize</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">LastNonWhitespace</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TextToNormalize</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">LineEnd</span><span class="color" style="color: #ffffff;">] == '\n') </span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">LineEnd</span><span class="color" style="color: #ffffff;">+1;   </span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TextToNormalize</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">LineEnd</span><span class="color" style="color: #ffffff;">] == '\r')</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">LineEnd</span><span class="color" style="color: #ffffff;">+2;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> += ' ';</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextElement.html">TextElement</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentParsingContext.html">DocumentParsingContext</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_ParseTextElements</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">OutParseOffset</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextElement.html">TextElement</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;"> = (</span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;">*)</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextColor.html">TextColor</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentTextColor</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">TextModifier</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentTextModifier</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">TextModifier</span><span class="color" style="color: #ffffff;">(0);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FindTextModifierDelimiterOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">;</span><br><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NextReferenceDeclaration</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NextTextModifier</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NextColorModifier</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">;</span><br><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NextModifier</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">FindTextModifierDelimiterOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">NextReferenceDeclaration</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">find</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">FindTextModifierDelimiterOffset</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">, '@') - (</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">NextTextModifier</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">find</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">FindTextModifierDelimiterOffset</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">, '*') - (</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">NextColorModifier</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">find</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">FindTextModifierDelimiterOffset</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">, '~') - (</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">);</span><br><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">NextModifier</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">min</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NextTextModifier</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">NextReferenceDeclaration</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">NextModifier</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">min</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NextModifier</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">NextColorModifier</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">NextModifier</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_IsEscaped</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">NextModifier</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">FindTextModifierDelimiterOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NextModifier</span><span class="color" style="color: #ffffff;"> + 1;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">NextModifier</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/RegularText.html">RegularText</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewText</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">NewText</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Modifiers</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentTextModifier</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">NewText</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Color</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentTextColor</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">NewText</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Text</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_NormalizeText</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_UnescapeText</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">NextModifier</span><span class="color" style="color: #ffffff;">));</span><br><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewText</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NextModifier</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">NextModifier</span><span class="color" style="color: #ffffff;"> &gt;= </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">NextReferenceDeclaration</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">NextModifier</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextElement.html">TextElement</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewReference</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_ParseReference</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">, &amp;</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">NewReference</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetBase</span><span class="color" style="color: #ffffff;">().</span><span class="color" style="color: #ffffff;">Color</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentTextColor</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">NewReference</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetBase</span><span class="color" style="color: #ffffff;">().</span><span class="color" style="color: #ffffff;">Modifiers</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentTextModifier</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewReference</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">NextTextModifier</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">NextModifier</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">TextState</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewState</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_ParseTextState</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">NextTextModifier</span><span class="color" style="color: #ffffff;">, &amp;</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">CurrentTextColor</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NewState</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Color</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">CurrentTextModifier</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">TextModifier</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">uint64_t</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentTextModifier</span><span class="color" style="color: #ffffff;">) ^ </span><span class="color" style="color: #ffffff;">uint64_t</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewState</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Modifiers</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NextColorModifier</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">NextModifier</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">CurrentTextColor</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_ParseColorModifier</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">NextColorModifier</span><span class="color" style="color: #ffffff;">+1,&amp;</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentParsingContext.html">DocumentParsingContext</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_ParseMediaInclude</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LineRetriever.html">LineRetriever</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">make_unique</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/MediaInclude.html">MediaInclude</a></span><span class="color" style="color: #ffffff;">&gt;();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/MediaInclude.html">MediaInclude</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;"> = (</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/MediaInclude.html">MediaInclude</a></span><span class="color" style="color: #ffffff;">&amp;)*</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">IncludeString</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetLine</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">IncludeString</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = 0; </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">SkipWhitespace</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">IncludeString</span><span class="color" style="color: #ffffff;">,0,&amp;</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> + 1 &gt;= </span><span class="color" style="color: #00ffff;">IncludeString</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Invalid MediaInclude header: must start with !#"</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">IncludeString</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ff0000;">"!#"</span><span class="color" style="color: #ffffff;">,2) != 0)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Invalid MediaInclude header: must start with !#"</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> += 2;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">SkipWhitespace</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">IncludeString</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,&amp;</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &gt;= </span><span class="color" style="color: #00ffff;">IncludeString</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() || </span><span class="color" style="color: #00ffff;">IncludeString</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">] != '(')</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Invalid MediaInclude: Need delimitng ( and ending ) for path"</span><span class="color" style="color: #ffffff;">);  </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;">auto</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">EndIt</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">find</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">IncludeString</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">IncludeString</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(),')');</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">EndIt</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">IncludeString</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Invalid MediaInclude: Need delimitng ( and ending ) for path"</span><span class="color" style="color: #ffffff;">);  </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">MediaPath</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">IncludeString</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">+1,</span><span class="color" style="color: #00ffff;">EndIt</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentParsingContext.html">DocumentParsingContext</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_ParseCodeBlock</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LineRetriever.html">LineRetriever</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">make_unique</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/CodeBlock.html">CodeBlock</a></span><span class="color" style="color: #ffffff;">&gt;();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/CodeBlock.html">CodeBlock</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">NewCodeBlock</span><span class="color" style="color: #ffffff;"> = static_cast&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/CodeBlock.html">CodeBlock</a></span><span class="color" style="color: #ffffff;">&amp;&gt;(*</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">get</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CodeBlockHeader</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetLine</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CodeBlockHeader</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">SkipWhitespace</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CodeBlockHeader</span><span class="color" style="color: #ffffff;">, 0, &amp;</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> + 2 &gt;= </span><span class="color" style="color: #00ffff;">CodeBlockHeader</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() || </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CodeBlockHeader</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ff0000;">"```"</span><span class="color" style="color: #ffffff;">, 3) != 0)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Invalid code block header: must start with ```"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> + 4 &lt; </span><span class="color" style="color: #00ffff;">CodeBlockHeader</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">LastCodeName</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CodeBlockHeader</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find_last_not_of</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">" \t"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">LastCodeName</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #00ffff;">CodeBlockHeader</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #00ffff;">npos</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">NewCodeBlock</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">CodeType</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CodeBlockHeader</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">substr</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> + 3, </span><span class="color" style="color: #00ffff;">LastCodeName</span><span class="color" style="color: #ffffff;"> - (</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> + 2));</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">NewCodeBlock</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Content</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;"> (!</span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Finished</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewLine</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetLine</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewLine</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">SkipWhitespace</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewLine</span><span class="color" style="color: #ffffff;">, 0, &amp;</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> + 2 &lt; </span><span class="color" style="color: #00ffff;">NewLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &amp;&amp; </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ff0000;">"```"</span><span class="color" style="color: #ffffff;">, 3) == 0)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">get</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">NewCodeBlock</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Content</span><span class="color" style="color: #ffffff;">) += </span><span class="color" style="color: #00ffff;">NewLine</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">get</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">NewCodeBlock</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Content</span><span class="color" style="color: #ffffff;">).</span><span class="color" style="color: #ffff00;">insert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">get</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">NewCodeBlock</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Content</span><span class="color" style="color: #ffffff;">).</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(), '\n');</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">get</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">NewCodeBlock</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Content</span><span class="color" style="color: #ffffff;">).</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &gt; 0)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">get</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">NewCodeBlock</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Content</span><span class="color" style="color: #ffffff;">).</span><span class="color" style="color: #ffff00;">resize</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">get</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">NewCodeBlock</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Content</span><span class="color" style="color: #ffffff;">).</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() - 1);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><br><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentParsingContext.html">DocumentParsingContext</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_ParseTable</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ArgumentList.html">ArgumentList</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Arguments</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LineRetriever.html">LineRetriever</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Arguments</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">PositionalArgumentsCount</span><span class="color" style="color: #ffffff;">() &lt; 1)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Error parsing table: The first positional argument has to be the width of the table"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Width</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">try</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Width</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">stoi</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Arguments</span><span class="color" style="color: #ffffff;">[0]);         </span><br><span class="color" style="color: #ffffff;">        } </span><br><span class="color" style="color: #ffffff;">        catch(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">exception</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">e</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Error parsing table: Error parsing table width as integer"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">ColumnNames</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> = 1; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">Arguments</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">PositionalArgumentsCount</span><span class="color" style="color: #ffffff;">();</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">++)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ColumnNames</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Arguments</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">]);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ColumnNames</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() != 0 &amp;&amp; </span><span class="color" style="color: #00ffff;">ColumnNames</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() != </span><span class="color" style="color: #00ffff;">Width</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Error parsing table: All column must be given names as positional arguments if atleast one is specified"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TotalContent</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">TextElementData</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextElement.html">TextElement</a></span><span class="color" style="color: #ffffff;">&gt;&gt; </span><span class="color" style="color: #00ffff;">TableElements</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetLine</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">SkipWhitespace</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">,0,&amp;</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &amp;&amp; </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">compare</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,4,</span><span class="color" style="color: #ff0000;">"\\end"</span><span class="color" style="color: #ffffff;">) == 0)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">; </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">TotalContent</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">TotalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NextAmpersand</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">TotalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">('&amp;',</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NextAmpersand</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #00ffff;">TotalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #00ffff;">npos</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_IsEscaped</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TotalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">TotalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">NextAmpersand</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">NextAmpersand</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">TotalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">('&amp;',</span><span class="color" style="color: #00ffff;">NextAmpersand</span><span class="color" style="color: #ffffff;">+1);</span><br><span class="color" style="color: #ffffff;">                }   </span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NextAmpersand</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">TotalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #00ffff;">npos</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">TextElementData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TotalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">substr</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">TextElementData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_UnescapeText</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TotalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">TotalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">NextAmpersand</span><span class="color" style="color: #ffffff;">,'&amp;'));</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NextAmpersand</span><span class="color" style="color: #ffffff;">+1;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">TableElements</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">reserve</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TextElementData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TempOffset</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Text</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">TextElementData</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">TableElements</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">p_ParseTextElements</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Text</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">Text</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">(),0,&amp;</span><span class="color" style="color: #00ffff;">TempOffset</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">make_unique</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Table.html">Table</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ColumnNames</span><span class="color" style="color: #ffffff;">),</span><span class="color" style="color: #00ffff;">Width</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TableElements</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentParsingContext.html">DocumentParsingContext</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_ParseNamedBlockElement</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LineRetriever.html">LineRetriever</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">HeaderLine</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetLine</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">HeaderLine</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FirstSpace</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">HeaderLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">(' ');</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FirstSpace</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">HeaderLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #00ffff;">npos</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">FirstSpace</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">HeaderLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Name</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">HeaderLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+1,</span><span class="color" style="color: #00ffff;">HeaderLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">FirstSpace</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ArgumentList.html">ArgumentList</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Arguments</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_ParseArgumentList</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">HeaderLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">HeaderLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">FirstSpace</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Name</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ff0000;">"table"</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_ParseTable</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Arguments</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Unkown block element with name \"</span><span class="color" style="color: #ffffff;">"+</span><span class="color" style="color: #00ffff;">Name</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #ff0000;">"\"</span><span class="color" style="color: #ffffff;">");</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentParsingContext.html">DocumentParsingContext</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_ParseBlockElement</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LineRetriever.html">LineRetriever</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TotalParagraphData</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Finished</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">PeekLine</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() == 0)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">SkipWhitespace</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">,0,&amp;</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &lt;= </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">] == '</span><span class="color" style="color: #a020f0;">#')</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">] == '%')</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> + 1 &lt; </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ff0000;">"_#"</span><span class="color" style="color: #ffffff;">,2) == 0)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }   </span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ff0000;">"/#"</span><span class="color" style="color: #ffffff;">,2) == 0)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ff0000;">"/_"</span><span class="color" style="color: #ffffff;">,2) == 0)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ff0000;">"[["</span><span class="color" style="color: #ffffff;">,2) == 0)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">() + </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ff0000;">"#_"</span><span class="color" style="color: #ffffff;">, 2) == 0)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> + 2 &lt; </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">() + </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ff0000;">"```"</span><span class="color" style="color: #ffffff;">, 3) == 0) </span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">TotalParagraphData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &gt; 0) </span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_ParseCodeBlock</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> + 1 &lt; </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ff0000;">"!#"</span><span class="color" style="color: #ffffff;">,2) == 0)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TotalParagraphData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &gt; 0)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    }   </span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_ParseMediaInclude</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">);   </span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                } </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> + 1 &lt; </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">( </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">] == '\\' &amp;&amp; !(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ff0000;">"\\\\"</span><span class="color" style="color: #ffffff;">,2) == 0))</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TotalParagraphData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &gt; 0)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    }   </span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_ParseNamedBlockElement</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">);   </span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                } </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">TotalParagraphData</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #ff0000;">"\n"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">DiscardLine</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #a020f0;">assert</span><span class="color" style="color: #ffffff;">((</span><span class="color" style="color: #00ffff;">TotalParagraphData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &gt; 0) != (</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> != nullptr));</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TotalParagraphData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &gt; 0)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Paragraph.html">Paragraph</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">NewBlock</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">make_unique</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Paragraph.html">Paragraph</a></span><span class="color" style="color: #ffffff;">&gt;();</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">NewBlock</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">TextElements</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_ParseTextElements</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TotalParagraphData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">TotalParagraphData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">(),0,nullptr);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewBlock</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_NormalizeName</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">NameToNormalize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Start</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">SkipWhitespace</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NameToNormalize</span><span class="color" style="color: #ffffff;">, 0, &amp;</span><span class="color" style="color: #00ffff;">Start</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">End</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NameToNormalize</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find_last_not_of</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">" \t"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NameToNormalize</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">substr</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Start</span><span class="color" style="color: #ffffff;">, 1+</span><span class="color" style="color: #00ffff;">End</span><span class="color" style="color: #ffffff;"> - </span><span class="color" style="color: #00ffff;">Start</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ArgumentList.html">ArgumentList</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentParsingContext.html">DocumentParsingContext</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_ParseArgumentList</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">InOffset</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ArgumentList.html">ArgumentList</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">InOffset</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;"> = (</span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">*)</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">MBError</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseResult</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">SkipWhitespace</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">, &amp;</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">] == '\"')</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">AddArgument</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">ParseQuotedString</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">, &amp;</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,&amp;</span><span class="color" style="color: #00ffff;">ParseResult</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (!</span><span class="color" style="color: #00ffff;">ParseResult</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"invalid quoted string in directive argument list: "</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">ParseResult</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ErrorMessage</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NamedEnd</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">GetNextDelimiterPosition</a></span><span class="color" style="color: #ffffff;">({ ' ','\t' }, </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Name</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">NamedEnd</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">SkipWhitespace</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">NamedEnd</span><span class="color" style="color: #ffffff;">, &amp;</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;"> &amp;&amp; </span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">] == '=')</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Value</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">SkipWhitespace</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">+1, &amp;</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &gt;= </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Invalid named argument in argument list: no argument value provided"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">] == '"')</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">Value</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">ParseQuotedString</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">, &amp;</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,&amp;</span><span class="color" style="color: #00ffff;">ParseResult</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (!</span><span class="color" style="color: #00ffff;">ParseResult</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">                        {</span><br><span class="color" style="color: #ffffff;">                            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Invalid string in named argument value: "</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">ParseResult</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ErrorMessage</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                        }</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ValueEnd</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">GetNextDelimiterPosition</a></span><span class="color" style="color: #ffffff;">({ ' ','\t' }, </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">Value</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CharData</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">ValueEnd</span><span class="color" style="color: #ffffff;"> - </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ValueEnd</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">AddArgument</span><span class="color" style="color: #ffffff;">({ </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Name</span><span class="color" style="color: #ffffff;">),</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Value</span><span class="color" style="color: #ffffff;">) });</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">AddArgument</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Name</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">SkipWhitespace</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">, &amp;</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Directive.html">Directive</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentParsingContext.html">DocumentParsingContext</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_ParseDirective</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LineRetriever.html">LineRetriever</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Directive.html">Directive</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetLine</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NameBegin</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">('%');</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NameEnd</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">GetNextDelimiterPosition</a></span><span class="color" style="color: #ffffff;">({ ' ','\t' },</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">NameBegin</span><span class="color" style="color: #ffffff;">+1);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectiveName</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">substr</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NameBegin</span><span class="color" style="color: #ffffff;"> + 1,</span><span class="color" style="color: #00ffff;">NameEnd</span><span class="color" style="color: #ffffff;">-</span><span class="color" style="color: #00ffff;">NameBegin</span><span class="color" style="color: #ffffff;">-1);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Arguments</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_ParseArgumentList</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(), </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">(), </span><span class="color" style="color: #00ffff;">NameEnd</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/AttributeList.html">AttributeList</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentParsingContext.html">DocumentParsingContext</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_ParseAttributeList</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LineRetriever.html">LineRetriever</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/AttributeList.html">AttributeList</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">PeekLine</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">DiscardLine</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">SkipWhitespace</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">, 0, &amp;</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> + 4 &gt;= </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Invalid attribute list: must begin with [[ and end with ]]"</span><span class="color" style="color: #ffffff;">);   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ff0000;">"[["</span><span class="color" style="color: #ffffff;">,2) != 0)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Invalid attribute list: must begin with [[ and end with ]]"</span><span class="color" style="color: #ffffff;">);   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">AttributesEnd</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"]]"</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> + 2);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">AttributesEnd</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #00ffff;">npos</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Invalid attribute list: must begin with [[ and end with ]]"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">AttributesData</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">substr</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">+2,</span><span class="color" style="color: #00ffff;">AttributesEnd</span><span class="color" style="color: #ffffff;">-</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">-2);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">Flags</span><span class="color" style="color: #ffffff;"> =</span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">Split</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">AttributesData</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ff0000;">","</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Flag</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">Flags</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">AddAttribute</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Flag</span><span class="color" style="color: #ffffff;">);   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);   </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    enum class </span><span class="color" style="color: #ffffff;">i_FormatType</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">Null</span><span class="color" style="color: #ffffff;">,</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">Regular</span><span class="color" style="color: #ffffff;">,</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">SubFormat</span><span class="color" style="color: #ffffff;">,</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">TopSubFormat</span><span class="color" style="color: #ffffff;">      </span><br><span class="color" style="color: #ffffff;">    };</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentParsingContext.html">DocumentParsingContext</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_ParseFormatElement</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LineRetriever.html">LineRetriever</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/AttributeList.html">AttributeList</a></span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">OutAttributes</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElement.html">FormatElement</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TopFormat</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentElementCount</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">i_FormatType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Type</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">i_FormatType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Null</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Finished</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">PeekLine</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() == 0)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">DiscardLine</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">            }   </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FirstNonEmptyCharacter</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">SkipWhitespace</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">,0,&amp;</span><span class="color" style="color: #00ffff;">FirstNonEmptyCharacter</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FirstNonEmptyCharacter</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">DiscardLine</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">continue</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FirstNonEmptyCharacter</span><span class="color" style="color: #ffffff;">+1 &lt; </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &amp;&amp; </span><br><span class="color" style="color: #ffffff;">                    (</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(&amp;</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">FirstNonEmptyCharacter</span><span class="color" style="color: #ffffff;">],</span><span class="color" style="color: #ff0000;">"/_"</span><span class="color" style="color: #ffffff;">,2) == 0 || </span><br><span class="color" style="color: #ffffff;">                     </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(&amp;</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">FirstNonEmptyCharacter</span><span class="color" style="color: #ffffff;">],</span><span class="color" style="color: #ff0000;">"/#"</span><span class="color" style="color: #ffffff;">,2) == 0))</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(&amp;</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">FirstNonEmptyCharacter</span><span class="color" style="color: #ffffff;">],</span><span class="color" style="color: #ff0000;">"/_"</span><span class="color" style="color: #ffffff;">,2) == 0)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Missmatched #_ /_ pair"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(&amp;</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">FirstNonEmptyCharacter</span><span class="color" style="color: #ffffff;">],</span><span class="color" style="color: #ff0000;">"/#"</span><span class="color" style="color: #ffffff;">,2) == 0)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Missmatched _# /# pair"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">FirstNonEmptyCharacter</span><span class="color" style="color: #ffffff;">] == '#' || </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">FirstNonEmptyCharacter</span><span class="color" style="color: #ffffff;">] == '_')</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">Type</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">i_FormatType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Regular</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">FirstNonEmptyCharacter</span><span class="color" style="color: #ffffff;">] == '_')</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">Type</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">i_FormatType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">SubFormat</span><span class="color" style="color: #ffffff;">; </span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FirstNonEmptyCharacter</span><span class="color" style="color: #ffffff;">+1 &lt; </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &amp;&amp; </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">FirstNonEmptyCharacter</span><span class="color" style="color: #ffffff;">+1] == '_')</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">Type</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">i_FormatType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">TopSubFormat</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">FirstNonEmptyCharacter</span><span class="color" style="color: #ffffff;">+=1; </span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">FirstNonEmptyCharacter</span><span class="color" style="color: #ffffff;">] == '_')</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">FirstNonEmptyCharacter</span><span class="color" style="color: #ffffff;"> += 1;</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FirstNameCharacter</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">SkipWhitespace</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">FirstNonEmptyCharacter</span><span class="color" style="color: #ffffff;"> + 1, &amp;</span><span class="color" style="color: #00ffff;">FirstNameCharacter</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">TopFormat</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_NormalizeName</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">substr</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FirstNameCharacter</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TopFormat</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &gt; 0 &amp;&amp; </span><span class="color" style="color: #00ffff;">TopFormat</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;">[0] == '.')</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewName</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">TopFormat</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">substr</span><span class="color" style="color: #ffffff;">(1);   </span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">TopFormat</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NewName</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">TopFormat</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Attributes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">AddAttribute</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewName</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TopFormat</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ff0000;">""</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Invalid format element name, empty string not allowed"</span><span class="color" style="color: #ffffff;">);   </span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">DiscardLine</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/AttributeList.html">AttributeList</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentAttributes</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Finished</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">PeekLine</span><span class="color" style="color: #ffffff;">().</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() == 0)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">DiscardLine</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">continue</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">PeekLine</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">SkipWhitespace</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">,0,&amp;</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &lt;= </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">DiscardLine</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">continue</span><span class="color" style="color: #ffffff;">;     </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseChildFormat</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">] == '#' &amp;&amp; </span><span class="color" style="color: #00ffff;">Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">i_FormatType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Regular</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">] == '</span><span class="color" style="color: #a020f0;">#')</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ParseChildFormat</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> + 1 &lt; </span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ff0000;">"/#"</span><span class="color" style="color: #ffffff;">,2) == 0)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">i_FormatType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Regular</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Type</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #ffffff;">i_FormatType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">SubFormat</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Missmatched _# /# pair"</span><span class="color" style="color: #ffffff;">);    </span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">DiscardLine</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">() + </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ff0000;">"/_"</span><span class="color" style="color: #ffffff;">, 2) == 0)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">i_FormatType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Regular</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">Type</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #ffffff;">i_FormatType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">TopSubFormat</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Missmatched #_ /_ pair"</span><span class="color" style="color: #ffffff;">);    </span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">DiscardLine</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ff0000;">"[["</span><span class="color" style="color: #ffffff;">,2) == 0)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">CurrentAttributes</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_ParseAttributeList</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">continue</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ff0000;">"_#"</span><span class="color" style="color: #ffffff;">,2) == 0)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ParseChildFormat</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">memcmp</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">() + </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ff0000;">"#_"</span><span class="color" style="color: #ffffff;">, 2) == 0)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">i_FormatType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Regular</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ParseChildFormat</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">ParseChildFormat</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/AttributeList.html">AttributeList</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewAttributes</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewFormat</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_ParseFormatElement</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">,&amp;</span><span class="color" style="color: #00ffff;">NewAttributes</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">CurrentAttributes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">IsEmpty</span><span class="color" style="color: #ffffff;">() == false)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">NewFormat</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">SetAttributes</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentAttributes</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">CurrentAttributes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Clear</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">TopFormat</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Contents</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewFormat</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">NewAttributes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">IsEmpty</span><span class="color" style="color: #ffffff;">() == false)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">CurrentAttributes</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NewAttributes</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">CurrentElementCount</span><span class="color" style="color: #ffffff;">++;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">continue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">CurrentLine</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">] == '%')</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentAttributes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">IsEmpty</span><span class="color" style="color: #ffffff;">() == false)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Attribute list not allowed for directives"</span><span class="color" style="color: #ffffff;">);   </span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">Type</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #ffffff;">i_FormatType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Null</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">TopFormat</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Contents</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">p_ParseDirective</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">)));</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">CurrentElementCount</span><span class="color" style="color: #ffffff;"> += 1;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">continue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">p_ParseDirective</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">NewBlockElement</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_ParseBlockElement</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentAttributes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">IsEmpty</span><span class="color" style="color: #ffffff;">() == false)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">NewBlockElement</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">Attributes</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentAttributes</span><span class="color" style="color: #ffffff;">; </span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">CurrentAttributes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Clear</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Type</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #ffffff;">i_FormatType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Null</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">TopFormat</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Contents</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewBlockElement</span><span class="color" style="color: #ffffff;">)));</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">CurrentElementCount</span><span class="color" style="color: #ffffff;"> += 1; </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewBlockElement</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        *</span><span class="color" style="color: #00ffff;">OutAttributes</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentAttributes</span><span class="color" style="color: #ffffff;">;</span><br><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Type</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #ffffff;">i_FormatType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Null</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TopFormat</span><span class="color" style="color: #ffffff;">);    </span><br><span class="color" style="color: #ffffff;">        }</span><br><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);    </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);   </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentParsingContext.html">DocumentParsingContext</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_ParseFormatElements</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LineRetriever.html">LineRetriever</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/AttributeList.html">AttributeList</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentAttributes</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Finished</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/AttributeList.html">AttributeList</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewAttributes</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">p_ParseFormatElement</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">,&amp;</span><span class="color" style="color: #00ffff;">NewAttributes</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">back</span><span class="color" style="color: #ffffff;">().</span><span class="color" style="color: #ffff00;">GetType</span><span class="color" style="color: #ffffff;">() == </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Null</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">pop_back</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentAttributes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">IsEmpty</span><span class="color" style="color: #ffffff;">() == false)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">back</span><span class="color" style="color: #ffffff;">().</span><span class="color" style="color: #ffff00;">SetAttributes</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentAttributes</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">CurrentAttributes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Clear</span><span class="color" style="color: #ffffff;">();   </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewAttributes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">IsEmpty</span><span class="color" style="color: #ffffff;">() == false)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">CurrentAttributes</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewAttributes</span><span class="color" style="color: #ffffff;">);  </span><br><span class="color" style="color: #ffffff;">            } </span><br><span class="color" style="color: #ffffff;">        } </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);   </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentParsingContext.html">DocumentParsingContext</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">ReferenceExtractor</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">EnterFormat</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElement.html">FormatElement</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Format</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">Targets</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">insert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Format</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentParsingContext.html">DocumentParsingContext</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">ReferenceExtractor</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/UnresolvedReference.html">UnresolvedReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Ref</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">References</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">insert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Ref</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ReferenceString</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">    }</span><br><br><span class="color" style="color: #ffffff;">    </span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LabelNode</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_ExtractLabelNode</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElement.html">FormatElement</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ElementToConvert</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LabelNode</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ElementToConvert</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Child</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">ElementToConvert</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Contents</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Child</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetType</span><span class="color" style="color: #ffffff;">() == </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Format</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Children</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_ExtractLabelNode</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Child</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetFormatData</span><span class="color" style="color: #ffffff;">()));</span><br><span class="color" style="color: #ffffff;">            }   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">sort</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Children</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Children</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LabelNode</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_GetDocumentLabelNodes</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">&gt;  </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">SourceToConvert</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LabelNode</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Element</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">SourceToConvert</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Element</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetType</span><span class="color" style="color: #ffffff;">() == </span><span class="color" style="color: #ffffff;">FormatComponentType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Format</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_ExtractLabelNode</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Element</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetFormatData</span><span class="color" style="color: #ffffff;">()));</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">FlatLabelNode</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_UpdateFlatNodeList</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">FlatLabelNode</a></span><span class="color" style="color: #ffffff;">&gt;&amp; </span><span class="color" style="color: #00ffff;">OutNodes</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LabelNode</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">NodeToFlatten</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">FlatLabelNode</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NodeToFlatten</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ChildrenBegin</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">OutNodes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ChildrenEnd</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ChildrenBegin</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">NodeToFlatten</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Children</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">OutNodes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">resize</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">OutNodes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">NodeToFlatten</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Children</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">LabelNodeIndex</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentChildIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ChildrenBegin</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Child</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">NodeToFlatten</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Children</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">FlatLabelNode</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewNode</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_UpdateFlatNodeList</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">OutNodes</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Child</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">OutNodes</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">CurrentChildIndex</span><span class="color" style="color: #ffffff;">] = </span><span class="color" style="color: #00ffff;">NewNode</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">CurrentChildIndex</span><span class="color" style="color: #ffffff;">++;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">FlatLabelNode</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_GetFlatLabelNodes</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LabelNode</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">NodeToConvert</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">FlatLabelNode</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">sort</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NodeToConvert</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">NodeToConvert</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(),[](</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LabelNode</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">lhs</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LabelNode</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">rhs</span><span class="color" style="color: #ffffff;">) -&gt; </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> {</span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">lhs</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">rhs</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;">);});</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LabelNode</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TopNode</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">TopNode</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Children</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NodeToConvert</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">resize</span><span class="color" style="color: #ffffff;">(1);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">FlatLabelNode</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FlatTopNode</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_UpdateFlatNodeList</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">TopNode</span><span class="color" style="color: #ffffff;">);;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">[0] = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FlatTopNode</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_ContainsLabel</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">LabelNodeIndex</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NodeIndex</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Labels</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">LabelIndex</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = false;       </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #a020f0;">assert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NodeIndex</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #ffffff;">m_Nodes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">FlatLabelNode</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">NodeToInspect</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_Nodes</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">NodeIndex</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">NameToSearch</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Labels</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">LabelIndex</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">LabelNodeIndex</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FirstMatching</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">lower_bound</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_Nodes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">NodeToInspect</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ChildrenBegin</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">m_Nodes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">NodeToInspect</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ChildrenEnd</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">NameToSearch</span><span class="color" style="color: #ffffff;">,</span><br><span class="color" style="color: #ffffff;">                [](</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">FlatLabelNode</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">lhs</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">rhs</span><span class="color" style="color: #ffffff;">) -&gt; </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> {</span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">lhs</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">rhs</span><span class="color" style="color: #ffffff;">);})-</span><span class="color" style="color: #ffffff;">m_Nodes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FirstMatching</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">NodeToInspect</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ChildrenEnd</span><span class="color" style="color: #ffffff;"> || </span><span class="color" style="color: #ffffff;">m_Nodes</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">FirstMatching</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #00ffff;">NameToSearch</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(false);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #a020f0;">assert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Labels</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() != 0);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LabelIndex</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">Labels</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() -1)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(true);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FirstMatching</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">NodeToInspect</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ChildrenEnd</span><span class="color" style="color: #ffffff;"> &amp;&amp; </span><span class="color" style="color: #ffffff;">m_Nodes</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">FirstMatching</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">NameToSearch</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">HasSubmatch</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_ContainsLabel</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FirstMatching</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Labels</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">LabelIndex</span><span class="color" style="color: #ffffff;">+1);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">HasSubmatch</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">FirstMatching</span><span class="color" style="color: #ffffff;">++;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">ContainsLabels</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Labels</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Labels</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() == 0)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(false);   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">p_ContainsLabel</span><span class="color" style="color: #ffffff;">(0,</span><span class="color" style="color: #00ffff;">Labels</span><span class="color" style="color: #ffffff;">,0));  </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">()</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">           </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElementComponent.html">FormatElementComponent</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">FormatsToInspect</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_Nodes</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_GetFlatLabelNodes</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_GetDocumentLabelNodes</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FormatsToInspect</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">    }</span><br><br><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentParsingContext.html">DocumentParsingContext</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_UpdateReferences</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentSource.html">DocumentSource</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">SourceToModify</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Traverser</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">ReferenceExtractor</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Extractor</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">Traverser</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Traverse</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SourceToModify</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Extractor</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">SourceToModify</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">References</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Extractor</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">References</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">SourceToModify</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ReferenceTargets</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ReferenceTargetsResolver.html">ReferenceTargetsResolver</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SourceToModify</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Contents</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentSource.html">DocumentSource</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentParsingContext.html">DocumentParsingContext</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">ParseSource</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../../../MBUtility/Code/Classes/MBOctetInputStream.html">MBOctetInputStream</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">InputStream</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FileName</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">MBError</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentSource.html">DocumentSource</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FileName</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LineRetriever.html">LineRetriever</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">(&amp;</span><span class="color" style="color: #00ffff;">InputStream</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">try</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Contents</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_ParseFormatElements</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Retriever</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_UpdateReferences</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }  </span><br><span class="color" style="color: #ffffff;">        catch(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">exception</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">e</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentSource.html">DocumentSource</a></span><span class="color" style="color: #ffffff;">(); </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ErrorMessage</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"Error parsing document: "</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">e</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">what</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentSource.html">DocumentSource</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentParsingContext.html">DocumentParsingContext</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">ParseSource</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">path</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">InputFile</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">MBError</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">ifstream</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FileStream</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">InputFile</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">c_str</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">FileStream</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">is_open</span><span class="color" style="color: #ffffff;">() == false)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ErrorMessage</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"Can't open file"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentSource.html">DocumentSource</a></span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../../../MBUtility/Code/Classes/MBFileInputStream.html">MBFileInputStream</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">InputStream</span><span class="color" style="color: #ffffff;">(&amp;</span><span class="color" style="color: #00ffff;">FileStream</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentSource.html">DocumentSource</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">ParseSource</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">InputStream</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ffffff;">MBUnicode</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">PathToUTF8</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">InputFile</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">filename</span><span class="color" style="color: #ffffff;">()), </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Path</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">InputFile</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentSource.html">DocumentSource</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentParsingContext.html">DocumentParsingContext</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">ParseSource</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FileName</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">MBError</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../../../MBUtility/Code/Classes/MBBufferInputStream.html">MBBufferInputStream</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">BufferStream</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">DataSize</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">ParseSource</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">BufferStream</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FileName</span><span class="color" style="color: #ffffff;">),</span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">    }</span><br><br><span class="color" style="color: #ffffff;">    </span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentBuild.html">DocumentBuild</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_CreateBuildFromDirectory</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentBuild.html">DocumentBuild</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">OutBuild</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">path</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">DirPath</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">directory_iterator</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DirIterator</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DirPath</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Entry</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">DirIterator</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Entry</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">is_regular_file</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Entry</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">path</span><span class="color" style="color: #ffffff;">().</span><span class="color" style="color: #ffff00;">extension</span><span class="color" style="color: #ffffff;">() == </span><span class="color" style="color: #ff0000;">".mbd"</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">OutBuild</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryFiles</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Entry</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">path</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Entry</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">is_directory</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentBuild.html">DocumentBuild</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewBuild</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_CreateBuildFromDirectory</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewBuild</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Entry</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">path</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">OutBuild</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">SubDirectories</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">make_pair</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">MBUnicode</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">PathToUTF8</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Entry</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">path</span><span class="color" style="color: #ffffff;">().</span><span class="color" style="color: #ffff00;">filename</span><span class="color" style="color: #ffffff;">()),</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewBuild</span><span class="color" style="color: #ffffff;">)));</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">sort</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">OutBuild</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryFiles</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">OutBuild</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryFiles</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">sort</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">OutBuild</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">SubDirectories</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">OutBuild</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">SubDirectories</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(),[](</span><span class="color" style="color: #ffffff;">auto</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Lhs</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">auto</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Rhs</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Lhs</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">first</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">Rhs</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">first</span><span class="color" style="color: #ffffff;">);  </span><br><span class="color" style="color: #ffffff;">                });</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentBuild.html">DocumentBuild</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_ParseDocumentBuildDirectory</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentBuild.html">DocumentBuild</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">OutBuild</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">JSONObject</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">DirectoryObject</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">path</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">BuildDirectory</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">MBError</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DirectoryObject</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">HasAttribute</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"MountDir"</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DirectoryObject</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">HasAttribute</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Files"</span><span class="color" style="color: #ffffff;">) || </span><span class="color" style="color: #00ffff;">DirectoryObject</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">HasAttribute</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"SubDirectories"</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"The inclusion of 'MountDir' is mutally exlusive with both 'Files' and 'SubDirectories'"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">JSONObject</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">MountDir</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">DirectoryObject</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #ff0000;">"MountDir"</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">MountDir</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetType</span><span class="color" style="color: #ffffff;">() != </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">JSONObjectType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">String</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"'MountDir' Attribute has to be a string"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">path</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">PathToInspect</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">BuildDirectory</span><span class="color" style="color: #ffffff;">/</span><span class="color" style="color: #00ffff;">MountDir</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetStringData</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">is_directory</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">PathToInspect</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"The directory "</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #ffffff;">MBUnicode</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">PathToUTF8</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">PathToInspect</span><span class="color" style="color: #ffffff;">)+</span><span class="color" style="color: #ff0000;">" isn't a directory, which is required by 'MountDir'"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_CreateBuildFromDirectory</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">OutBuild</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">PathToInspect</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DirectoryObject</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">HasAttribute</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Files"</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">JSONObject</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Object</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">DirectoryObject</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #ff0000;">"Files"</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffff00;">GetArrayData</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentString</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Object</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetStringData</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">CurrentString</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() == 0)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ErrorMessage</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"Empty source name not allowed"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">CurrentString</span><span class="color" style="color: #ffffff;">[0] == '/')</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ErrorMessage</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"Invalid source name \"</span><span class="color" style="color: #ffffff;">" + </span><span class="color" style="color: #00ffff;">CurrentString</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #ff0000;">"\"</span><span class="color" style="color: #ffffff;">: Only relative paths allowed";</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">OutBuild</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryFiles</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">BuildDirectory</span><span class="color" style="color: #ffffff;">/</span><span class="color" style="color: #00ffff;">CurrentString</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (!</span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DirectoryObject</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">HasAttribute</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"SubDirectories"</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">JSONObject</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">SubDirectories</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">DirectoryObject</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #ff0000;">"SubDirectories"</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">SubDirSpecifier</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">SubDirectories</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetMapData</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">JSONObject</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">SubDirData</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">SubDirSpecifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">second</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentBuild.html">DocumentBuild</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewSubDir</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SubDirData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetType</span><span class="color" style="color: #ffffff;">() == </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">JSONObjectType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">String</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">NewSubDir</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">ParseDocumentBuild</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">BuildDirectory</span><span class="color" style="color: #ffffff;">/</span><span class="color" style="color: #00ffff;">SubDirData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetStringData</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_ParseDocumentBuildDirectory</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewSubDir</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">SubDirData</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">BuildDirectory</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">);  </span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">OutBuild</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">SubDirectories</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">pair</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentBuild.html">DocumentBuild</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">SubDirSpecifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">first</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewSubDir</span><span class="color" style="color: #ffffff;">)));</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentBuild.html">DocumentBuild</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetTotalFiles</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = 0;    </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ffffff;">DirectoryFiles</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">SubDir</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #ffffff;">SubDirectories</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #00ffff;">SubDir</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">second</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetTotalFiles</span><span class="color" style="color: #ffffff;">(); </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentBuild.html">DocumentBuild</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentBuild.html">DocumentBuild</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">ParseDocumentBuild</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../../../MBUtility/Code/Classes/MBOctetInputStream.html">MBOctetInputStream</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">InputStream</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">path</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">BuildDirectory</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">MBError</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentBuild.html">DocumentBuild</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TotalFileData</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(true)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">expr </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReadChunkSize</span><span class="color" style="color: #ffffff;"> = 4096;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">uint8_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReadBuffer</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ReadChunkSize</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReadBytes</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">InputStream</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Read</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReadBuffer</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">ReadChunkSize</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">TotalFileData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">insert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TotalFileData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">ReadBuffer</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">ReadBuffer</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">ReadBytes</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReadBytes</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">ReadChunkSize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">JSONObject</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">JSONData</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">ParseJSONObject</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TotalFileData</span><span class="color" style="color: #ffffff;">,0,nullptr,&amp;</span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">try</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">JSONObject</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">TopDirectory</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">JSONData</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #ff0000;">"TopDirectory"</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_ParseDocumentBuildDirectory</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">TopDirectory</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">BuildDirectory</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        catch(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">exception</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">e</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ErrorMessage</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"Error parsing MBDocBuild: "</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">e</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">what</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">    }</span><br><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentBuild.html">DocumentBuild</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentBuild.html">DocumentBuild</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">ParseDocumentBuild</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">path</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">FilePath</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">MBError</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentBuild.html">DocumentBuild</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">exists</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FilePath</span><span class="color" style="color: #ffffff;">) || !</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">is_regular_file</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FilePath</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ErrorMessage</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"Filepath doesn't exist or isn't a file"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../../../MBUtility/Code/Classes/MBFileInputStream.html">MBFileInputStream</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FileInput</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">ifstream</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FilePath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">c_str</span><span class="color" style="color: #ffffff;">()));</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">ParseDocumentBuild</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FileInput</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">FilePath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">parent_path</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">GetRelativePath</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">TargetPath</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">CurrentPath</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">TargetPath</span><span class="color" style="color: #ffffff;">[0] != </span><span class="color" style="color: #ff0000;">"/"</span><span class="color" style="color: #ffffff;"> || </span><span class="color" style="color: #00ffff;">CurrentPath</span><span class="color" style="color: #ffffff;">[0] != </span><span class="color" style="color: #ff0000;">"/"</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CommonDirectoryPrefix</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> = 0; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">min</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TargetPath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">ComponentCount</span><span class="color" style="color: #ffffff;">(), </span><span class="color" style="color: #00ffff;">CurrentPath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">ComponentCount</span><span class="color" style="color: #ffffff;">());</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">++)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">TargetPath</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">] == </span><span class="color" style="color: #00ffff;">CurrentPath</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">])</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">CommonDirectoryPrefix</span><span class="color" style="color: #ffffff;"> += 1;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> = 0; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentPath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">ComponentCount</span><span class="color" style="color: #ffffff;">()) - 1 - </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CommonDirectoryPrefix</span><span class="color" style="color: #ffffff;">); </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">++)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">AddDirectory</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">".."</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CommonDirectoryPrefix</span><span class="color" style="color: #ffffff;">; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">TargetPath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">ComponentCount</span><span class="color" style="color: #ffffff;">(); </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">++)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">AddDirectory</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TargetPath</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">]);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">SetPartIdentifier</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TargetPath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetPartIdentifier</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);        </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">IsSubPath</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">PathToCompare</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = true;</span><br><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetString</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Name</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #ffffff;">m_PathComponents</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #00ffff;">Name</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">Name</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #ff0000;">"/"</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">"/"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &gt; 0 &amp;&amp; </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() != 1)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">resize</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() - 1);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">ComponentCount</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_PathComponents</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">    }</span><br><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;">::operator[](</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ComponentIndex</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_PathComponents</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ComponentIndex</span><span class="color" style="color: #ffffff;">]); </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;">::operator==(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">PathToCompare</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_PartIdentifier</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">PathToCompare</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">m_PartIdentifier</span><span class="color" style="color: #ffffff;"> &amp;&amp; </span><span class="color" style="color: #ffffff;">m_PathComponents</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">PathToCompare</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">m_PathComponents</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;">::operator!=(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">PathToCompare</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(!(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">PathToCompare</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;">::operator&lt;(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">OtherPath</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">IsEqual</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">m_PathComponents</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() == 1 &amp;&amp; </span><span class="color" style="color: #00ffff;">OtherPath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">ComponentCount</span><span class="color" style="color: #ffffff;">() &gt; 1) </span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(true);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">m_PathComponents</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &gt; 1 &amp;&amp; </span><span class="color" style="color: #00ffff;">OtherPath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">ComponentCount</span><span class="color" style="color: #ffffff;">() == 1) </span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(false);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> = 0; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">min</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_PathComponents</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">OtherPath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">m_PathComponents</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">++)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_PathComponents</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">] &lt; </span><span class="color" style="color: #00ffff;">OtherPath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">m_PathComponents</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">])</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">IsEqual</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;  </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">IsEqual</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;  </span><br><span class="color" style="color: #ffffff;">            } </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">IsEqual</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">ComponentCount</span><span class="color" style="color: #ffffff;">() &lt; </span><span class="color" style="color: #00ffff;">OtherPath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">ComponentCount</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">ParsePath</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">PathToParse</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">MBError</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">Components</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">Split</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">PathToParse</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ff0000;">"/"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">PathToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &gt; 0 &amp;&amp; </span><span class="color" style="color: #00ffff;">PathToParse</span><span class="color" style="color: #ffffff;">[0] == '/') </span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Components</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">insert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Components</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(), </span><span class="color" style="color: #ff0000;">"/"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Component</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">Components</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Component</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ff0000;">""</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">continue</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">AddDirectory</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Component</span><span class="color" style="color: #ffffff;">));   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">AddDirectory</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">StringToAdd</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_PathComponents</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">StringToAdd</span><span class="color" style="color: #ffffff;">));        </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">PopDirectory</span><span class="color" style="color: #ffffff;">()</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_PathComponents</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &gt; 0)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_PathComponents</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">resize</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_PathComponents</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">()-1);   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Empty</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_PathComponents</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() == 0 &amp;&amp; </span><span class="color" style="color: #ffffff;">m_PartIdentifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() == 0);   </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">SetPartIdentifier</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">PartSpecifier</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_PartIdentifier</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">PartSpecifier</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetPartIdentifier</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_PartIdentifier</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentReference.html">DocumentReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentReference.html">DocumentReference</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">ParseReference</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">MBError</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentReference.html">DocumentReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">LastSlash</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find_last_of</span><span class="color" style="color: #ffffff;">('/');</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">LastBracket</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">min</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find_last_of</span><span class="color" style="color: #ffffff;">('{'),</span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find_last_of</span><span class="color" style="color: #ffffff;">('}'));</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FirstHashTag</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">('</span><span class="color" style="color: #a020f0;">#');</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FirstHashTag</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #00ffff;">npos</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">((</span><span class="color" style="color: #00ffff;">FirstHashTag</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">LastSlash</span><span class="color" style="color: #ffffff;"> &amp;&amp; </span><span class="color" style="color: #00ffff;">LastSlash</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #00ffff;">npos</span><span class="color" style="color: #ffffff;">) || (</span><span class="color" style="color: #00ffff;">FirstHashTag</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">LastBracket</span><span class="color" style="color: #ffffff;"> &amp;&amp; </span><span class="color" style="color: #00ffff;">LastBracket</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #00ffff;">npos</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ErrorMessage</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"Path specifier is not allowed after the part specifier"</span><span class="color" style="color: #ffffff;">; </span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            } </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PartSpecifier</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">Split</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">substr</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FirstHashTag</span><span class="color" style="color: #ffffff;">+1),</span><span class="color" style="color: #ff0000;">"#"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">resize</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FirstHashTag</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">MBParsing</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">SkipWhitespace</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,&amp;</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &amp;&amp; </span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">] == '/')</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/PathSpecifier.html">PathSpecifier</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewSpecifier</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">NewSpecifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathNames</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"/"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathSpecifiers</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewSpecifier</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> += 1;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/PathSpecifier.html">PathSpecifier</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentSpecifier</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NextDelimiter</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">min</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">('/',</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">),</span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">('{',</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FSName</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">substr</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">NextDelimiter</span><span class="color" style="color: #ffffff;">-</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);</span><br><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FSName</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #ff0000;">""</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">CurrentSpecifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathNames</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">substr</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">NextDelimiter</span><span class="color" style="color: #ffffff;">-</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NextDelimiter</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #00ffff;">npos</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NextDelimiter</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">] == '/')</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">+=1;   </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> += 1;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentSpecifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathNames</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &gt; 0)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathSpecifiers</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &gt; 0)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"There can only be 1 absolute path specifier"</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathSpecifiers</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentSpecifier</span><span class="color" style="color: #ffffff;">));     </span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">CurrentSpecifier</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/PathSpecifier.html">PathSpecifier</a></span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">AnyRootDelimiter</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">('}',</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);     </span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">AnyRootDelimiter</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #00ffff;">npos</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ErrorMessage</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"No delimiting } found when parsing path specifier"</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">SpecifierData</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">StringToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">substr</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">AnyRootDelimiter</span><span class="color" style="color: #ffffff;">-</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">);  </span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SpecifierData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">('{') != </span><span class="color" style="color: #00ffff;">SpecifierData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #00ffff;">npos</span><span class="color" style="color: #ffffff;"> || </span><span class="color" style="color: #00ffff;">SpecifierData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">('}') != </span><span class="color" style="color: #00ffff;">SpecifierData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #00ffff;">npos</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ErrorMessage</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"Nested AnyRoot specifiers not allowed"</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/PathSpecifier.html">PathSpecifier</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">AnyRootSpecifier</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">AnyRootSpecifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">AnyRoot</span><span class="color" style="color: #ffffff;"> = true;  </span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">PathNames</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">Split</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SpecifierData</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ff0000;">"/"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Path</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">PathNames</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Path</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ff0000;">""</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">continue</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">AnyRootSpecifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathNames</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Path</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">AnyRootSpecifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathNames</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() == 0)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">OutError</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ErrorMessage</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"Can't specify empty AnyRoot specifier"</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathSpecifiers</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">AnyRootSpecifier</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">AnyRootDelimiter</span><span class="color" style="color: #ffffff;">+1;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">CurrentSpecifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathNames</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &gt; 0)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathSpecifiers</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentSpecifier</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">    }</span><br><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DirectoryRoot</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">DirectoryRoot</span><span class="color" style="color: #ffffff;">; </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_OptionalDirectoryRoot</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">DirectoryRoot</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetCurrentDirectoryIndex</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;">);   </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetCurrentFileIndex</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DirectoryFilePosition</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">CalculateDepth</span><span class="color" style="color: #ffffff;">()</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentDirectoryInfo.html">DocumentDirectoryInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">CurrentInfo</span><span class="color" style="color: #ffffff;"> = &amp;</span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #ffffff;">m_CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">CurrentInfo</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">ParentDirectoryIndex</span><span class="color" style="color: #ffffff;"> != -1)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_CurrentDepth</span><span class="color" style="color: #ffffff;"> += 1;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">CurrentInfo</span><span class="color" style="color: #ffffff;"> = &amp;</span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">CurrentInfo</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">ParentDirectoryIndex</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">UseUserOrder</span><span class="color" style="color: #ffffff;">()</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_UseUserOrder</span><span class="color" style="color: #ffffff;"> = true; </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Increment</span><span class="color" style="color: #ffffff;">()</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentDirectoryInfo.html">DocumentDirectoryInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">CurrentInfo</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #ffffff;">m_CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">m_DirectoryFilePosition</span><span class="color" style="color: #ffffff;"> == -1)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_CurrentDepth</span><span class="color" style="color: #ffffff;"> += 1;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #ffffff;">m_UseUserOrder</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_DirectoryFilePosition</span><span class="color" style="color: #ffffff;"> += 1;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DirectoryFilePosition</span><span class="color" style="color: #ffffff;"> == -1)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">m_DirectoryFilePosition</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FirstFileIndex</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">            } </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">m_DirectoryFilePosition</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">m_TotalSources</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">CurrentInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #ffffff;">m_DirectoryFilePosition</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">NextFile</span><span class="color" style="color: #ffffff;">;    </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DirectoryFilePosition</span><span class="color" style="color: #ffffff;"> == -1)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">m_DirectoryFilePosition</span><span class="color" style="color: #ffffff;"> = (</span><span class="color" style="color: #00ffff;">CurrentInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexEnd</span><span class="color" style="color: #ffffff;"> - </span><span class="color" style="color: #00ffff;">CurrentInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #a020f0;">assert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DirectoryFilePosition</span><span class="color" style="color: #ffffff;"> &lt;= </span><span class="color" style="color: #00ffff;">CurrentInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexEnd</span><span class="color" style="color: #ffffff;">-</span><span class="color" style="color: #00ffff;">CurrentInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DirectoryFilePosition</span><span class="color" style="color: #ffffff;"> == (</span><span class="color" style="color: #00ffff;">CurrentInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexEnd</span><span class="color" style="color: #ffffff;"> - </span><span class="color" style="color: #00ffff;">CurrentInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_DirectoryFilePosition</span><span class="color" style="color: #ffffff;"> = -1;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryIndexEnd</span><span class="color" style="color: #ffffff;"> - </span><span class="color" style="color: #00ffff;">CurrentInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryIndexBegin</span><span class="color" style="color: #ffffff;"> != 0)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #ffffff;">m_UseUserOrder</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #ffffff;">m_CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryIndexBegin</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #ffffff;">m_CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryIndexBegin</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">CurrentInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FirstSubDirIndex</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">m_CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;"> = -1;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(true)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #ffffff;">m_CurrentDepth</span><span class="color" style="color: #ffffff;"> -= 1;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">m_OptionalDirectoryRoot</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">PreviousIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">PreviousIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ParentDirectoryIndex</span><span class="color" style="color: #ffffff;">; </span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;"> == -1)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentDirectoryInfo.html">DocumentDirectoryInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">CurrentParentInfo</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #ffffff;">m_UseUserOrder</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">PreviousIndex</span><span class="color" style="color: #ffffff;"> + 1 &lt; </span><span class="color" style="color: #00ffff;">CurrentParentInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryIndexEnd</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                        {</span><br><span class="color" style="color: #ffffff;">                            </span><span class="color" style="color: #ffffff;">m_CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">PreviousIndex</span><span class="color" style="color: #ffffff;">+1;   </span><br><span class="color" style="color: #ffffff;">                            </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                        }</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentDirectoryInfo.html">DocumentDirectoryInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">PreviousDirectoryInfo</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">PreviousIndex</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">PreviousDirectoryInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">NextDirectory</span><span class="color" style="color: #ffffff;"> != -1)</span><br><span class="color" style="color: #ffffff;">                        {</span><br><span class="color" style="color: #ffffff;">                            </span><span class="color" style="color: #ffffff;">m_CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentParentInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryIndexBegin</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">PreviousDirectoryInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">NextDirectory</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                            </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                        }</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                }    </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">NextDirectory</span><span class="color" style="color: #ffffff;">()</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentDirectoryInfo.html">DocumentDirectoryInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">DirectoryInfo</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #ffffff;">m_CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_DirectoryFilePosition</span><span class="color" style="color: #ffffff;"> = (</span><span class="color" style="color: #00ffff;">DirectoryInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexEnd</span><span class="color" style="color: #ffffff;">-</span><span class="color" style="color: #00ffff;">DirectoryInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;">)-1;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffff00;">Increment</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">NextFile</span><span class="color" style="color: #ffffff;">()</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #ffff00;">HasEnded</span><span class="color" style="color: #ffffff;">() &amp;&amp; </span><span class="color" style="color: #ffff00;">EntryIsDirectory</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffff00;">Increment</span><span class="color" style="color: #ffffff;">();  </span><br><span class="color" style="color: #ffffff;">        } </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">EntryIsDirectory</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DirectoryFilePosition</span><span class="color" style="color: #ffffff;"> == -1);       </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetEntryName</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">EntryIsDirectory</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #ffffff;">m_CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;">);  </span><br><span class="color" style="color: #ffffff;">        } </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">m_TotalSources</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #ffffff;">m_CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">DirectoryIndexBegin</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #ffffff;">m_DirectoryFilePosition</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Document</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">CurrentDepth</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_CurrentDepth</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">HasEnded</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DirectoryFilePosition</span><span class="color" style="color: #ffffff;"> == -1 &amp;&amp; </span><span class="color" style="color: #ffffff;">m_CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;"> == -1);       </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentSource.html">DocumentSource</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetDocumentInfo</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">EntryIsDirectory</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Can't access document info for directory"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }       </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;">HasEnded</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Iterator has ended"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">m_TotalSources</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #ffffff;">m_CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #ffffff;">m_DirectoryFilePosition</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Document</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">    }</span><br><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetCurrentPath</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">Directories</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DirectoryFilePosition</span><span class="color" style="color: #ffffff;"> != -1)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Directories</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">m_TotalSources</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #ffffff;">m_DirectoryFilePosition</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Document</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;"> != -1)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Directories</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">CurrentDirectoryIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ParentDirectoryIndex</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">reverse</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Directories</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">Directories</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Path</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">Directories</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">AddDirectory</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Path</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;">::operator++()</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffff00;">Increment</span><span class="color" style="color: #ffffff;">(); </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;">::operator++(</span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffff00;">Increment</span><span class="color" style="color: #ffffff;">(); </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPathFileIterator.html">DocumentPathFileIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPathFileIterator.html">DocumentPathFileIterator</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Depth</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Offset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">End</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_Data</span><span class="color" style="color: #ffffff;"> = &amp;</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_Depth</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Depth</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_DataOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Offset</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_DataEnd</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">End</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentDirectory</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">""</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Offset</span><span class="color" style="color: #ffffff;">;</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">End</span><span class="color" style="color: #ffffff;">;</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">++)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffff00;">ComponentCount</span><span class="color" style="color: #ffffff;">() &gt; </span><span class="color" style="color: #00ffff;">Depth</span><span class="color" style="color: #ffffff;">+1 &amp;&amp; </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">][</span><span class="color" style="color: #00ffff;">Depth</span><span class="color" style="color: #ffffff;">] != </span><span class="color" style="color: #00ffff;">CurrentDirectory</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">m_DirectoryBegins</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">CurrentDirectory</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Data</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">][</span><span class="color" style="color: #00ffff;">Depth</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        } </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPathFileIterator.html">DocumentPathFileIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">DirectoryCount</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DirectoryBegins</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">()); </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPathFileIterator.html">DocumentPathFileIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetDirectoryName</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">((*</span><span class="color" style="color: #ffffff;">m_Data</span><span class="color" style="color: #ffffff;">)[</span><span class="color" style="color: #ffffff;">m_FileOffset</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffff00;">ComponentCount</span><span class="color" style="color: #ffffff;">() &gt; </span><span class="color" style="color: #ffffff;">m_Depth</span><span class="color" style="color: #ffffff;">+1)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">((*</span><span class="color" style="color: #ffffff;">m_Data</span><span class="color" style="color: #ffffff;">)[</span><span class="color" style="color: #ffffff;">m_FileOffset</span><span class="color" style="color: #ffffff;">][</span><span class="color" style="color: #ffffff;">m_Depth</span><span class="color" style="color: #ffffff;">]);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">""</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPathFileIterator.html">DocumentPathFileIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">CurrentFilePath</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">((*</span><span class="color" style="color: #ffffff;">m_Data</span><span class="color" style="color: #ffffff;">)[</span><span class="color" style="color: #ffffff;">m_FileOffset</span><span class="color" style="color: #ffffff;">]);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPathFileIterator.html">DocumentPathFileIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetCurrentOffset</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_FileOffset</span><span class="color" style="color: #ffffff;">-</span><span class="color" style="color: #ffffff;">m_DataOffset</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPathFileIterator.html">DocumentPathFileIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetDirectoryEnd</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DirectoryOffset</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">m_DirectoryBegins</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">()-1)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DataEnd</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DirectoryBegins</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #ffffff;">m_DirectoryOffset</span><span class="color" style="color: #ffffff;">+1]);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPathFileIterator.html">DocumentPathFileIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetDirectoryBegin</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DirectoryBegins</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;">]);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPathFileIterator.html">DocumentPathFileIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetDirectoryEnd</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">m_DirectoryBegins</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() - 1)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DataEnd</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DirectoryBegins</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;"> + 1]);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPathFileIterator.html">DocumentPathFileIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">HasEnded</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_FileOffset</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">m_DataEnd</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPathFileIterator.html">DocumentPathFileIterator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">NextDirectory</span><span class="color" style="color: #ffffff;">()</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DirectoryBegins</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() == 0 || </span><span class="color" style="color: #ffffff;">m_DirectoryOffset</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">m_DirectoryBegins</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() -1)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_FileOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_DataEnd</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">; </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_DirectoryOffset</span><span class="color" style="color: #ffffff;">+=1;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_FileOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_DirectoryBegins</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #ffffff;">m_DirectoryOffset</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">   </span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">BlockToVisit</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">EnterBlock</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">BlockToVisit</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">BlockToVisit</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">LeaveBlock</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">BlockToVisit</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">BlockToVisit</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">EnterBlock</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">BlockToVisit</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">BlockToVisit</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">LeaveBlock</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">BlockToVisit</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Directive.html">Directive</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">DirectiveToVisit</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DirectiveToVisit</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Directive.html">Directive</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">DirectiveToVisit</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DirectiveToVisit</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElement.html">FormatElement</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">FormatToVisit</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">EnterFormat</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FormatToVisit</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Element</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">FormatToVisit</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Contents</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Element</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">LeaveFormat</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FormatToVisit</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FormatElement.html">FormatElement</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">FormatToVisit</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">EnterFormat</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FormatToVisit</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Element</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">FormatToVisit</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Contents</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Element</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">LeaveFormat</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FormatToVisit</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">    }</span><br><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Paragraph.html">Paragraph</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">VisitedParagraph</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">VisitedParagraph</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">TextPart</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">VisitedParagraph</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">TextElements</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">EnterText</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TextPart</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetBase</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">TextPart</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">LeaveText</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TextPart</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetBase</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Paragraph.html">Paragraph</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">VisitedParagraph</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">VisitedParagraph</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">TextPart</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">VisitedParagraph</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">TextElements</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TextPart</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">IsType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocReference.html">DocReference</a></span><span class="color" style="color: #ffffff;">&gt;())</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">ResolveReference</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TextPart</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">EnterText</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TextPart</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetBase</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">TextPart</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">LeaveText</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TextPart</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetBase</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/MediaInclude.html">MediaInclude</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">VisitedMedia</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">VisitedMedia</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/MediaInclude.html">MediaInclude</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">VisitedMedia</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">VisitedMedia</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/CodeBlock.html">CodeBlock</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">VisitedBlock</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">    { </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">VisitedBlock</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/CodeBlock.html">CodeBlock</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">VisitedBlock</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">    { </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">VisitedBlock</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Table.html">Table</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Table</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Table</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;">auto</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Row</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">Table</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Cell</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">Row</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">EnterBlock</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Cell</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Cell</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">LeaveBlock</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Cell</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            }   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Table.html">Table</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Table</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Table</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;">auto</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Row</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">Table</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Cell</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">Row</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">EnterBlock</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Cell</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Cell</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">LeaveBlock</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Cell</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            }   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/RegularText.html">RegularText</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">VisitedText</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">VisitedText</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/RegularText.html">RegularText</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">VisitedText</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">VisitedText</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocReference.html">DocReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">VisitedText</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">VisitedText</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocReference.html">DocReference</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">VisitedText</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">VisitedText</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FileReference.html">FileReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">FileRef</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FileRef</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FileReference.html">FileReference</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">FileRef</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FileRef</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/URLReference.html">URLReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">URLRef</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">URLRef</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/URLReference.html">URLReference</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">URLRef</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">URLRef</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/UnresolvedReference.html">UnresolvedReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">UnresolvedRef</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">UnresolvedRef</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/UnresolvedReference.html">UnresolvedReference</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">UnresolvedRef</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">UnresolvedRef</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Traverse</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentSource.html">DocumentSource</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">SourceToTraverse</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentVisitor.html">DocumentVisitor</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Vistor</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;"> = &amp;</span><span class="color" style="color: #00ffff;">Vistor</span><span class="color" style="color: #ffffff;">; </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Format</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">SourceToTraverse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Contents</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Format</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Traverse</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentSource.html">DocumentSource</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">SourceToTraverse</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentVisitor.html">DocumentVisitor</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Vistor</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedVisitor</span><span class="color" style="color: #ffffff;"> = &amp;</span><span class="color" style="color: #00ffff;">Vistor</span><span class="color" style="color: #ffffff;">; </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Format</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">SourceToTraverse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Contents</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Format</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">FSSearchResult</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_ResolveDirectorySpecifier</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">RootDirectoryIndex</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentReference.html">DocumentReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ReferenceToResolve</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">SpecifierOffset</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">FSSearchResult</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;        </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">RootDirectoryIndex</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">HasEnded</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">FSSearchResult</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentResult</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_ResolveAbsoluteDirectory</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetCurrentDirectoryIndex</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">ReferenceToResolve</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathSpecifiers</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">SpecifierOffset</span><span class="color" style="color: #ffffff;">]);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentResult</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Type</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #ffffff;">DocumentFSType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Null</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SpecifierOffset</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">ReferenceToResolve</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathSpecifiers</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">()-1)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentResult</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;  </span><br><span class="color" style="color: #ffffff;">                } </span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentResult</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">DocumentFSType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Directory</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">CurrentResult</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_ResolveDirectorySpecifier</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentResult</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Index</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">ReferenceToResolve</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">SpecifierOffset</span><span class="color" style="color: #ffffff;">+1);</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentResult</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Type</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #ffffff;">DocumentFSType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Null</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentResult</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">NextDirectory</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_DirectoryComp</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentDirectoryInfo.html">DocumentDirectoryInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">LeftInfo</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">RightInfo</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LeftInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">RightInfo</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_FileComp</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FilesystemDocumentInfo.html">FilesystemDocumentInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">LeftInfo</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">RightInfo</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LeftInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Document</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">RightInfo</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_DirectorySubdirectoryIndex</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">SubdirectoryName</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = 0; </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SubdirectoryName</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ff0000;">".."</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ParentDirectoryIndex</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentDirectoryInfo.html">DocumentDirectoryInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">DirectoryInfo</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DirectoryInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryIndexEnd</span><span class="color" style="color: #ffffff;"> - </span><span class="color" style="color: #00ffff;">DirectoryInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryIndexBegin</span><span class="color" style="color: #ffffff;">== 0)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(-1);   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">lower_bound</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">DirectoryInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryIndexBegin</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">DirectoryInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryIndexEnd</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">SubdirectoryName</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_DirectoryComp</a></span><span class="color" style="color: #ffffff;">)-</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">DirectoryInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryIndexEnd</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = -1;  </span><br><span class="color" style="color: #ffffff;">        } </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #00ffff;">SubdirectoryName</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = -1;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_DirectoryFileIndex</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">FileName</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = 0; </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentDirectoryInfo.html">DocumentDirectoryInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">DirectoryInfo</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DirectoryInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexEnd</span><span class="color" style="color: #ffffff;"> - </span><span class="color" style="color: #00ffff;">DirectoryInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;"> == 0)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(-1);   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">lower_bound</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_TotalSources</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">DirectoryInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">m_TotalSources</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">DirectoryInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexEnd</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">FileName</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_FileComp</a></span><span class="color" style="color: #ffffff;">)-</span><span class="color" style="color: #ffffff;">m_TotalSources</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">DirectoryInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexEnd</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = -1;  </span><br><span class="color" style="color: #ffffff;">        } </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">m_TotalSources</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Document</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #00ffff;">FileName</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = -1;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">FSSearchResult</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_ResolveAbsoluteDirectory</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">RootDirectoryIndex</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/PathSpecifier.html">PathSpecifier</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Path</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">FSSearchResult</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;        </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">LastDirectoryIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">RootDirectoryIndex</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Offset</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">Path</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathNames</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">front</span><span class="color" style="color: #ffffff;">() == </span><span class="color" style="color: #ff0000;">"/"</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Offset</span><span class="color" style="color: #ffffff;"> = 1;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">LastDirectoryIndex</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Offset</span><span class="color" style="color: #ffffff;">; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Path</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathNames</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())-1;</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">++)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">SubdirectoryIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_DirectorySubdirectoryIndex</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LastDirectoryIndex</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Path</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathNames</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">]);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SubdirectoryIndex</span><span class="color" style="color: #ffffff;"> == -1)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Type</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">DocumentFSType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Null</span><span class="color" style="color: #ffffff;">;  </span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            } </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">LastDirectoryIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">SubdirectoryIndex</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">Offset</span><span class="color" style="color: #ffffff;"> &gt;= </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Path</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathNames</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">()))</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Index</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">LastDirectoryIndex</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Type</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">DocumentFSType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Directory</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FileIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_DirectoryFileIndex</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LastDirectoryIndex</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Path</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathNames</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">back</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FileIndex</span><span class="color" style="color: #ffffff;"> != -1)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Type</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">DocumentFSType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">File</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Index</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">FileIndex</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_DirectorySubdirectoryIndex</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LastDirectoryIndex</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Path</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathNames</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">back</span><span class="color" style="color: #ffffff;">());    </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;"> != -1)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Type</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">DocumentFSType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Directory</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Index</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">           </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">FSSearchResult</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_ResolvePartSpecifier</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">FSSearchResult</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentResult</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">PartSpecifier</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">FSSearchResult</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;        </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #a020f0;">assert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentResult</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">DocumentFSType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">File</span><span class="color" style="color: #ffffff;"> || </span><span class="color" style="color: #00ffff;">CurrentResult</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">DocumentFSType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Directory</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentResult</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">DocumentFSType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">File</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_TotalSources</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">CurrentResult</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Index</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Document</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ReferenceTargets</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">ContainsLabels</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">PartSpecifier</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentResult</span><span class="color" style="color: #ffffff;">;     </span><br><span class="color" style="color: #ffffff;">            }   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentResult</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">DocumentFSType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Directory</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentResult</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Index</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">HasEnded</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (!</span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">EntryIsDirectory</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetDocumentInfo</span><span class="color" style="color: #ffffff;">().</span><span class="color" style="color: #ffffff;">ReferenceTargets</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">ContainsLabels</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">PartSpecifier</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Type</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">DocumentFSType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">File</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Index</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetCurrentFileIndex</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Increment</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_ContainFileComp</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentDirectoryInfo.html">DocumentDirectoryInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">DirectoryToCheck</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FileToContain</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    { </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">DirectoryToCheck</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">DirectoryToCheck</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexEnd</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DirectoryToCheck</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;"> &lt;= </span><span class="color" style="color: #00ffff;">FileToContain</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DirectoryToCheck</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexEnd</span><span class="color" style="color: #ffffff;"> &lt;= </span><span class="color" style="color: #00ffff;">FileToContain</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(true);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">DirectoryToCheck</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;"> &gt; </span><span class="color" style="color: #00ffff;">FileToContain</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(false);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(false);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_GetFileIndexPath</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FileIndex</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">lower_bound</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(), </span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(), </span><span class="color" style="color: #00ffff;">FileIndex</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_ContainFileComp</a></span><span class="color" style="color: #ffffff;">) - </span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">Components</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;"> != -1)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Components</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ParentDirectoryIndex</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">reverse</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Components</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(), </span><span class="color" style="color: #00ffff;">Components</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Component</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">Components</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">AddDirectory</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Component</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">AddDirectory</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_TotalSources</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">FileIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Document</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_GetFileDirectoryIndex</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">PathToSearch</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Offset</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">PathToSearch</span><span class="color" style="color: #ffffff;">[0] == </span><span class="color" style="color: #ff0000;">"/"</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Offset</span><span class="color" style="color: #ffffff;"> = 1;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Offset</span><span class="color" style="color: #ffffff;">; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">PathToSearch</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">ComponentCount</span><span class="color" style="color: #ffffff;">()) - 1; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">++)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_DirectorySubdirectoryIndex</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">PathToSearch</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">]);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> == -1)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_GetFileIndex</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">PathToSearch</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> = 0; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">PathToSearch</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">ComponentCount</span><span class="color" style="color: #ffffff;">(); </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">++)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">PathToSearch</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">] == </span><span class="color" style="color: #ff0000;">"/"</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">continue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> + 1 &lt; </span><span class="color" style="color: #00ffff;">PathToSearch</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">ComponentCount</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_DirectorySubdirectoryIndex</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">PathToSearch</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">]);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> == -1)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_DirectoryFileIndex</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">PathToSearch</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">]);</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">     </span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_ResolveReference</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">FilePath</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentReference.html">DocumentReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ReferenceIdentifier</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">OutResult</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">FSSearchResult</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Type</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">DocumentFSType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Directory</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Index</span><span class="color" style="color: #ffffff;"> = 0;//Root directory</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">SpecifierOffset</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">ReferenceIdentifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathSpecifiers</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &gt; 0)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">ReferenceIdentifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathSpecifiers</span><span class="color" style="color: #ffffff;">[0].</span><span class="color" style="color: #ffffff;">AnyRoot</span><span class="color" style="color: #ffffff;"> == false)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">SpecifierOffset</span><span class="color" style="color: #ffffff;"> = 1;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">ReferenceIdentifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathSpecifiers</span><span class="color" style="color: #ffffff;">[0].</span><span class="color" style="color: #ffffff;">PathNames</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">front</span><span class="color" style="color: #ffffff;">() != </span><span class="color" style="color: #ff0000;">"/"</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Index</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_GetFileDirectoryIndex</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FilePath</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Index</span><span class="color" style="color: #ffffff;"> == -1)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        *</span><span class="color" style="color: #00ffff;">OutResult</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_ResolveAbsoluteDirectory</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Index</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">ReferenceIdentifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathSpecifiers</span><span class="color" style="color: #ffffff;">[0]);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">DocumentFSType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Null</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    *</span><span class="color" style="color: #00ffff;">OutResult</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Index</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_GetFileDirectoryIndex</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FilePath</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Index</span><span class="color" style="color: #ffffff;"> == -1)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    *</span><span class="color" style="color: #00ffff;">OutResult</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">SpecifierOffset</span><span class="color" style="color: #ffffff;"> == 0 || </span><span class="color" style="color: #00ffff;">ReferenceIdentifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PathSpecifiers</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &gt; 1)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">DocumentFSType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">File</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    *</span><span class="color" style="color: #00ffff;">OutResult</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_ResolveDirectorySpecifier</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Index</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">ReferenceIdentifier</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">SpecifierOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">DocumentFSType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Null</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                *</span><span class="color" style="color: #00ffff;">OutResult</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Type</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">DocumentFSType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">File</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Index</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_GetFileIndex</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FilePath</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Index</span><span class="color" style="color: #ffffff;"> == -1)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                *</span><span class="color" style="color: #00ffff;">OutResult</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReferenceIdentifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PartSpecifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() != 0)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_ResolvePartSpecifier</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">ReferenceIdentifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PartSpecifier</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">DocumentFSType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Null</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            *</span><span class="color" style="color: #00ffff;">OutResult</span><span class="color" style="color: #ffffff;"> = false;   </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Type</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">DocumentFSType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Directory</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FileIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_DirectoryFileIndex</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Index</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ff0000;">"index.mbd"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">FileIndex</span><span class="color" style="color: #ffffff;"> != -1)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Index</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">FileIndex</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Type</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">DocumentFSType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">File</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                *</span><span class="color" style="color: #00ffff;">OutResult</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_GetFileIndexPath</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SearchRoot</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Index</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">ReferenceIdentifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PartSpecifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() != 0)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">SetPartIdentifier</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReferenceIdentifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">PartSpecifier</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #a020f0;">assert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">ComponentCount</span><span class="color" style="color: #ffffff;">() &gt; 0);</span><br><span class="color" style="color: #ffffff;">        *</span><span class="color" style="color: #00ffff;">OutResult</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">(0);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">CurrentDepth</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">UseUserOrder</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">ResolveReference</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Path</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">PathIdentifier</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">MBError</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">OutResult</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">MBError</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseReferenceError</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentReference.html">DocumentReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReferenceToUse</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentReference.html">DocumentReference</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">ParseReference</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">PathIdentifier</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">ParseReferenceError</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #00ffff;">ParseReferenceError</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">OutResult</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ParseReferenceError</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_ResolveReference</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Path</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">ReferenceToUse</span><span class="color" style="color: #ffffff;">,&amp;</span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (!</span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">OutResult</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">OutResult</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ErrorMessage</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"Failed to resolve reference"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><br><br><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_GetOriginalMap</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">VectorToMap</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">VectorToMap</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">(),0);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> = 0; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">VectorToMap</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">++)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">VectorToMap</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">]] = </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">;    </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentDirectoryInfo.html">DocumentDirectoryInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_UpdateOverDirectory</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentBuild.html">DocumentBuild</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Directory</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentDirectoryInfo.html">DocumentDirectoryInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewDirectoryIndexBegin</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryIndexBegin</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NewDirectoryIndexBegin</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryIndexEnd</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NewDirectoryIndexBegin</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">Directory</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">SubDirectories</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexEnd</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">Directory</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryFiles</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">MBError</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseError</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FileIndex</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">SortedFileIndexes</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">Directory</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryFiles</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">(),0);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">iota</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SortedFileIndexes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">SortedFileIndexes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(),0);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">sort</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SortedFileIndexes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">SortedFileIndexes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(),[&amp;](</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Left</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Right</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Directory</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryFiles</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">Left</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffff00;">filename</span><span class="color" style="color: #ffffff;">() &lt; </span><span class="color" style="color: #00ffff;">Directory</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryFiles</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">Right</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffff00;">filename</span><span class="color" style="color: #ffffff;">());     </span><br><span class="color" style="color: #ffffff;">                });</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> = 0; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">SortedFileIndexes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">++)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">SortedIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">SortedFileIndexes</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">];   </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">path</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">File</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Directory</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryFiles</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">SortedIndex</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentParsingContext.html">DocumentParsingContext</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Parser</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentSource.html">DocumentSource</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewFile</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Parser</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">ParseSource</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">File</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">ParseError</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (!</span><span class="color" style="color: #00ffff;">ParseError</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Error parsing file "</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #ffffff;">MBUnicode</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">PathToUTF8</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">File</span><span class="color" style="color: #ffffff;">) +</span><span class="color" style="color: #ff0000;">": "</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">ParseError</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ErrorMessage</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_TotalSources</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">FileIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Document</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewFile</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_TotalSources</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">FileIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Document</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Path</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">File</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">FileIndex</span><span class="color" style="color: #ffffff;">++;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">OriginalFileMap</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_GetOriginalMap</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SortedFileIndexes</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> = 0; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">OriginalFileMap</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">++)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">( </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> == 0)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FirstFileIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">OriginalFileMap</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">m_TotalSources</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">OriginalFileMap</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">-1]].</span><span class="color" style="color: #ffffff;">NextFile</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">OriginalFileMap</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TotalSubFiles</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TotalDirectories</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Directory</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">SubDirectories</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">SubDirectory</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">Directory</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">SubDirectories</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">TotalSubFiles</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #00ffff;">SubDirectory</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">second</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryFiles</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewFileIndexBegin</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_TotalSources</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_TotalSources</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">resize</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TotalSubFiles</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #ffffff;">m_TotalSources</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">resize</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() + </span><span class="color" style="color: #00ffff;">Directory</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">SubDirectories</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DirectoryOffset</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">IndexType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FileOffset</span><span class="color" style="color: #ffffff;"> = 0;</span><br><br><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">SortedDirectoryIndexes</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">Directory</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">SubDirectories</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">(),0);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">iota</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SortedDirectoryIndexes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">SortedDirectoryIndexes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(),0);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">sort</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SortedDirectoryIndexes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">SortedDirectoryIndexes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(),[&amp;](</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Left</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Right</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Directory</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">SubDirectories</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">Left</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">first</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">Directory</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">SubDirectories</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">Right</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">first</span><span class="color" style="color: #ffffff;">);     </span><br><span class="color" style="color: #ffffff;">                });</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> = 0; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">SortedDirectoryIndexes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">++)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">SortedDirectoryIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">SortedDirectoryIndexes</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">];    </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ff00;">auto</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">SubDirectory</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Directory</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">SubDirectories</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">SortedDirectoryIndex</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">NewDirectoryIndexBegin</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">DirectoryOffset</span><span class="color" style="color: #ffffff;">] = </span><span class="color" style="color: #ffff00;">p_UpdateOverDirectory</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SubDirectory</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">second</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">NewFileIndexBegin</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">FileOffset</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">NewDirectoryIndexBegin</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">DirectoryOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">NewDirectoryIndexBegin</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">DirectoryOffset</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">SubDirectory</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">first</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">NewDirectoryIndexBegin</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">DirectoryOffset</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ParentDirectoryIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">DirectoryIndex</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">DirectoryOffset</span><span class="color" style="color: #ffffff;">++;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">FileOffset</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #00ffff;">SubDirectory</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">second</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryFiles</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">OriginalDirectoryMap</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_GetOriginalMap</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SortedDirectoryIndexes</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> = 0; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">SortedDirectoryIndexes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">++)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">( </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> == 0)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FirstSubDirIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">OriginalDirectoryMap</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">NewDirectoryIndexBegin</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">OriginalDirectoryMap</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">-1]].</span><span class="color" style="color: #ffffff;">NextDirectory</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">OriginalDirectoryMap</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_DirectoryOrder</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentDirectoryInfo.html">DocumentDirectoryInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Left</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentDirectoryInfo.html">DocumentDirectoryInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Right</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">Left</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">Right</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;"> || </span><span class="color" style="color: #00ffff;">Left</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexEnd</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">Right</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexEnd</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(true);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(false);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">__PrintDirectoryStructure</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentDirectoryInfo.html">DocumentDirectoryInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">CurrentDir</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Depth</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ffff;">cout</span><span class="color" style="color: #ffffff;"> &lt;&lt; </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">(4 * </span><span class="color" style="color: #00ffff;">Depth</span><span class="color" style="color: #ffffff;">, ' ')&lt;&lt;</span><span class="color" style="color: #00ffff;">CurrentDir</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;">&lt;&lt;</span><span class="color" style="color: #ff0000;">"\n"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentDir</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexBegin</span><span class="color" style="color: #ffffff;">; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">CurrentDir</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">FileIndexEnd</span><span class="color" style="color: #ffffff;">;</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">++)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ffff;">cout</span><span class="color" style="color: #ffffff;"> &lt;&lt; </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">(4 * (</span><span class="color" style="color: #00ffff;">Depth</span><span class="color" style="color: #ffffff;"> + 1), ' ') &lt;&lt; </span><span class="color" style="color: #ffffff;">m_TotalSources</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Document</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> &lt;&lt; </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">endl</a></span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentDir</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryIndexBegin</span><span class="color" style="color: #ffffff;">; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">CurrentDir</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectoryIndexEnd</span><span class="color" style="color: #ffffff;">; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">++)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffff00;">__PrintDirectoryStructure</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">], </span><span class="color" style="color: #00ffff;">Depth</span><span class="color" style="color: #ffffff;"> + 1);</span><br><span class="color" style="color: #ffffff;">        }</span><br><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">__PrintDirectoryStructure</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentDirectoryInfo.html">DocumentDirectoryInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">CurrentInfo</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[0];</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffff00;">__PrintDirectoryStructure</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentInfo</span><span class="color" style="color: #ffffff;">, 0);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">MBError</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">CreateDocumentFilesystem</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentBuild.html">DocumentBuild</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">BuildToParse</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LSPInfo.html">LSPInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">LSPConf</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ProcessedColorConfiguration.html">ProcessedColorConfiguration</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ColorConf</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">OutFilesystem</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">MBError</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">try</span><span class="color" style="color: #ffffff;"> </span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">resize</span><span class="color" style="color: #ffffff;">(1);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">m_TotalSources</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">resize</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">BuildToParse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetTotalFiles</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentDirectoryInfo.html">DocumentDirectoryInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TopInfo</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">p_UpdateOverDirectory</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">BuildToParse</span><span class="color" style="color: #ffffff;">, 0, 0);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[0] = </span><span class="color" style="color: #00ffff;">TopInfo</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">[0].</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"/"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #a020f0;">assert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">is_sorted</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(), </span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">m_DirectoryInfos</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(), </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_DirectoryOrder</a></span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">            </span><br><span class="color" style="color: #ffffff;">            </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">p_ColorizeLSP</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ColorConf</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">LSPConf</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">p_ResolveReferences</span><span class="color" style="color: #ffffff;">(); </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">OutFilesystem</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            }</span><br><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        catch (</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">exception</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">e</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ErrorMessage</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">e</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">what</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);  </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">DocumentFilesystemReferenceResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">DocumentFilesystemReferenceResolver</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">AssociatedFilesystem</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentPath</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">AssociatedFilesystem</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_CurrentPath</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentPath</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">DocumentFilesystemReferenceResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/UnresolvedReference.html">UnresolvedReference</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Ref</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">MBError</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewPath</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">ResolveReference</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_CurrentPath</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Ref</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ReferenceString</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FileReference.html">FileReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewRef</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">NewRef</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Color</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Ref</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Color</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">NewRef</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Modifiers</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Ref</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Modifiers</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">NewRef</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">VisibleText</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Ref</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">VisibleText</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">NewRef</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Path</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NewPath</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_Result</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextElement.html">TextElement</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocReference.html">DocReference</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #0000ff;">new</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/FileReference.html">FileReference</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewRef</span><span class="color" style="color: #ffffff;">))));</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_ShouldUpdate</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">DocumentFilesystemReferenceResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">ResolveReference</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextElement.html">TextElement</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ReferenceToResolve</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_ShouldUpdate</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocReference.html">DocReference</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Ref</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ReferenceToResolve</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocReference.html">DocReference</a></span><span class="color" style="color: #ffffff;">&gt;();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">Ref</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_ShouldUpdate</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">           </span><span class="color" style="color: #00ffff;">ReferenceToResolve</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_Result</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">        } </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">DocumentFilesystemReferenceResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/CodeBlock.html">CodeBlock</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">CodeBlock</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">holds_alternative</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ResolvedCodeText.html">ResolvedCodeText</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">CodeBlock</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Content</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;">auto</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Row</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">get</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ResolvedCodeText.html">ResolvedCodeText</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">CodeBlock</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Content</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Element</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">Row</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Element</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">IsType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocReference.html">DocReference</a></span><span class="color" style="color: #ffffff;">&gt;())</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #ffff00;">ResolveReference</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Element</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_ResolveReferences</span><span class="color" style="color: #ffffff;">()</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;">(0); </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">m_AssociatedFilesystem</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Traverser</span><span class="color" style="color: #ffffff;">; </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">HasEnded</span><span class="color" style="color: #ffffff;">() == false)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">EntryIsDirectory</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentPath</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetCurrentPath</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentSource.html">DocumentSource</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">CurrentDoc</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">_cast&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentSource.html">DocumentSource</a></span><span class="color" style="color: #ffffff;">&amp;&gt;(</span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetDocumentInfo</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">                </span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">DocumentFilesystemReferenceResolver</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Resolver</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">CurrentPath</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">Traverser</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Traverse</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentDoc</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Resolver</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;">++; </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_RemoveDuplicates</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ColoringsToPrune</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">reserve</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ColoringsToPrune</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ColorIndex</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ColorIndex</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">ColoringsToPrune</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &lt;= </span><span class="color" style="color: #00ffff;">ColoringsToPrune</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ColorIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ColoringsToPrune</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ColorIndex</span><span class="color" style="color: #ffffff;">]);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ColoringsToPrune</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ColorIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">ColoringsToPrune</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ColorIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Length</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ColorIndex</span><span class="color" style="color: #ffffff;">++;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_Overlaps</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Lhs</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Rhs</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">RhsLeftmost</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Rhs</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">RhsRightmost</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Rhs</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">Rhs</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Length</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Lhs</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;"> &gt;= </span><span class="color" style="color: #00ffff;">RhsLeftmost</span><span class="color" style="color: #ffffff;"> &amp;&amp; </span><span class="color" style="color: #00ffff;">Lhs</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;"> &lt;= </span><span class="color" style="color: #00ffff;">RhsRightmost</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(true);   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">((</span><span class="color" style="color: #00ffff;">Lhs</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">Lhs</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Length</span><span class="color" style="color: #ffffff;">) &gt;= </span><span class="color" style="color: #00ffff;">RhsLeftmost</span><span class="color" style="color: #ffffff;"> &amp;&amp; (</span><span class="color" style="color: #00ffff;">Lhs</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">Lhs</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Length</span><span class="color" style="color: #ffffff;">) &lt;= </span><span class="color" style="color: #00ffff;">RhsRightmost</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(true);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(false);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_RemoveDuplicates</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">PrioColoring</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ColoringsToPrune</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">reserve</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ColoringsToPrune</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">PrioColoringIndex</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">PruneIndex</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">PrioColoringIndex</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">PrioColoring</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &amp;&amp; </span><span class="color" style="color: #00ffff;">PruneIndex</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">ColoringsToPrune</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_Overlaps</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">PrioColoring</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">PrioColoringIndex</span><span class="color" style="color: #ffffff;">],</span><span class="color" style="color: #00ffff;">ColoringsToPrune</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">PruneIndex</span><span class="color" style="color: #ffffff;">]))</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">PruneIndex</span><span class="color" style="color: #ffffff;">++;    </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">PrioColoring</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">PrioColoringIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">ColoringsToPrune</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">PruneIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">PrioColoringIndex</span><span class="color" style="color: #ffffff;">++;   </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ColoringsToPrune</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">PruneIndex</span><span class="color" style="color: #ffffff;">]);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">PruneIndex</span><span class="color" style="color: #ffffff;">++;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">PruneIndex</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">ColoringsToPrune</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ColoringsToPrune</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">PruneIndex</span><span class="color" style="color: #ffffff;">]);   </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">PruneIndex</span><span class="color" style="color: #ffffff;">++;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ResolvedCodeText.html">ResolvedCodeText</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_CombineColorings</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">RegexColoring</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">LSPColoring</span><span class="color" style="color: #ffffff;">,</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">OriginalContent</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LineIndex.html">LineIndex</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ProcessedColorInfo.html">ProcessedColorInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ColorInfo</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LSPReferenceResolver</a></span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">OptionalLSPResolver</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ResolvedCodeText.html">ResolvedCodeText</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #a020f0;">assert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">is_sorted</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">RegexColoring</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">RegexColoring</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">()));</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #a020f0;">assert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">is_sorted</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LSPColoring</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">LSPColoring</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">()));</span><br><span class="color" style="color: #ffffff;">        </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">PrunedRegexColoring</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_RemoveDuplicates</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LSPColoring</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">RegexColoring</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">TotalColorings</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">TotalColorings</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">resize</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">PrunedRegexColoring</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">LSPColoring</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">merge</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">PrunedRegexColoring</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">PrunedRegexColoring</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">LSPColoring</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">LSPColoring</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">TotalColorings</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">TotalColorings</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_RemoveDuplicates</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TotalColorings</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #a020f0;">assert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">is_sorted</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TotalColorings</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">TotalColorings</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">()));</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextElement.html">TextElement</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">CurrentRow</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = 0; </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ColoringOffset</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">LineOffset</span><span class="color" style="color: #ffffff;"> = 1;</span><br><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FunctionIndex</span><span class="color" style="color: #ffffff;"> = -2;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ClassIndex</span><span class="color" style="color: #ffffff;"> = -2;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FunctionIndexIt</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColoringNameToIndex</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"function"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ClassIndexIt</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColoringNameToIndex</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"class"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FunctionIndexIt</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #00ffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColoringNameToIndex</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">FunctionIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">FunctionIndexIt</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">second</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ClassIndexIt</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #00ffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColoringNameToIndex</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ClassIndex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ClassIndexIt</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">second</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">OriginalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LineOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">LineCount</span><span class="color" style="color: #ffffff;">() &amp;&amp; </span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">LineOffset</span><span class="color" style="color: #ffffff;">] &lt;= </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">LineOffset</span><span class="color" style="color: #ffffff;">])</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">++; </span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">m_Rows</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentRow</span><span class="color" style="color: #ffffff;">));   </span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">CurrentRow</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">clear</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">LineOffset</span><span class="color" style="color: #ffffff;">++;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ColoringOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">TotalColorings</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LineOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">LineCount</span><span class="color" style="color: #ffffff;">() &amp;&amp; </span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">LineOffset</span><span class="color" style="color: #ffffff;">] &lt; </span><span class="color" style="color: #00ffff;">TotalColorings</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ColoringOffset</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/RegularText.html">RegularText</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Text</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">OriginalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">OriginalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">LineOffset</span><span class="color" style="color: #ffffff;">]);</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Color</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DefaultColor</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">CurrentRow</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">LineOffset</span><span class="color" style="color: #ffffff;">]+1;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TotalColorings</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ColoringOffset</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/RegularText.html">RegularText</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Text</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">OriginalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">OriginalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">TotalColorings</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ColoringOffset</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Color</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DefaultColor</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">CurrentRow</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">VisibleText</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">OriginalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">TotalColorings</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ColoringOffset</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;">,</span><br><span class="color" style="color: #ffffff;">                            </span><span class="color" style="color: #00ffff;">OriginalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">TotalColorings</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ColoringOffset</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">TotalColorings</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ColoringOffset</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Length</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;"> </span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #ffffff;">ColorTypeIndex</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ColorType</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">TotalColorings</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ColoringOffset</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Color</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">OptionalLSPResolver</span><span class="color" style="color: #ffffff;"> != nullptr &amp;&amp; (</span><span class="color" style="color: #00ffff;">ColorType</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">FunctionIndex</span><span class="color" style="color: #ffffff;"> || </span><span class="color" style="color: #00ffff;">ColorType</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">ClassIndex</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextElement.html">TextElement</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">OptionalLSPResolver</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">CreateReference</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LineOffset</span><span class="color" style="color: #ffffff;">-1,</span><br><span class="color" style="color: #ffffff;">                                </span><span class="color" style="color: #00ffff;">TotalColorings</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ColoringOffset</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;">-(</span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">LineOffset</span><span class="color" style="color: #ffffff;">-1]+1),</span><span class="color" style="color: #00ffff;">VisibleText</span><span class="color" style="color: #ffffff;">,</span><br><span class="color" style="color: #ffffff;">                                </span><span class="color" style="color: #00ffff;">ColorType</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">FunctionIndex</span><span class="color" style="color: #ffffff;"> ? </span><span class="color" style="color: #ffffff;">CodeReferenceType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Function</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #ffffff;">CodeReferenceType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Class</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetBase</span><span class="color" style="color: #ffffff;">().</span><span class="color" style="color: #ffffff;">Color</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorMap</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ColorType</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">CurrentRow</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/RegularText.html">RegularText</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Text</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">VisibleText</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Color</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorMap</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ColorType</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">CurrentRow</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">TotalColorings</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ColoringOffset</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">TotalColorings</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">ColoringOffset</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Length</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ColoringOffset</span><span class="color" style="color: #ffffff;">++;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LineOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">LineCount</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/RegularText.html">RegularText</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Color</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DefaultColor</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Text</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">OriginalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">OriginalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">LineOffset</span><span class="color" style="color: #ffffff;">]);</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">CurrentRow</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">LineOffset</span><span class="color" style="color: #ffffff;">]+1;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/RegularText.html">RegularText</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Text</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">OriginalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">OriginalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">OriginalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Color</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DefaultColor</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">OriginalContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">CurrentRow</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentRow</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() != 0)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">m_Rows</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentRow</span><span class="color" style="color: #ffffff;">));   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_GetLSPColoring</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">MBLSP</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LSP_Client</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ClientToUse</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">URI</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">TextContent</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ProcessedColorInfo.html">ProcessedColorInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ColorInfo</span><br><span class="color" style="color: #ffffff;">            ,</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LineIndex.html">LineIndex</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">SemanticToken_Request</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TokenRequest</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">TokenRequest</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">params</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">textDocument</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">uri</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">URI</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">SemanticToken_Response</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Tokens</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ClientToUse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">SendRequest</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TokenRequest</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">try</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Tokens</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">result</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Text</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">TextContent</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">TokenData</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Tokens</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">result</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">data</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TokenData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() % 5 != 0)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Invalid token count, must be divisible by 5"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentLineIndex</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentTokensOffset</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TokenOffset</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">LatestTokenEnd</span><span class="color" style="color: #ffffff;"> = 0;</span><br><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TokenOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">TokenData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Line</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">TokenData</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">TokenOffset</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Offset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">TokenData</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">TokenOffset</span><span class="color" style="color: #ffffff;">+1];</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Length</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">TokenData</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">TokenOffset</span><span class="color" style="color: #ffffff;">+2];</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Type</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">TokenData</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">TokenOffset</span><span class="color" style="color: #ffffff;">+3];</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Line</span><span class="color" style="color: #ffffff;"> &lt; 0 || </span><span class="color" style="color: #00ffff;">Offset</span><span class="color" style="color: #ffffff;"> &lt; 0 || </span><span class="color" style="color: #00ffff;">Length</span><span class="color" style="color: #ffffff;"> &lt; 0 || </span><span class="color" style="color: #00ffff;">Type</span><span class="color" style="color: #ffffff;"> &lt; 0)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Only positive integers are allowed in semantic tokens"</span><span class="color" style="color: #ffffff;">);   </span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Line</span><span class="color" style="color: #ffffff;"> &gt; 0)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">CurrentTokensOffset</span><span class="color" style="color: #ffffff;"> = 0;   </span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">CurrentLineIndex</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #00ffff;">Line</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">CurrentTokensOffset</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #00ffff;">Offset</span><span class="color" style="color: #ffffff;">;</span><br><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentTokenBegin</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">CurrentLineIndex</span><span class="color" style="color: #ffffff;">]+1+</span><span class="color" style="color: #00ffff;">CurrentTokensOffset</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentTokenEnd</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentTokenBegin</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">Length</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                   </span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TextToAdd</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">TextToAdd</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Length</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Length</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TypeIt</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColoringNameToIndex</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ClientToUse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetSemanticTokenInfo</span><span class="color" style="color: #ffffff;">().</span><span class="color" style="color: #ffff00;">TokenIndexToName</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Type</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TypeIt</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #00ffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColoringNameToIndex</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">TextToAdd</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Color</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">TypeIt</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">second</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">TextToAdd</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentTokenBegin</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TextToAdd</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">LatestTokenEnd</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentTokenEnd</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">TokenOffset</span><span class="color" style="color: #ffffff;"> += 5;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        } </span><br><span class="color" style="color: #ffffff;">        catch(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">exception</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">e</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_GetRegexColorings</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">PreviousColorings</span><span class="color" style="color: #ffffff;">,</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ProcessedRegexColoring.html">ProcessedRegexColoring</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">RegexesToUse</span><span class="color" style="color: #ffffff;">,</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextColor.html">TextColor</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ColorMap</span><span class="color" style="color: #ffffff;">,</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">DocumentContent</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">PreviousColorIndex</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">DocumentContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TextToInspectEnd</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">DocumentContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">PreviousColorIndex</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">PreviousColorings</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">PreviousColorings</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">PreviousColorIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">TextToInspectEnd</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">PreviousColorings</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">PreviousColorIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &gt;= </span><span class="color" style="color: #00ffff;">PreviousColorings</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">PreviousColorIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;"> &amp;&amp; </span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">PreviousColorings</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">PreviousColorIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">PreviousColorings</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">PreviousColorIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Length</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">PreviousColorings</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">PreviousColorIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">PreviousColorings</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">PreviousColorIndex</span><span class="color" style="color: #ffffff;">].</span><span class="color" style="color: #ffffff;">Length</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">PreviousColorIndex</span><span class="color" style="color: #ffffff;">++;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">continue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">PreviousColorIndex</span><span class="color" style="color: #ffffff;">++;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">continue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">RegexCategory</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">RegexesToUse</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Regexes</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">ColorTypeIndex</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentColor</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">RegexCategory</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">first</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Regex</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">RegexCategory</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">second</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">sregex_iterator</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Begin</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">sregex_iterator</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DocumentContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">,</span><br><span class="color" style="color: #ffffff;">                            </span><span class="color" style="color: #00ffff;">DocumentContent</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">TextToInspectEnd</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">Regex</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">sregex_iterator</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">End</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Begin</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #00ffff;">End</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #a020f0;">assert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Begin</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() == 1);</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewColoring</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">NewColoring</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ByteOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">Begin</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">position</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">NewColoring</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Color</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentColor</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">NewColoring</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Length</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Begin</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">length</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewColoring</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                        ++</span><span class="color" style="color: #00ffff;">Begin</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    }</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ParseOffset</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">TextToInspectEnd</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">sort</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">MBLSP</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LSP_Client</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #ffff00;"><a class="link" href="../Functions/StartLSPServer.html">StartLSPServer</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LSPServer.html">LSPServer</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ServerToStart</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">InitializeRequest</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">InitReq</span><span class="color" style="color: #ffffff;">;    </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">InitReq</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">params</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">rootUri</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">MBLSP</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">URLEncodePath</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">current_path</a></span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ServerToStart</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">initializationOptions</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">InitReq</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">params</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">initializationOptions</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ServerToStart</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">initializationOptions</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Value</span><span class="color" style="color: #ffffff;">();   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;"><a class="link" href="../Functions/StartLSPServer.html">StartLSPServer</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ServerToStart</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">InitReq</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">MBLSP</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LSP_Client</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #ffff00;"><a class="link" href="../Functions/StartLSPServer.html">StartLSPServer</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LSPServer.html">LSPServer</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ServerToStart</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">InitializeRequest</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">InitReq</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">MBLSP</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LSP_Client</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">MBSystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">BiDirectionalSubProcess</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">SubProcess</span><span class="color" style="color: #ffffff;"> = </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">make_unique</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">MBSystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">BiDirectionalSubProcess</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">ServerToStart</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">CommandName</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">ServerToStart</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">CommandArguments</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">IndeterminateInputStream</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">InputStream</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">make_unique</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">NonOwningIndeterminateInputStream</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">SubProcess</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">get</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">make_unique</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">MBLSP</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LSP_Client</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">InputStream</span><span class="color" style="color: #ffffff;">),</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SubProcess</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">InitializeServer</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">InitReq</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LSPReferenceResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">SetLSP</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">MBLSP</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LSP_Client</a></span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">AssociatedLSP</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedLSP</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">AssociatedLSP</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LSPReferenceResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">SetDocumentURI</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">NewURI</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_CurrentDocument</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NewURI</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextElement.html">TextElement</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LSPReferenceResolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">CreateReference</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Line</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Offset</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">VisibleText</span><span class="color" style="color: #ffffff;">,</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">CodeReferenceType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReferenceType</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/TextElement.html">TextElement</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">GotoDefinition_Request</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">GotoDefinitionRequest</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">GotoDefinitionRequest</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">params</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">textDocument</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">uri</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_CurrentDocument</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">GotoDefinitionRequest</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">params</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">position</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">line</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Line</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">GotoDefinitionRequest</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">params</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">position</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">character</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Offset</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">GotoDefinition_Response</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Response</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_AssociatedLSP</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">SendRequest</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">GotoDefinitionRequest</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Response</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">result</span><span class="color" style="color: #ffffff;"> &amp;&amp; </span><span class="color" style="color: #00ffff;">Response</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">result</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() == 1)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ff00;">auto</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Response</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">result</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Value</span><span class="color" style="color: #ffffff;">(); </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/UnresolvedReference.html">UnresolvedReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Reference</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Reference</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">VisibleText</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">VisibleText</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Reference</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ReferenceString</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"../../{Code/"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReferenceType</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">CodeReferenceType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Class</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">Reference</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ReferenceString</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">"Classes"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReferenceType</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">CodeReferenceType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Function</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">Reference</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ReferenceString</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">"Functions"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Reference</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ReferenceString</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">"}/"</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">VisibleText</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #ff0000;">".mbd"</span><span class="color" style="color: #ffffff;">;</span><br><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">Location</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">LocationToCheck</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Result</span><span class="color" style="color: #ffffff;">[0];</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">path</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">AbsolutePath</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">MBLSP</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">URLDecodePath</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LocationToCheck</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">uri</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">char</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">MBPM_PACKET_PATH</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">getenv</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"MBPM_PACKETS_INSTALL_DIRECTORY"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">MBPM_PACKET_PATH</span><span class="color" style="color: #ffffff;"> == nullptr)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Cant resolve CodeBlock definitions without MBPM_PACKETS_INSTALL_DIRECTORY set, "</span><br><span class="color" style="color: #ffffff;">                       </span><span class="color" style="color: #ff0000;">"assumes that CodeBlocks uses mbpm packetmanager"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">path</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">PacketPath</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">MBPM_PACKET_PATH</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">RelativePath</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">MBUnicode</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">PathToUTF8</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">relative</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">AbsolutePath</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">PacketPath</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">replace</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">RelativePath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(), </span><span class="color" style="color: #00ffff;">RelativePath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(), '\\', '/');</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">RelativePath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &gt;= 2 &amp;&amp; !(</span><span class="color" style="color: #00ffff;">RelativePath</span><span class="color" style="color: #ffffff;">[0] == '.' &amp;&amp; </span><span class="color" style="color: #00ffff;">RelativePath</span><span class="color" style="color: #ffffff;">[1] == '.'))</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DirectoryEnd</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">RelativePath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">('/');</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DirectoryEnd</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">RelativePath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #00ffff;">npos</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">DirectoryEnd</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">RelativePath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">Reference</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ReferenceString</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"/{"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">Reference</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ReferenceString</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">insert</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Reference</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ReferenceString</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">RelativePath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">RelativePath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">()+</span><span class="color" style="color: #00ffff;">DirectoryEnd</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">Reference</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ReferenceString</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">"}/{Code/"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReferenceType</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">CodeReferenceType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Class</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">Reference</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ReferenceString</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">"Classes"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReferenceType</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">CodeReferenceType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Function</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">Reference</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ReferenceString</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">"Functions"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">Reference</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ReferenceString</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">"}/"</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">VisibleText</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #ff0000;">".mbd"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Reference</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/RegularText.html">RegularText</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">;    </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Text</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">VisibleText</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewElement</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_ColorizeLSP</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/ProcessedColorConfiguration.html">ProcessedColorConfiguration</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ColorConig</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LSPInfo.html">LSPInfo</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">LSPConfig</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unordered_map</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">MBLSP</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LSP_Client</a></span><span class="color" style="color: #ffffff;">&gt;&gt; </span><span class="color" style="color: #00ffff;">InitialziedLSPs</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">       </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LSPReferenceResolver</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReferenceResolver</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Entry</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #ffffff;">m_TotalSources</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">path</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DocumentPath</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Entry</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Document</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Path</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            auto </span><span class="color" style="color: #00ffff;">Lambda</span><span class="color" style="color: #ffffff;"> = [&amp;](</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/CodeBlock.html">CodeBlock</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">BlockToModify</span><span class="color" style="color: #ffffff;">) -&gt; </span><span class="color" style="color: #0000ff;">void</span><br><span class="color" style="color: #ffffff;">                    {</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">HandlesIt</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ColorConig</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">LanguageConfigs</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">BlockToModify</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">CodeType</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DocumentURI</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">HandlesIt</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #00ffff;">ColorConig</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">LanguageConfigs</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">                        {</span><br><span class="color" style="color: #ffffff;">                            </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/LineIndex.html">LineIndex</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">get</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">BlockToModify</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Content</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">LSPColorings</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                            </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ResolveReferences</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">                            </span><span class="color" style="color: #ffffff;">MBLSP</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LSP_Client</a></span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">AssociatedLSP</span><span class="color" style="color: #ffffff;"> = nullptr;</span><br><span class="color" style="color: #ffffff;">                            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">HandlesIt</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">second</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">LSP</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #ff0000;">""</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                            {</span><br><span class="color" style="color: #ffffff;">                                </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">MBLSP</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LSP_Client</a></span><span class="color" style="color: #ffffff;">&gt;&amp; </span><span class="color" style="color: #00ffff;">LSP</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">InitialziedLSPs</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">HandlesIt</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">second</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">LSP</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">                                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LSP</span><span class="color" style="color: #ffffff;"> == nullptr)</span><br><span class="color" style="color: #ffffff;">                                {</span><br><span class="color" style="color: #ffffff;">                                    </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">LSPConfIt</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">LSPConfig</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Servers</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">HandlesIt</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">second</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">LSP</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LSPConfIt</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #00ffff;">LSPConfig</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Servers</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">end</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">                                    {</span><br><span class="color" style="color: #ffffff;">                                        </span><span class="color" style="color: #00ffff;">LSP</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="../Functions/StartLSPServer.html">StartLSPServer</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LSPConfIt</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">second</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                                    }</span><br><span class="color" style="color: #ffffff;">                                }</span><br><span class="color" style="color: #ffffff;">                                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LSP</span><span class="color" style="color: #ffffff;"> != nullptr)</span><br><span class="color" style="color: #ffffff;">                                {</span><br><span class="color" style="color: #ffffff;">                                    </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">BlockToModify</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">CodeType</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ff0000;">"cpp"</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                                    {</span><br><span class="color" style="color: #ffffff;">                                        </span><span class="color" style="color: #00ffff;">DocumentURI</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">MBLSP</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">URLEncodePath</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DocumentPath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">replace_extension</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">".cpp"</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                                        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">PrefixToSearch</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"/Code/Sources/"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                                        </span><span class="color" style="color: #ffffff;">auto</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">MBDocGenPrefixPosition</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">DocumentURI</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">PrefixToSearch</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">                                        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">MBDocGenPrefixPosition</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #00ffff;">DocumentURI</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #00ffff;">npos</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                                        {</span><br><span class="color" style="color: #ffffff;">                                            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewURI</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">DocumentURI</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">substr</span><span class="color" style="color: #ffffff;">(0,</span><span class="color" style="color: #00ffff;">MBDocGenPrefixPosition</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                                            </span><span class="color" style="color: #ffffff;">auto</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">LastSlash</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NewURI</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find_last_of</span><span class="color" style="color: #ffffff;">('/');</span><br><span class="color" style="color: #ffffff;">                                            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LastSlash</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #00ffff;">NewURI</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #00ffff;">npos</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                                            {</span><br><span class="color" style="color: #ffffff;">                                                </span><span class="color" style="color: #00ffff;">NewURI</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NewURI</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">substr</span><span class="color" style="color: #ffffff;">(0,</span><span class="color" style="color: #00ffff;">LastSlash</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                                                </span><span class="color" style="color: #00ffff;">NewURI</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">"/"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                                                </span><span class="color" style="color: #00ffff;">NewURI</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #00ffff;">DocumentURI</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">substr</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">MBDocGenPrefixPosition</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">PrefixToSearch</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">                                                </span><span class="color" style="color: #00ffff;">DocumentURI</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NewURI</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                                            }</span><br><span class="color" style="color: #ffffff;">                                        }</span><br><span class="color" style="color: #ffffff;">                                    }</span><br><span class="color" style="color: #ffffff;">                                    </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">                                    {</span><br><span class="color" style="color: #ffffff;">                                        </span><span class="color" style="color: #00ffff;">DocumentURI</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">MBLSP</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">URLEncodePath</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DocumentPath</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                                    }</span><br><br><span class="color" style="color: #ffffff;">                                    </span><span class="color" style="color: #00ffff;">ReferenceResolver</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">SetLSP</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LSP</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">get</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">                                    </span><span class="color" style="color: #00ffff;">ReferenceResolver</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">SetDocumentURI</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DocumentURI</span><span class="color" style="color: #ffffff;">); </span><br><br><span class="color" style="color: #ffffff;">                                    </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">DidOpenTextDocument_Notification</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">OpenNotification</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                                    </span><span class="color" style="color: #00ffff;">OpenNotification</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">params</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">textDocument</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">text</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">get</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">BlockToModify</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Content</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                                    </span><span class="color" style="color: #00ffff;">OpenNotification</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">params</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">textDocument</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">uri</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">DocumentURI</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                                    </span><span class="color" style="color: #00ffff;">LSP</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">SendNotification</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">OpenNotification</span><span class="color" style="color: #ffffff;">);</span><br><br><br><span class="color" style="color: #ffffff;">                                    </span><span class="color" style="color: #00ffff;">ResolveReferences</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">                                    </span><span class="color" style="color: #00ffff;">LSPColorings</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_GetLSPColoring</a></span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #00ffff;">LSP</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">DocumentURI</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">get</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">BlockToModify</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Content</span><span class="color" style="color: #ffffff;">),</span><span class="color" style="color: #00ffff;">ColorConig</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorInfo</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                                    </span><span class="color" style="color: #00ffff;">AssociatedLSP</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">LSP</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">get</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                                }</span><br><span class="color" style="color: #ffffff;">                            }</span><br><span class="color" style="color: #ffffff;">                            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/Coloring.html">Coloring</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #00ffff;">RegexColorings</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_GetRegexColorings</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">LSPColorings</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">HandlesIt</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">second</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">RegexColoring</span><span class="color" style="color: #ffffff;">,</span><br><span class="color" style="color: #ffffff;">                                    </span><span class="color" style="color: #00ffff;">ColorConig</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorMap</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">get</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">BlockToModify</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Content</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                            </span><span class="color" style="color: #00ffff;">BlockToModify</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Content</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_CombineColorings</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">RegexColorings</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">LSPColorings</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">get</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">BlockToModify</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Content</span><span class="color" style="color: #ffffff;">),</span><br><span class="color" style="color: #ffffff;">                                    </span><span class="color" style="color: #00ffff;">Index</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ffff;">ColorConig</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ColorInfo</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">ResolveReferences</span><span class="color" style="color: #ffffff;"> ? &amp;</span><span class="color" style="color: #00ffff;">ReferenceResolver</span><span class="color" style="color: #ffffff;"> : nullptr);</span><br><span class="color" style="color: #ffffff;">                            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">AssociatedLSP</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                            {</span><br><span class="color" style="color: #ffffff;">                                </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">DidCloseTextDocument_Notification</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CloseNotification</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                                </span><span class="color" style="color: #00ffff;">CloseNotification</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">params</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">textDocument</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">uri</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">DocumentURI</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                                </span><span class="color" style="color: #00ffff;">AssociatedLSP</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">SendNotification</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CloseNotification</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                            }</span><br><span class="color" style="color: #ffffff;">                        }</span><br><br><span class="color" style="color: #ffffff;">                    };</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CodeBlockModifier</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">LambdaVisitor</a></span><span class="color" style="color: #ffffff;">&lt;decltype(</span><span class="color" style="color: #00ffff;">Lambda</span><span class="color" style="color: #ffffff;">)&gt;(&amp;</span><span class="color" style="color: #00ffff;">Lambda</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ff00;"><a class="link" href="../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Traverser</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Traverser</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Traverse</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Entry</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Document</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">CodeBlockModifier</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Server</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">InitialziedLSPs</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Server</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">second</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">QuitServer</span><span class="color" style="color: #ffffff;">(); </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">}</span><br></pre></div></div></body></html>