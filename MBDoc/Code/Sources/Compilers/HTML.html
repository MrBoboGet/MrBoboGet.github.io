<!DOCTYPE html><html><head><style>body{background-color: black; color: #00FF00;}table,th,td{border: 1px solid;}table{border-collapse: collapse;} .color .link{color: inherit !important;}</style></head><body><div style="display: flex"><div style="width: 30%; display: inline-block"><details open=""><summary><a href="../../../../index.html">/</a></summary><ul><li><a href="../../../../index.html" >index.mbd</a></li><li><details><summary><a href="../../../../MBCC/index.html">MBCC</a></summary><ul><li><a href="../../../../MBCC/index.html" >index.mbd</a></li><li><a href="../../../../MBCC/CLI.html" >CLI.mbd</a></li><li><a href="../../../../MBCC/History.html" >History.mbd</a></li></ul></details></li><li><details open=""><summary><a href="../../../index.html">MBDoc</a></summary><ul><li><a href="../../../index.html" >index.mbd</a></li><li><a href="../../../History.html" >History.mbd</a></li><li><a href="../../../BuildPipeline.html" >BuildPipeline.mbd</a></li><li><a href="../../../Building.html" >Building.mbd</a></li><li><a href="../../../Format.html" >Format.mbd</a></li><li><a href="../../../Attributes.html" >Attributes.mbd</a></li><li><a href="../../../LinkResolving.html" >LinkResolving.mbd</a></li><li><a href="../../../CodeIndex.html" >CodeIndex.mbd</a></li><li><a href="../../../CLI.html" >CLI.mbd</a></li><li><a href="../../../LSP.html" >LSP.mbd</a></li><li><details open=""><summary><a href="../../index.html">Code</a></summary><ul><li><details><summary><a href="../../Classes/index.html">Classes</a></summary><ul><li><a href="../../Classes/ArgumentList.html" >ArgumentList.mbd</a></li><li><a href="../../Classes/AttributeList.html" >AttributeList.mbd</a></li><li><a href="../../Classes/BlockElement.html" >BlockElement.mbd</a></li><li><a href="../../Classes/BlockVisitor.html" >BlockVisitor.mbd</a></li><li><a href="../../Classes/CodeBlock.html" >CodeBlock.mbd</a></li><li><a href="../../Classes/ColorConfiguration.html" >ColorConfiguration.mbd</a></li><li><a href="../../Classes/ColorInfo.html" >ColorInfo.mbd</a></li><li><a href="../../Classes/Coloring.html" >Coloring.mbd</a></li><li><a href="../../Classes/CommonCompilationOptions.html" >CommonCompilationOptions.mbd</a></li><li><a href="../../Classes/Directive.html" >Directive.mbd</a></li><li><a href="../../Classes/DirectiveVisitor.html" >DirectiveVisitor.mbd</a></li><li><a href="../../Classes/DocCLI.html" >DocCLI.mbd</a></li><li><a href="../../Classes/DocReference.html" >DocReference.mbd</a></li><li><a href="../../Classes/DocumentBuild.html" >DocumentBuild.mbd</a></li><li><a href="../../Classes/DocumentCompiler.html" >DocumentCompiler.mbd</a></li><li><a href="../../Classes/DocumentDirectoryInfo.html" >DocumentDirectoryInfo.mbd</a></li><li><a href="../../Classes/DocumentFilesystem.html" >DocumentFilesystem.mbd</a></li><li><a href="../../Classes/DocumentFilesystemIterator.html" >DocumentFilesystemIterator.mbd</a></li><li><a href="../../Classes/DocumentParsingContext.html" >DocumentParsingContext.mbd</a></li><li><a href="../../Classes/DocumentPath.html" >DocumentPath.mbd</a></li><li><a href="../../Classes/DocumentPathFileIterator.html" >DocumentPathFileIterator.mbd</a></li><li><a href="../../Classes/DocumentReference.html" >DocumentReference.mbd</a></li><li><a href="../../Classes/DocumentSource.html" >DocumentSource.mbd</a></li><li><a href="../../Classes/DocumentTraverser.html" >DocumentTraverser.mbd</a></li><li><a href="../../Classes/DocumentVisitor.html" >DocumentVisitor.mbd</a></li><li><a href="../../Classes/FileReference.html" >FileReference.mbd</a></li><li><a href="../../Classes/FilesystemDocumentInfo.html" >FilesystemDocumentInfo.mbd</a></li><li><a href="../../Classes/FormatElement.html" >FormatElement.mbd</a></li><li><a href="../../Classes/FormatElementComponent.html" >FormatElementComponent.mbd</a></li><li><a href="../../Classes/FormatVisitor.html" >FormatVisitor.mbd</a></li><li><a href="../../Classes/HTMLCompiler.html" >HTMLCompiler.mbd</a></li><li><a href="../../Classes/HTMLNavigationCreator.html" >HTMLNavigationCreator.mbd</a></li><li><a href="../../Classes/HTMLReferenceSolver.html" >HTMLReferenceSolver.mbd</a></li><li><a href="../../Classes/HTTPTocCreator.html" >HTTPTocCreator.mbd</a></li><li><a href="../../Classes/LSPInfo.html" >LSPInfo.mbd</a></li><li><a href="../../Classes/LSPServer.html" >LSPServer.mbd</a></li><li><a href="../../Classes/LanguageConfig.html" >LanguageConfig.mbd</a></li><li><a href="../../Classes/LineIndex.html" >LineIndex.mbd</a></li><li><a href="../../Classes/LineRetriever.html" >LineRetriever.mbd</a></li><li><a href="../../Classes/MarkdownCompiler.html" >MarkdownCompiler.mbd</a></li><li><a href="../../Classes/MarkdownReferenceSolver.html" >MarkdownReferenceSolver.mbd</a></li><li><a href="../../Classes/MediaInclude.html" >MediaInclude.mbd</a></li><li><a href="../../Classes/Paragraph.html" >Paragraph.mbd</a></li><li><a href="../../Classes/PathSpecifier.html" >PathSpecifier.mbd</a></li><li><a href="../../Classes/PreProcessorBlock.html" >PreProcessorBlock.mbd</a></li><li><a href="../../Classes/ProcessedColorConfiguration.html" >ProcessedColorConfiguration.mbd</a></li><li><a href="../../Classes/ProcessedColorInfo.html" >ProcessedColorInfo.mbd</a></li><li><a href="../../Classes/ProcessedLanguageColorConfig.html" >ProcessedLanguageColorConfig.mbd</a></li><li><a href="../../Classes/ProcessedRegexColoring.html" >ProcessedRegexColoring.mbd</a></li><li><a href="../../Classes/ReferenceResolver.html" >ReferenceResolver.mbd</a></li><li><a href="../../Classes/ReferenceTargetsResolver.html" >ReferenceTargetsResolver.mbd</a></li><li><a href="../../Classes/ReferenceVisitor.html" >ReferenceVisitor.mbd</a></li><li><a href="../../Classes/RegularText.html" >RegularText.mbd</a></li><li><a href="../../Classes/ResolvedCodeText.html" >ResolvedCodeText.mbd</a></li><li><a href="../../Classes/Table.html" >Table.mbd</a></li><li><a href="../../Classes/TextColor.html" >TextColor.mbd</a></li><li><a href="../../Classes/TextElement.html" >TextElement.mbd</a></li><li><a href="../../Classes/TextElement_Base.html" >TextElement_Base.mbd</a></li><li><a href="../../Classes/TextVisitor.html" >TextVisitor.mbd</a></li><li><a href="../../Classes/URLReference.html" >URLReference.mbd</a></li><li><a href="../../Classes/UnresolvedReference.html" >UnresolvedReference.mbd</a></li></ul></details></li><li><details><summary><a href="../../Functions/index.html">Functions</a></summary><ul><li><a href="../../Functions/GetTypeIndex.html" >GetTypeIndex.mbd</a></li><li><a href="../../Functions/ProcessColorConfig.html" >ProcessColorConfig.mbd</a></li><li><a href="../../Functions/StartLSPServer.html" >StartLSPServer.mbd</a></li><li><a href="../../Functions/operator&.html" >operator&.mbd</a></li><li><a href="../../Functions/operator^.html" >operator^.mbd</a></li><li><a href="../../Functions/operator~.html" >operator~.mbd</a></li></ul></details></li><li><details open=""><summary><a href="../index.html">Sources</a></summary><ul><li><a href="../ColorConf.html" >ColorConf.mbd</a></li><li><a href="../LSP.html" >LSP.mbd</a></li><li><a href="../MBDoc.html" >MBDoc.mbd</a></li><li><a href="../MBDocCLI.html" >MBDocCLI.mbd</a></li><li><a href="../MBDocMain.html" >MBDocMain.mbd</a></li><li><details open=""><summary><a href="index.html">Compilers</a></summary><ul><li><mark><a href="" >HTML.mbd</a></mark></li><li><a href="Markdown.html" >Markdown.mbd</a></li></ul></details></li></ul></details></li></ul></details></li><li><details><summary><a href="../../../Compiler/index.html">Compiler</a></summary><ul><li><a href="../../../Compiler/index.html" >index.mbd</a></li></ul></details></li></ul></details></li><li><details><summary><a href="../../../../MBDocGen/index.html">MBDocGen</a></summary><ul><li><details><summary><a href="../../../../MBDocGen/Code/index.html">Code</a></summary><ul><li><details><summary><a href="../../../../MBDocGen/Code/Classes/index.html">Classes</a></summary><ul><li><a href="../../../../MBDocGen/Code/Classes/CppClass.html" >CppClass.mbd</a></li><li><a href="../../../../MBDocGen/Code/Classes/CppClassContent.html" >CppClassContent.mbd</a></li><li><a href="../../../../MBDocGen/Code/Classes/CppDocGenerator.html" >CppDocGenerator.mbd</a></li><li><a href="../../../../MBDocGen/Code/Classes/CppHeaderContent.html" >CppHeaderContent.mbd</a></li><li><a href="../../../../MBDocGen/Code/Classes/DocGenCLI.html" >DocGenCLI.mbd</a></li><li><a href="../../../../MBDocGen/Code/Classes/TestStruct.html" >TestStruct.mbd</a></li></ul></details></li><li><details><summary><a href="../../../../MBDocGen/Code/Functions/index.html">Functions</a></summary><ul><li><a href="../../../../MBDocGen/Code/Functions/EnumDoer.html" >EnumDoer.mbd</a></li><li><a href="../../../../MBDocGen/Code/Functions/TestFunc.html" >TestFunc.mbd</a></li></ul></details></li><li><details><summary><a href="../../../../MBDocGen/Code/Sources/index.html">Sources</a></summary><ul><li><a href="../../../../MBDocGen/Code/Sources/MBDocGenMain.html" >MBDocGenMain.mbd</a></li><li><a href="../../../../MBDocGen/Code/Sources/MBDocGen_CLI.html" >MBDocGen_CLI.mbd</a></li></ul></details></li></ul></details></li></ul></details></li><li><details><summary><a href="../../../../MBPacketManager/index.html">MBPacketManager</a></summary><ul><li><a href="../../../../MBPacketManager/index.html" >index.mbd</a></li><li><a href="../../../../MBPacketManager/CLI.html" >CLI.mbd</a></li><li><a href="../../../../MBPacketManager/DevelopmentStructure.html" >DevelopmentStructure.mbd</a></li><li><a href="../../../../MBPacketManager/Packets.html" >Packets.mbd</a></li><li><a href="../../../../MBPacketManager/PacketsSpecification.html" >PacketsSpecification.mbd</a></li><li><a href="../../../../MBPacketManager/SubPackets.html" >SubPackets.mbd</a></li><li><a href="../../../../MBPacketManager/Extensions.html" >Extensions.mbd</a></li><li><a href="../../../../MBPacketManager/Terminology.html" >Terminology.mbd</a></li><li><a href="../../../../MBPacketManager/History.html" >History.mbd</a></li><li><details><summary><a href="../../../../MBPacketManager/MBBuild/index.html">MBBuild</a></summary><ul><li><a href="../../../../MBPacketManager/MBBuild/index.html" >index.mbd</a></li><li><a href="../../../../MBPacketManager/MBBuild/History.html" >History.mbd</a></li><li><a href="../../../../MBPacketManager/MBBuild/Buildsystem.html" >Buildsystem.mbd</a></li><li><a href="../../../../MBPacketManager/MBBuild/MBCompileConfigurations.html" >MBCompileConfigurations.mbd</a></li><li><a href="../../../../MBPacketManager/MBBuild/MBDependancySpecification.html" >MBDependancySpecification.mbd</a></li><li><a href="../../../../MBPacketManager/MBBuild/MBSourceInfo.html" >MBSourceInfo.mbd</a></li><li><a href="../../../../MBPacketManager/MBBuild/CLI.html" >CLI.mbd</a></li></ul></details></li></ul></details></li><li><details><summary><a href="../../../../MBUtility/index.html">MBUtility</a></summary><ul><li><a href="../../../../MBUtility/index.html" >index.mbd</a></li><li><a href="../../../../MBUtility/IO.html" >IO.mbd</a></li><li><details><summary><a href="../../../../MBUtility/Code/index.html">Code</a></summary><ul><li><details><summary><a href="../../../../MBUtility/Code/Classes/index.html">Classes</a></summary><ul><li><a href="../../../../MBUtility/Code/Classes/FSObjectInfo.html" >FSObjectInfo.mbd</a></li><li><a href="../../../../MBUtility/Code/Classes/Filesystem.html" >Filesystem.mbd</a></li><li><a href="../../../../MBUtility/Code/Classes/LineRetriever.html" >LineRetriever.mbd</a></li><li><a href="../../../../MBUtility/Code/Classes/MBBasicUserAuthenticator.html" >MBBasicUserAuthenticator.mbd</a></li><li><a href="../../../../MBUtility/Code/Classes/MBBufferInputStream.html" >MBBufferInputStream.mbd</a></li><li><a href="../../../../MBUtility/Code/Classes/MBFileInputStream.html" >MBFileInputStream.mbd</a></li><li><a href="../../../../MBUtility/Code/Classes/MBFileOutputStream.html" >MBFileOutputStream.mbd</a></li><li><a href="../../../../MBUtility/Code/Classes/MBOctetInputStream.html" >MBOctetInputStream.mbd</a></li><li><a href="../../../../MBUtility/Code/Classes/MBOctetOutputStream.html" >MBOctetOutputStream.mbd</a></li><li><a href="../../../../MBUtility/Code/Classes/MBSearchableInputStream.html" >MBSearchableInputStream.mbd</a></li><li><a href="../../../../MBUtility/Code/Classes/MBSearchableOutputStream.html" >MBSearchableOutputStream.mbd</a></li><li><a href="../../../../MBUtility/Code/Classes/MBStringOutputStream.html" >MBStringOutputStream.mbd</a></li><li><a href="../../../../MBUtility/Code/Classes/OS_Filesystem.html" >OS_Filesystem.mbd</a></li><li><a href="../../../../MBUtility/Code/Classes/TerminalOutput.html" >TerminalOutput.mbd</a></li></ul></details></li><li><details><summary><a href="../../../../MBUtility/Code/Functions/index.html">Functions</a></summary><ul><li><a href="../../../../MBUtility/Code/Functions/FSErrorToString.html" >FSErrorToString.mbd</a></li><li><a href="../../../../MBUtility/Code/Functions/FSTypeToString.html" >FSTypeToString.mbd</a></li><li><a href="../../../../MBUtility/Code/Functions/ReadWholeFile.html" >ReadWholeFile.mbd</a></li><li><a href="../../../../MBUtility/Code/Functions/StringToFSObjectType.html" >StringToFSObjectType.mbd</a></li><li><a href="../../../../MBUtility/Code/Functions/WriteData.html" >WriteData.mbd</a></li><li><a href="../../../../MBUtility/Code/Functions/operator!.html" >operator!.mbd</a></li></ul></details></li><li><details><summary><a href="../../../../MBUtility/Code/Sources/index.html">Sources</a></summary><ul><li><a href="../../../../MBUtility/Code/Sources/Filesystem.html" >Filesystem.mbd</a></li><li><a href="../../../../MBUtility/Code/Sources/MBCompileDefinitions.html" >MBCompileDefinitions.mbd</a></li><li><a href="../../../../MBUtility/Code/Sources/MBErrorHandling.html" >MBErrorHandling.mbd</a></li><li><a href="../../../../MBUtility/Code/Sources/MBFiles.html" >MBFiles.mbd</a></li><li><a href="../../../../MBUtility/Code/Sources/MBInterfaces.html" >MBInterfaces.mbd</a></li><li><a href="../../../../MBUtility/Code/Sources/MBMatrix.html" >MBMatrix.mbd</a></li><li><a href="../../../../MBUtility/Code/Sources/MBUtilityTest.html" >MBUtilityTest.mbd</a></li></ul></details></li></ul></details></li></ul></details></li></ul></details></div><div style="width: 80ch; display: inline-block; position: absolute; top: 0; left: 0; right: 0; bottom: 0; margin: auto;"><h1 style="text-align: center;">HTML.mbd</h1>
<pre><span class="color" style="color: #a020f0;">#include "HTML.h"</span><br><span class="color" style="color: #a020f0;">#include "../MBDoc.h"</span><br><span class="color" style="color: #a020f0;">#include &lt;MBUtility/MBStrings.h&gt;</span><br><span class="color" style="color: #ffffff;">namespace </span><span class="color" style="color: #ffffff;">MBDoc</span><br><span class="color" style="color: #ffffff;">{</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_EscapeHTMLText</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">TextToEscape</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">TextToEscape</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">ReplaceAll</a></span><span class="color" style="color: #ffffff;">(&amp;</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ff0000;">"&amp;"</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ff0000;">"&amp;amp;"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">ReplaceAll</a></span><span class="color" style="color: #ffffff;">(&amp;</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ff0000;">"&lt;"</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ff0000;">"&amp;lt;"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">ReplaceAll</a></span><span class="color" style="color: #ffffff;">(&amp;</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ff0000;">"&gt;"</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ff0000;">"&amp;gt;"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLReferenceSolver.html">HTMLReferenceSolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">SetCurrentPath</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentPath</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_CurrentPath</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentPath</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_PartIdentifierToHTMLID</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">vector</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt; </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">PartIdentifier</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"#"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FirstPart</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Part</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">PartIdentifier</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FirstPart</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #00ffff;">Part</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">FirstPart</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">"_"</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">Part</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLReferenceSolver.html">HTMLReferenceSolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetDocumentPathURL</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">PathToConvert</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">GetRelativePath</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">PathToConvert</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ffffff;">m_CurrentPath</span><span class="color" style="color: #ffffff;">).</span><span class="color" style="color: #ffff00;">GetString</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">ReplaceAll</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ff0000;">".mbd"</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #ff0000;">".html"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">PathToConvert</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetPartIdentifier</span><span class="color" style="color: #ffffff;">().</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() != 0)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_PartIdentifierToHTMLID</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">PathToConvert</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetPartIdentifier</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLReferenceSolver.html">HTMLReferenceSolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/URLReference.html">URLReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Ref</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_VisitResultProperties</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #00ffff;">Ref</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">URL</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_VisitResultText</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_VisitResultProperties</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLReferenceSolver.html">HTMLReferenceSolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/FileReference.html">FileReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Ref</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">       </span><span class="color" style="color: #ffffff;">m_VisitResultProperties</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">GetDocumentPathURL</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Ref</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Path</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">       </span><span class="color" style="color: #ffffff;">m_VisitResultText</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_VisitResultProperties</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLReferenceSolver.html">HTMLReferenceSolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/UnresolvedReference.html">UnresolvedReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Ref</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_VisitResultProperties</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"#\"</span><span class="color" style="color: #ffffff;">";</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">m_Colorize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_VisitResultProperties</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">" style=\"</span><span class="color" style="color: #ffffff;">color: red;";</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_VisitResultProperties</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">" style=\"</span><span class="color" style="color: #ffffff;">color: inherit;";</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">       </span><span class="color" style="color: #ffffff;">m_VisitResultText</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Ref</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">ReferenceString</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLReferenceSolver.html">HTMLReferenceSolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">GetReferenceString</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/DocReference.html">DocReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ReferenceIdentifier</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #0000ff;">bool</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Colorize</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_Colorize</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Colorize</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"&lt;a class=\"</span><span class="color" style="color: #ffffff;">link\</span><span class="color" style="color: #ff0000;">" href=\"</span><span class="color" style="color: #ffffff;">";</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReferenceIdentifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ffffff;">m_VisitResultProperties</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">"\"</span><span class="color" style="color: #ffffff;">&gt;";</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReferenceIdentifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">VisibleText</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #ff0000;">""</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_EscapeHTMLText</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReferenceIdentifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">VisibleText</span><span class="color" style="color: #ffffff;">);    </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_EscapeHTMLText</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_VisitResultText</span><span class="color" style="color: #ffffff;">);    </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">"&lt;/a&gt;"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLReferenceSolver.html">HTMLReferenceSolver</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Initialize</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">Build</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_AssociatedBuild</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Build</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">    }</span><br><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLNavigationCreator.html">HTMLNavigationCreator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">Directory</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLNavigationCreator.html">HTMLNavigationCreator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_CreateDirectory</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/DocumentFilesystemIterator.html">DocumentFilesystemIterator</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">FileIterator</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">Directory</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;       </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentDepth</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">FileIterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">CurrentDepth</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #00ffff;">FileIterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">HasEnded</span><span class="color" style="color: #ffffff;">() &amp;&amp; </span><span class="color" style="color: #00ffff;">FileIterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">EntryIsDirectory</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">FileIterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetEntryName</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Path</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">FileIterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetCurrentPath</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">FileIterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Increment</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">while</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #00ffff;">FileIterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">HasEnded</span><span class="color" style="color: #ffffff;">() &amp;&amp; (</span><span class="color" style="color: #00ffff;">CurrentDepth</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">FileIterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">CurrentDepth</span><span class="color" style="color: #ffffff;">() || </span><span class="color" style="color: #00ffff;">CurrentDepth</span><span class="color" style="color: #ffffff;"> == 0))</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #00ffff;">FileIterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">EntryIsDirectory</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/DocumentSource.html">DocumentSource</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">CurrentSource</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">FileIterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetDocumentInfo</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">File</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewFile</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">NewFile</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">CurrentSource</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">NewFile</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Path</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">FileIterator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetCurrentPath</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Files</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewFile</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">                ++</span><span class="color" style="color: #00ffff;">FileIterator</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">SubDirectories</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_CreateDirectory</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FileIterator</span><span class="color" style="color: #ffffff;">));  </span><br><span class="color" style="color: #ffffff;">            } </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLNavigationCreator.html">HTMLNavigationCreator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLNavigationCreator.html">HTMLNavigationCreator</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">FilesystemToInspect</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">FilesystemToInspect</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">begin</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_TopDirectory</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">p_CreateDirectory</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Iterator</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_TopDirectory</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Open</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLNavigationCreator.html">HTMLNavigationCreator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_ToggleOpen</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">PathToToggle</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">Directory</a></span><span class="color" style="color: #ffffff;">* </span><span class="color" style="color: #00ffff;">CurrentDir</span><span class="color" style="color: #ffffff;"> = &amp;</span><span class="color" style="color: #ffffff;">m_TopDirectory</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> = 0; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">PathToToggle</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">ComponentCount</span><span class="color" style="color: #ffffff;">();</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">++)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentComponent</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">PathToToggle</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentComponent</span><span class="color" style="color: #ffffff;">  == </span><span class="color" style="color: #ff0000;">"/"</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">continue</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Dir</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">CurrentDir</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">SubDirectories</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Dir</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">CurrentComponent</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">CurrentDir</span><span class="color" style="color: #ffffff;"> = &amp;</span><span class="color" style="color: #00ffff;">Dir</span><span class="color" style="color: #ffffff;">;    </span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">CurrentDir</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">Open</span><span class="color" style="color: #ffffff;"> = !</span><span class="color" style="color: #00ffff;">CurrentDir</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffffff;">Open</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #8b008b;">break</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLNavigationCreator.html">HTMLNavigationCreator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">SetCurrentPath</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CurrentPath</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_CurrentPath</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">move</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">CurrentPath</span><span class="color" style="color: #ffffff;">);        </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLNavigationCreator.html">HTMLNavigationCreator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">SetOpen</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">NewPath</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffff00;">p_ToggleOpen</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_PreviousOpen</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffff00;">p_ToggleOpen</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">NewPath</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_PreviousOpen</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">NewPath</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLNavigationCreator.html">HTMLNavigationCreator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_WriteDirectory</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../../../../MBUtility/Code/Classes/MBOctetOutputStream.html">MBOctetOutputStream</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLReferenceSolver.html">HTMLReferenceSolver</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ReferenceSolver</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">Directory</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">DirectoryToWrite</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ElementHeader</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"&lt;details"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DirectoryToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Open</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ElementHeader</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">" open=\"</span><span class="color" style="color: #ffffff;">\</span><span class="color" style="color: #ff0000;">""</span><span class="color" style="color: #ffffff;">;   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ElementHeader</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">"&gt;"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ElementHeader</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">ElementHeader</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">HrefURL</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ReferenceSolver</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetDocumentPathURL</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DirectoryToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Path</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">HrefURL</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ff0000;">""</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">HrefURL</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"index.html"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">HrefURL</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">"/index.html"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">SummaryString</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"&lt;summary&gt;&lt;a href=\"</span><span class="color" style="color: #ffffff;">"+ </span><span class="color" style="color: #00ffff;">HrefURL</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #ff0000;">"\"</span><span class="color" style="color: #ffffff;">&gt;"+</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">DirectoryToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #ff0000;">"&lt;/a&gt;&lt;/summary&gt;"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">SummaryString</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(), </span><span class="color" style="color: #00ffff;">SummaryString</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"&lt;ul&gt;"</span><span class="color" style="color: #ffffff;">, 4);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">File</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">FileToWrite</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">DirectoryToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Files</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"&lt;li&gt;"</span><span class="color" style="color: #ffffff;">, 4);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffff00;">p_WriteFile</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">ReferenceSolver</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">FileToWrite</span><span class="color" style="color: #ffffff;">);   </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"&lt;/li&gt;"</span><span class="color" style="color: #ffffff;">, 5);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">Directory</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">DirectoryToWrite</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">DirectoryToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">SubDirectories</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"&lt;li&gt;"</span><span class="color" style="color: #ffffff;">, 4);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffff00;">p_WriteDirectory</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">ReferenceSolver</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">DirectoryToWrite</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"&lt;/li&gt;"</span><span class="color" style="color: #ffffff;">, 5);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"&lt;/ul&gt;"</span><span class="color" style="color: #ffffff;">, 5);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"&lt;/details&gt;"</span><span class="color" style="color: #ffffff;">,10);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLNavigationCreator.html">HTMLNavigationCreator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_WriteFile</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../../../../MBUtility/Code/Classes/MBOctetOutputStream.html">MBOctetOutputStream</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLReferenceSolver.html">HTMLReferenceSolver</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ReferenceSolver</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">File</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">FileToWrite</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ElementData</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"&lt;a href=\"</span><span class="color" style="color: #ffffff;">"+ </span><span class="color" style="color: #00ffff;">ReferenceSolver</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetDocumentPathURL</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FileToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Path</span><span class="color" style="color: #ffffff;">) +</span><span class="color" style="color: #ff0000;">"\"</span><span class="color" style="color: #ffffff;"> ";</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ElementData</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">"&gt;"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ElementData</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #00ffff;">FileToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ElementData</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">"&lt;/a&gt;"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">FileToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Path</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">m_CurrentPath</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ElementData</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"&lt;mark&gt;"</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">ElementData</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #ff0000;">"&lt;/mark&gt;"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ElementData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">ElementData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLNavigationCreator.html">HTMLNavigationCreator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">__PrintDirectoryStructure</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">Directory</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">DirectoryToPrint</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Depth</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLNavigationCreator.html">HTMLNavigationCreator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">__PrintDirectoryStructure</span><span class="color" style="color: #ffffff;">() </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLNavigationCreator.html">HTMLNavigationCreator</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">WriteTableDiv</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../../../../MBUtility/Code/Classes/MBOctetOutputStream.html">MBOctetOutputStream</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">, </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLReferenceSolver.html">HTMLReferenceSolver</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ReferenceSolver</span><span class="color" style="color: #ffffff;">) </span><span class="color" style="color: #0000ff;">const</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ElementHeader</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"&lt;div style=\"</span><span class="color" style="color: #ffffff;">width: 30%; display: inline-block\</span><span class="color" style="color: #ff0000;">"&gt;"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ElementHeader</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">ElementHeader</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">()); </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffff00;">p_WriteDirectory</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ffff;">ReferenceSolver</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">m_TopDirectory</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"&lt;/div&gt;"</span><span class="color" style="color: #ffffff;">,6);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_GetNumberLabel</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FormatDepth</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;        </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #0000ff;">int</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> = 0; </span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #00ffff;">FormatDepth</span><span class="color" style="color: #ffffff;">;</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">++)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;"> != 0)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> += '.';   </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">to_string</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_FormatCounts</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">i</span><span class="color" style="color: #ffffff;">]);   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">EnterText</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/TextElement_Base.html">TextElement_Base</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ElementToEnter</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">TextModifier</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Modifiers</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">ElementToEnter</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Modifiers</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> ((</span><span class="color" style="color: #00ffff;">Modifiers</span><span class="color" style="color: #ffffff;"> &amp; </span><span class="color" style="color: #ffffff;">TextModifier</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Bold</span><span class="color" style="color: #ffffff;">) != </span><span class="color" style="color: #ffffff;">TextModifier</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Null</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"&lt;b&gt;"</span><span class="color" style="color: #ffffff;">, 3);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> ((</span><span class="color" style="color: #00ffff;">Modifiers</span><span class="color" style="color: #ffffff;"> &amp; </span><span class="color" style="color: #ffffff;">TextModifier</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Italic</span><span class="color" style="color: #ffffff;">) != </span><span class="color" style="color: #ffffff;">TextModifier</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Null</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"&lt;i&gt;"</span><span class="color" style="color: #ffffff;">, 3);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #00ffff;">ElementToEnter</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Color</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">IsDefault</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            *</span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">&lt;&lt;</span><span class="color" style="color: #ff0000;">"&lt;span class=\"</span><span class="color" style="color: #ffffff;">color\</span><span class="color" style="color: #ff0000;">" style=\"</span><span class="color" style="color: #ffffff;">color: </span><span class="color" style="color: #a020f0;">#"&lt;&lt;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">HexEncodeByte</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ElementToEnter</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Color</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">R</span><span class="color" style="color: #ffffff;">)&lt;&lt;</span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">HexEncodeByte</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ElementToEnter</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Color</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">G</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                &lt;&lt;</span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">HexEncodeByte</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ElementToEnter</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Color</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">B</span><span class="color" style="color: #ffffff;">)&lt;&lt;</span><span class="color" style="color: #ff0000;">";\"</span><span class="color" style="color: #ffffff;">&gt;";</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">LeaveText</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/TextElement_Base.html">TextElement_Base</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ElementToLeave</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> ((</span><span class="color" style="color: #00ffff;">ElementToLeave</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Modifiers</span><span class="color" style="color: #ffffff;"> &amp; </span><span class="color" style="color: #ffffff;">TextModifier</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Bold</span><span class="color" style="color: #ffffff;">) != </span><span class="color" style="color: #ffffff;">TextModifier</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Null</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"&lt;/b&gt;"</span><span class="color" style="color: #ffffff;">, 4);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> ((</span><span class="color" style="color: #00ffff;">ElementToLeave</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Modifiers</span><span class="color" style="color: #ffffff;"> &amp; </span><span class="color" style="color: #ffffff;">TextModifier</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Italic</span><span class="color" style="color: #ffffff;">) != </span><span class="color" style="color: #ffffff;">TextModifier</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Null</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"&lt;/i&gt;"</span><span class="color" style="color: #ffffff;">, 4);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(!</span><span class="color" style="color: #00ffff;">ElementToLeave</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Color</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">IsDefault</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            *</span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">&lt;&lt;</span><span class="color" style="color: #ff0000;">"&lt;/span&gt;"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">p_GetUniquePath</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Extension</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">AddDirectory</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"/"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">AddDirectory</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"___Resources"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">AddDirectory</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">to_string</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_ExportedElementsCount</span><span class="color" style="color: #ffffff;">) + </span><span class="color" style="color: #ff0000;">"."</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">Extension</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_ExportedElementsCount</span><span class="color" style="color: #ffffff;"> += 1;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">return</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ReturnValue</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">CompileDocument</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Path</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/DocumentSource.html">DocumentSource</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Document</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_NavigationCreator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">SetOpen</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Path</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_ReferenceSolver</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">SetCurrentPath</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Path</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_NavigationCreator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">SetCurrentPath</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Path</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_SourcePath</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Document</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Path</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">OutFile</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_CommonOptions</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">OutputDirectory</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #ff0000;">"/"</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">Path</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetString</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FirstDot</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">OutFile</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find_last_of</span><span class="color" style="color: #ffffff;">('.');</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">FirstDot</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #00ffff;">OutFile</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #00ffff;">npos</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">OutFile</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">".html"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">OutFile</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">replace</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FirstDot</span><span class="color" style="color: #ffffff;">, 5, </span><span class="color" style="color: #ff0000;">".html"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">path</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">FilePath</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">OutFile</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (!</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">exists</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FilePath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">parent_path</span><span class="color" style="color: #ffffff;">()))</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">create_directories</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FilePath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">parent_path</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">ofstream</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">ofstream</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">OutFile</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (!</span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">is_open</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"File not open"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">unique_ptr</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../../../../MBUtility/Code/Classes/MBOctetOutputStream.html">MBOctetOutputStream</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #0000ff;">new</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">MBUtility</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../../../../MBUtility/Code/Classes/MBFileOutputStream.html">MBFileOutputStream</a></span><span class="color" style="color: #ffffff;">(&amp;</span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TopInfo</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;style&gt;body{background-color: black; color: #00FF00;}table,th,td{border: 1px solid;}table{border-collapse: collapse;} .color .link{color: inherit !important;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TopInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(), </span><span class="color" style="color: #00ffff;">TopInfo</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TopFlex</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"&lt;div style=\"</span><span class="color" style="color: #ffffff;">display: flex\</span><span class="color" style="color: #ff0000;">"&gt;"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TopFlex</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(), </span><span class="color" style="color: #00ffff;">TopFlex</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_NavigationCreator</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">WriteTableDiv</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">m_ReferenceSolver</span><span class="color" style="color: #ffffff;">);</span><br><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">ContentTop</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"&lt;div style=\"</span><span class="color" style="color: #ffffff;">width: 80ch; display: inline-block; position: absolute; top: 0; left: 0; right: 0; bottom: 0; margin: auto;\</span><span class="color" style="color: #ff0000;">"&gt;"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">ContentTop</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">ContentTop</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_FormatDepth</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_FormatCounts</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">resize</span><span class="color" style="color: #ffffff;">(0);</span><br><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/DocumentTraverser.html">DocumentTraverser</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Traverser</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">Traverser</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Traverse</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Document</span><span class="color" style="color: #ffffff;">,*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"&lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;"</span><span class="color" style="color: #ffffff;">, 26);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">OutStream</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">flush</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">    }</span><br><br><br><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">()</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">               </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/CodeBlock.html">CodeBlock</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">BlockToWrite</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_InCodeBlock</span><span class="color" style="color: #ffffff;"> = true;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"&lt;pre&gt;"</span><span class="color" style="color: #ffffff;">, 5);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">holds_alternative</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">BlockToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Content</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">get</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">BlockToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Content</span><span class="color" style="color: #ffffff;">).</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(), </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">get</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">BlockToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Content</span><span class="color" style="color: #ffffff;">).</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">holds_alternative</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/ResolvedCodeText.html">ResolvedCodeText</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">BlockToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Content</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Row</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">get</a></span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/ResolvedCodeText.html">ResolvedCodeText</a></span><span class="color" style="color: #ffffff;">&gt;(</span><span class="color" style="color: #00ffff;">BlockToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Content</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">for</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">auto</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Text</span><span class="color" style="color: #ffffff;"> : </span><span class="color" style="color: #00ffff;">Row</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #ffff00;">EnterText</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Text</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetBase</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #00ffff;">Text</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">                    </span><span class="color" style="color: #ffff00;">LeaveText</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Text</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetBase</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">                }</span><br><span class="color" style="color: #ffffff;">                *</span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">&lt;&lt;</span><span class="color" style="color: #ff0000;">"&lt;br&gt;"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            } </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_InCodeBlock</span><span class="color" style="color: #ffffff;"> = false;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"&lt;/pre&gt;"</span><span class="color" style="color: #ffffff;">, 6);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/MediaInclude.html">MediaInclude</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">MediaToInclude</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">path</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">MediaToIncludePath</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_SourcePath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">parent_path</span><span class="color" style="color: #ffffff;">()/</span><span class="color" style="color: #00ffff;">MediaToInclude</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">MediaPath</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">CanonicalString</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">MBUnicode</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">PathToUTF8</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">canonical</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">MediaToIncludePath</span><span class="color" style="color: #ffffff;">));</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/DocumentPath.html">DocumentPath</a></span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">OutPath</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_MovedResources</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #00ffff;">CanonicalString</span><span class="color" style="color: #ffffff;">];</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Extension</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">size_t</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">DotPosition</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">MediaToInclude</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">MediaPath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">find_last_of</span><span class="color" style="color: #ffffff;">('.');</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">DotPosition</span><span class="color" style="color: #ffffff;"> != </span><span class="color" style="color: #00ffff;">MediaToInclude</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">MediaPath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #00ffff;">npos</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">Extension</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">MediaToInclude</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">MediaPath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">substr</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">DotPosition</span><span class="color" style="color: #ffffff;"> + 1);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">OutPath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Empty</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">OutPath</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;">p_GetUniquePath</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Extension</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (!</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">exists</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">MediaToIncludePath</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Can't find media to include: "</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #00ffff;">MediaToInclude</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">MediaPath</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">copy_options</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">Options</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">copy_options</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">overwrite_existing</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">copy</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">MediaToIncludePath</span><span class="color" style="color: #ffffff;">,</span><span class="color" style="color: #ffffff;">m_CommonOptions</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">OutputDirectory</span><span class="color" style="color: #ffffff;"> +</span><span class="color" style="color: #ff0000;">"/"</span><span class="color" style="color: #ffffff;">+ </span><span class="color" style="color: #00ffff;">OutPath</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetString</span><span class="color" style="color: #ffffff;">().</span><span class="color" style="color: #ffff00;">substr</span><span class="color" style="color: #ffffff;">(1),</span><span class="color" style="color: #00ffff;">Options</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">MBMIME</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">MediaType</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TypeToInclude</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">MBMIME</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">GetMediaTypeFromExtension</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">Extension</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">TypeToInclude</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">MBMIME</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">MediaType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Video</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TotalElementData</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"&lt;video src=\"</span><span class="color" style="color: #ffffff;">" + </span><span class="color" style="color: #ffffff;">m_ReferenceSolver</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetDocumentPathURL</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">OutPath</span><span class="color" style="color: #ffffff;">) + </span><span class="color" style="color: #ff0000;">"\"</span><span class="color" style="color: #ffffff;"> controls style=\</span><span class="color" style="color: #ff0000;">"display: block; margin: auto\"</span><span class="color" style="color: #ffffff;">&gt;&lt;/video&gt;";</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TotalElementData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(), </span><span class="color" style="color: #00ffff;">TotalElementData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">TypeToInclude</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ffffff;">MBMIME</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">MediaType</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">Image</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TotalElementData</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"&lt;img src=\"</span><span class="color" style="color: #ffffff;">" + </span><span class="color" style="color: #ffffff;">m_ReferenceSolver</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetDocumentPathURL</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">OutPath</span><span class="color" style="color: #ffffff;">) + </span><span class="color" style="color: #ff0000;">"\"</span><span class="color" style="color: #ffffff;"> style=\</span><span class="color" style="color: #ff0000;">"display: block; margin: auto\"</span><span class="color" style="color: #ffffff;">&gt;";</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TotalElementData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(), </span><span class="color" style="color: #00ffff;">TotalElementData</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">throw</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">runtime_error</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Can't deduce valid media type from extension \"</span><span class="color" style="color: #ffffff;">" + </span><span class="color" style="color: #00ffff;">Extension</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #ff0000;">"\"</span><span class="color" style="color: #ffffff;">");</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/Paragraph.html">Paragraph</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ParagraphToWrite</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">ParagraphToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Attributes</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">HasAttribute</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"Note"</span><span class="color" style="color: #ffffff;">))</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"&lt;mark&gt;Note: &lt;/mark&gt;"</span><span class="color" style="color: #ffffff;">, 19);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">EnterBlock</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">BlockToEnter</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">BlockToEnter</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">IsType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/Table.html">Table</a></span><span class="color" style="color: #ffffff;">&gt;())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_InTable</span><span class="color" style="color: #ffffff;"> = true;   </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_TableWidth</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">BlockToEnter</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/Table.html">Table</a></span><span class="color" style="color: #ffffff;">&gt;().</span><span class="color" style="color: #ffff00;">ColumnCount</span><span class="color" style="color: #ffffff;">();</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_CurrentColumnCount</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">            *</span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;"> &lt;&lt; </span><span class="color" style="color: #ff0000;">"&lt;table&gt;"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">BlockToEnter</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">IsType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/Paragraph.html">Paragraph</a></span><span class="color" style="color: #ffffff;">&gt;())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_InTable</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_CurrentColumnCount</span><span class="color" style="color: #ffffff;"> == 0)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    *</span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;"> &lt;&lt; </span><span class="color" style="color: #ff0000;">"&lt;tr&gt;"</span><span class="color" style="color: #ffffff;">; </span><br><span class="color" style="color: #ffffff;">                }  </span><br><span class="color" style="color: #ffffff;">                *</span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">&lt;&lt;</span><span class="color" style="color: #ff0000;">"&lt;td&gt;"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">m_CurrentColumnCount</span><span class="color" style="color: #ffffff;">++;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">m_CurrentColumnCount</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_CurrentColumnCount</span><span class="color" style="color: #ffffff;">%</span><span class="color" style="color: #ffffff;">m_TableWidth</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            } </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">LeaveBlock</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/BlockElement.html">BlockElement</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">BlockToLeave</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">BlockToLeave</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">IsType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/Paragraph.html">Paragraph</a></span><span class="color" style="color: #ffffff;">&gt;())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_InTable</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_CurrentColumnCount</span><span class="color" style="color: #ffffff;"> == 0)</span><br><span class="color" style="color: #ffffff;">                {</span><br><span class="color" style="color: #ffffff;">                    *</span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">&lt;&lt;</span><span class="color" style="color: #ff0000;">"&lt;/tr&gt;"</span><span class="color" style="color: #ffffff;">;  </span><br><span class="color" style="color: #ffffff;">                } </span><br><span class="color" style="color: #ffffff;">                *</span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">&lt;&lt;</span><span class="color" style="color: #ff0000;">"&lt;/td&gt;"</span><span class="color" style="color: #ffffff;">;  </span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">else</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ff0000;">"&lt;br&gt;&lt;br&gt;\n\n"</span><span class="color" style="color: #ffffff;">, 10);</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">BlockToLeave</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">IsType</span><span class="color" style="color: #ffffff;">&lt;</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/Table.html">Table</a></span><span class="color" style="color: #ffffff;">&gt;())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_InTable</span><span class="color" style="color: #ffffff;"> = false;   </span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_TableWidth</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_CurrentColumnCount</span><span class="color" style="color: #ffffff;"> = 0;</span><br><span class="color" style="color: #ffffff;">            *</span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;"> &lt;&lt; </span><span class="color" style="color: #ff0000;">"&lt;/table&gt;"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/URLReference.html">URLReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">BlockToVisit</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">StringToWrite</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_ReferenceSolver</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetReferenceString</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">BlockToVisit</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">StringToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(), </span><span class="color" style="color: #00ffff;">StringToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">        </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/FileReference.html">FileReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">BlockToVisit</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">StringToWrite</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_ReferenceSolver</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetReferenceString</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">BlockToVisit</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">StringToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(), </span><span class="color" style="color: #00ffff;">StringToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">           </span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/UnresolvedReference.html">UnresolvedReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">BlockToVisit</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">StringToWrite</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">m_InCodeBlock</span><span class="color" style="color: #ffffff;">) </span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">StringToWrite</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_ReferenceSolver</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetReferenceString</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">BlockToVisit</span><span class="color" style="color: #ffffff;">, false);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">else</span><span class="color" style="color: #ffffff;"> </span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">StringToWrite</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffffff;">m_ReferenceSolver</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">GetReferenceString</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">BlockToVisit</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">StringToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(), </span><span class="color" style="color: #00ffff;">StringToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/DocReference.html">DocReference</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">BlockToVisit</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #00ffff;">BlockToVisit</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Accept</span><span class="color" style="color: #ffffff;">(*</span><span class="color" style="color: #0000ff;">this</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/RegularText.html">RegularText</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">RegularTextElement</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">TextToWrite</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_EscapeHTMLText</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">RegularTextElement</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Text</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">TextToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">TextToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">EnterFormat</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/FormatElement.html">FormatElement</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">FormatToCompile</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_FormatDepth</span><span class="color" style="color: #ffffff;"> += 1;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_FormatCounts</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &lt; </span><span class="color" style="color: #ffffff;">m_FormatDepth</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_FormatCounts</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(0);</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_FormatCounts</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #ffffff;">m_FormatDepth</span><span class="color" style="color: #ffffff;">-1] += 1;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">HeadingTag</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"h"</span><span class="color" style="color: #ffffff;">+</span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">to_string</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_FormatDepth</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_CurrentPartIdentifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">push_back</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FormatToCompile</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">StringToWrite</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"&lt;"</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">HeadingTag</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #ff0000;">" id=\"</span><span class="color" style="color: #ffffff;">" + </span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">h_PartIdentifierToHTMLID</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_CurrentPartIdentifier</span><span class="color" style="color: #ffffff;">).</span><span class="color" style="color: #ffff00;">substr</span><span class="color" style="color: #ffffff;">(1)+</span><span class="color" style="color: #ff0000;">"\"</span><span class="color" style="color: #ffffff;"> ";</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #ffffff;">m_FormatDepth</span><span class="color" style="color: #ffffff;"> == 1)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #00ffff;">StringToWrite</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">"style = \"</span><span class="color" style="color: #ffffff;">text-align: center;\</span><span class="color" style="color: #ff0000;">""</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">StringToWrite</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ff0000;">"&gt;"</span><span class="color" style="color: #ffffff;">;</span><br><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #00ffff;">StringToWrite</span><span class="color" style="color: #ffffff;"> += </span><span class="color" style="color: #ffff00;">p_GetNumberLabel</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_FormatDepth</span><span class="color" style="color: #ffffff;">) +</span><span class="color" style="color: #ff0000;">" "</span><span class="color" style="color: #ffffff;">+ </span><span class="color" style="color: #00ffff;">FormatToCompile</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Name</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #ff0000;">"&lt;/"</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">HeadingTag</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #ff0000;">"&gt;&lt;br&gt;\n"</span><span class="color" style="color: #ffffff;">;</span><br><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">StringToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(),</span><span class="color" style="color: #00ffff;">StringToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">LeaveFormat</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/FormatElement.html">FormatElement</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">ElementToEnter</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_FormatDepth</span><span class="color" style="color: #ffffff;"> + 1 &lt; </span><span class="color" style="color: #ffffff;">m_FormatCounts</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_FormatCounts</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">pop_back</span><span class="color" style="color: #ffffff;">();    </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_FormatDepth</span><span class="color" style="color: #ffffff;"> &lt; </span><span class="color" style="color: #ffffff;">m_FormatCounts</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">())</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_FormatCounts</span><span class="color" style="color: #ffffff;">[</span><span class="color" style="color: #ffffff;">m_FormatDepth</span><span class="color" style="color: #ffffff;">] = 0;   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_CurrentPartIdentifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">() &gt; 0)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #ffffff;">m_CurrentPartIdentifier</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">pop_back</span><span class="color" style="color: #ffffff;">();   </span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_FormatDepth</span><span class="color" style="color: #ffffff;"> -= 1;</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">Visit</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/Directive.html">Directive</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">DirectiveToCompile</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">DirectiveToCompile</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">DirectiveName</span><span class="color" style="color: #ffffff;"> == </span><span class="color" style="color: #ff0000;">"title"</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">        {</span><br><span class="color" style="color: #ffffff;">            </span><span class="color" style="color: #8b008b;">if</span><span class="color" style="color: #ffffff;"> (</span><span class="color" style="color: #00ffff;">DirectiveToCompile</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Arguments</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">PositionalArgumentsCount</span><span class="color" style="color: #ffffff;">() &gt; 0)</span><br><span class="color" style="color: #ffffff;">            {</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #00ff00;"><a class="link" href="#" style="color: inherit;">string</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ffff;">StringToWrite</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #ff0000;">"&lt;h1 style=\"</span><span class="color" style="color: #ffffff;">text-align: center;\</span><span class="color" style="color: #ff0000;">"&gt;"</span><span class="color" style="color: #ffffff;"> + </span><span class="color" style="color: #00ffff;">DirectiveToCompile</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">Arguments</span><span class="color" style="color: #ffffff;">[0] + </span><span class="color" style="color: #ff0000;">"&lt;/h1&gt;\n"</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">                </span><span class="color" style="color: #ffffff;">m_OutStream</span><span class="color" style="color: #ffffff;">-&gt;</span><span class="color" style="color: #ffff00;">Write</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">StringToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">data</span><span class="color" style="color: #ffffff;">(), </span><span class="color" style="color: #00ffff;">StringToWrite</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">size</span><span class="color" style="color: #ffffff;">());</span><br><span class="color" style="color: #ffffff;">            }</span><br><span class="color" style="color: #ffffff;">        }</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">AddOptions</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/CommonCompilationOptions.html">CommonCompilationOptions</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">Options</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_CommonOptions</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ffff;">Options</span><span class="color" style="color: #ffffff;">;</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">std</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffffff;">filesystem</span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;"><a class="link" href="#" style="color: inherit;">create_directories</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #ffffff;">m_CommonOptions</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffffff;">OutputDirectory</span><span class="color" style="color: #ffffff;"> +</span><span class="color" style="color: #ff0000;">"/___Resources"</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><span class="color" style="color: #ffffff;">    </span><span class="color" style="color: #0000ff;">void</span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLCompiler.html">HTMLCompiler</a></span><span class="color" style="color: #ffffff;">::</span><span class="color" style="color: #ffff00;">PeekDocumentFilesystem</span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/DocumentFilesystem.html">DocumentFilesystem</a></span><span class="color" style="color: #ffffff;"> </span><span class="color" style="color: #0000ff;">const</span><span class="color" style="color: #ffffff;">&amp; </span><span class="color" style="color: #00ffff;">FilesystemToCompile</span><span class="color" style="color: #ffffff;">)</span><br><span class="color" style="color: #ffffff;">    {</span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_ReferenceSolver</span><span class="color" style="color: #ffffff;">.</span><span class="color" style="color: #ffff00;">Initialize</span><span class="color" style="color: #ffffff;">(&amp;</span><span class="color" style="color: #00ffff;">FilesystemToCompile</span><span class="color" style="color: #ffffff;">); </span><br><span class="color" style="color: #ffffff;">        </span><span class="color" style="color: #ffffff;">m_NavigationCreator</span><span class="color" style="color: #ffffff;"> = </span><span class="color" style="color: #00ff00;"><a class="link" href="../../Classes/HTMLNavigationCreator.html">HTMLNavigationCreator</a></span><span class="color" style="color: #ffffff;">(</span><span class="color" style="color: #00ffff;">FilesystemToCompile</span><span class="color" style="color: #ffffff;">);</span><br><span class="color" style="color: #ffffff;">    }</span><br><br><br><span class="color" style="color: #ffffff;">}</span><br></pre></div></div></body></html>