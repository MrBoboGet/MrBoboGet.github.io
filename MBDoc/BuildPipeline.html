<!DOCTYPE html><html><head><style>body{background-color: black; color: #00FF00;}table,th,td{border: 1px solid;}table{border-collapse: collapse;} .color .link{color: inherit !important;}</style></head><body><div style="display: flex"><div style="width: 30%; display: inline-block"><details open=""><summary><a href="../index.html">/</a></summary><ul><li><a href="../index.html" >index.mbd</a></li><li><details><summary><a href="../MBCC/index.html">MBCC</a></summary><ul><li><a href="../MBCC/index.html" >index.mbd</a></li><li><a href="../MBCC/CLI.html" >CLI.mbd</a></li><li><a href="../MBCC/History.html" >History.mbd</a></li></ul></details></li><li><details open=""><summary><a href="index.html">MBDoc</a></summary><ul><li><a href="index.html" >index.mbd</a></li><li><a href="History.html" >History.mbd</a></li><li><mark><a href="" >BuildPipeline.mbd</a></mark></li><li><a href="Building.html" >Building.mbd</a></li><li><a href="Format.html" >Format.mbd</a></li><li><a href="Attributes.html" >Attributes.mbd</a></li><li><a href="LinkResolving.html" >LinkResolving.mbd</a></li><li><a href="CodeIndex.html" >CodeIndex.mbd</a></li><li><a href="CLI.html" >CLI.mbd</a></li><li><a href="LSP.html" >LSP.mbd</a></li><li><details><summary><a href="Code/index.html">Code</a></summary><ul><li><details><summary><a href="Code/Classes/index.html">Classes</a></summary><ul><li><a href="Code/Classes/ArgumentList.html" >ArgumentList.mbd</a></li><li><a href="Code/Classes/AttributeList.html" >AttributeList.mbd</a></li><li><a href="Code/Classes/BlockElement.html" >BlockElement.mbd</a></li><li><a href="Code/Classes/BlockVisitor.html" >BlockVisitor.mbd</a></li><li><a href="Code/Classes/CodeBlock.html" >CodeBlock.mbd</a></li><li><a href="Code/Classes/ColorConfiguration.html" >ColorConfiguration.mbd</a></li><li><a href="Code/Classes/ColorInfo.html" >ColorInfo.mbd</a></li><li><a href="Code/Classes/Coloring.html" >Coloring.mbd</a></li><li><a href="Code/Classes/CommonCompilationOptions.html" >CommonCompilationOptions.mbd</a></li><li><a href="Code/Classes/Directive.html" >Directive.mbd</a></li><li><a href="Code/Classes/DirectiveVisitor.html" >DirectiveVisitor.mbd</a></li><li><a href="Code/Classes/DocCLI.html" >DocCLI.mbd</a></li><li><a href="Code/Classes/DocReference.html" >DocReference.mbd</a></li><li><a href="Code/Classes/DocumentBuild.html" >DocumentBuild.mbd</a></li><li><a href="Code/Classes/DocumentCompiler.html" >DocumentCompiler.mbd</a></li><li><a href="Code/Classes/DocumentDirectoryInfo.html" >DocumentDirectoryInfo.mbd</a></li><li><a href="Code/Classes/DocumentFilesystem.html" >DocumentFilesystem.mbd</a></li><li><a href="Code/Classes/DocumentFilesystemIterator.html" >DocumentFilesystemIterator.mbd</a></li><li><a href="Code/Classes/DocumentParsingContext.html" >DocumentParsingContext.mbd</a></li><li><a href="Code/Classes/DocumentPath.html" >DocumentPath.mbd</a></li><li><a href="Code/Classes/DocumentPathFileIterator.html" >DocumentPathFileIterator.mbd</a></li><li><a href="Code/Classes/DocumentReference.html" >DocumentReference.mbd</a></li><li><a href="Code/Classes/DocumentSource.html" >DocumentSource.mbd</a></li><li><a href="Code/Classes/DocumentTraverser.html" >DocumentTraverser.mbd</a></li><li><a href="Code/Classes/DocumentVisitor.html" >DocumentVisitor.mbd</a></li><li><a href="Code/Classes/FileReference.html" >FileReference.mbd</a></li><li><a href="Code/Classes/FilesystemDocumentInfo.html" >FilesystemDocumentInfo.mbd</a></li><li><a href="Code/Classes/FormatElement.html" >FormatElement.mbd</a></li><li><a href="Code/Classes/FormatElementComponent.html" >FormatElementComponent.mbd</a></li><li><a href="Code/Classes/FormatVisitor.html" >FormatVisitor.mbd</a></li><li><a href="Code/Classes/HTMLCompiler.html" >HTMLCompiler.mbd</a></li><li><a href="Code/Classes/HTMLNavigationCreator.html" >HTMLNavigationCreator.mbd</a></li><li><a href="Code/Classes/HTMLReferenceSolver.html" >HTMLReferenceSolver.mbd</a></li><li><a href="Code/Classes/HTTPTocCreator.html" >HTTPTocCreator.mbd</a></li><li><a href="Code/Classes/LSPInfo.html" >LSPInfo.mbd</a></li><li><a href="Code/Classes/LSPServer.html" >LSPServer.mbd</a></li><li><a href="Code/Classes/LanguageConfig.html" >LanguageConfig.mbd</a></li><li><a href="Code/Classes/LineIndex.html" >LineIndex.mbd</a></li><li><a href="Code/Classes/LineRetriever.html" >LineRetriever.mbd</a></li><li><a href="Code/Classes/MarkdownCompiler.html" >MarkdownCompiler.mbd</a></li><li><a href="Code/Classes/MarkdownReferenceSolver.html" >MarkdownReferenceSolver.mbd</a></li><li><a href="Code/Classes/MediaInclude.html" >MediaInclude.mbd</a></li><li><a href="Code/Classes/Paragraph.html" >Paragraph.mbd</a></li><li><a href="Code/Classes/PathSpecifier.html" >PathSpecifier.mbd</a></li><li><a href="Code/Classes/PreProcessorBlock.html" >PreProcessorBlock.mbd</a></li><li><a href="Code/Classes/ProcessedColorConfiguration.html" >ProcessedColorConfiguration.mbd</a></li><li><a href="Code/Classes/ProcessedColorInfo.html" >ProcessedColorInfo.mbd</a></li><li><a href="Code/Classes/ProcessedLanguageColorConfig.html" >ProcessedLanguageColorConfig.mbd</a></li><li><a href="Code/Classes/ProcessedRegexColoring.html" >ProcessedRegexColoring.mbd</a></li><li><a href="Code/Classes/ReferenceResolver.html" >ReferenceResolver.mbd</a></li><li><a href="Code/Classes/ReferenceTargetsResolver.html" >ReferenceTargetsResolver.mbd</a></li><li><a href="Code/Classes/ReferenceVisitor.html" >ReferenceVisitor.mbd</a></li><li><a href="Code/Classes/RegularText.html" >RegularText.mbd</a></li><li><a href="Code/Classes/ResolvedCodeText.html" >ResolvedCodeText.mbd</a></li><li><a href="Code/Classes/Table.html" >Table.mbd</a></li><li><a href="Code/Classes/TextColor.html" >TextColor.mbd</a></li><li><a href="Code/Classes/TextElement.html" >TextElement.mbd</a></li><li><a href="Code/Classes/TextElement_Base.html" >TextElement_Base.mbd</a></li><li><a href="Code/Classes/TextVisitor.html" >TextVisitor.mbd</a></li><li><a href="Code/Classes/URLReference.html" >URLReference.mbd</a></li><li><a href="Code/Classes/UnresolvedReference.html" >UnresolvedReference.mbd</a></li></ul></details></li><li><details><summary><a href="Code/Functions/index.html">Functions</a></summary><ul><li><a href="Code/Functions/GetTypeIndex.html" >GetTypeIndex.mbd</a></li><li><a href="Code/Functions/ProcessColorConfig.html" >ProcessColorConfig.mbd</a></li><li><a href="Code/Functions/StartLSPServer.html" >StartLSPServer.mbd</a></li><li><a href="Code/Functions/operator&.html" >operator&.mbd</a></li><li><a href="Code/Functions/operator^.html" >operator^.mbd</a></li><li><a href="Code/Functions/operator~.html" >operator~.mbd</a></li></ul></details></li><li><details><summary><a href="Code/Sources/index.html">Sources</a></summary><ul><li><a href="Code/Sources/ColorConf.html" >ColorConf.mbd</a></li><li><a href="Code/Sources/LSP.html" >LSP.mbd</a></li><li><a href="Code/Sources/MBDoc.html" >MBDoc.mbd</a></li><li><a href="Code/Sources/MBDocCLI.html" >MBDocCLI.mbd</a></li><li><a href="Code/Sources/MBDocMain.html" >MBDocMain.mbd</a></li><li><details><summary><a href="Code/Sources/Compilers/index.html">Compilers</a></summary><ul><li><a href="Code/Sources/Compilers/HTML.html" >HTML.mbd</a></li><li><a href="Code/Sources/Compilers/Markdown.html" >Markdown.mbd</a></li></ul></details></li></ul></details></li></ul></details></li><li><details><summary><a href="Compiler/index.html">Compiler</a></summary><ul><li><a href="Compiler/index.html" >index.mbd</a></li></ul></details></li></ul></details></li><li><details><summary><a href="../MBDocGen/index.html">MBDocGen</a></summary><ul><li><details><summary><a href="../MBDocGen/Code/index.html">Code</a></summary><ul><li><details><summary><a href="../MBDocGen/Code/Classes/index.html">Classes</a></summary><ul><li><a href="../MBDocGen/Code/Classes/CppClass.html" >CppClass.mbd</a></li><li><a href="../MBDocGen/Code/Classes/CppClassContent.html" >CppClassContent.mbd</a></li><li><a href="../MBDocGen/Code/Classes/CppDocGenerator.html" >CppDocGenerator.mbd</a></li><li><a href="../MBDocGen/Code/Classes/CppHeaderContent.html" >CppHeaderContent.mbd</a></li><li><a href="../MBDocGen/Code/Classes/DocGenCLI.html" >DocGenCLI.mbd</a></li><li><a href="../MBDocGen/Code/Classes/TestStruct.html" >TestStruct.mbd</a></li></ul></details></li><li><details><summary><a href="../MBDocGen/Code/Functions/index.html">Functions</a></summary><ul><li><a href="../MBDocGen/Code/Functions/EnumDoer.html" >EnumDoer.mbd</a></li><li><a href="../MBDocGen/Code/Functions/TestFunc.html" >TestFunc.mbd</a></li></ul></details></li><li><details><summary><a href="../MBDocGen/Code/Sources/index.html">Sources</a></summary><ul><li><a href="../MBDocGen/Code/Sources/MBDocGenMain.html" >MBDocGenMain.mbd</a></li><li><a href="../MBDocGen/Code/Sources/MBDocGen_CLI.html" >MBDocGen_CLI.mbd</a></li></ul></details></li></ul></details></li></ul></details></li><li><details><summary><a href="../MBPacketManager/index.html">MBPacketManager</a></summary><ul><li><a href="../MBPacketManager/index.html" >index.mbd</a></li><li><a href="../MBPacketManager/CLI.html" >CLI.mbd</a></li><li><a href="../MBPacketManager/DevelopmentStructure.html" >DevelopmentStructure.mbd</a></li><li><a href="../MBPacketManager/Packets.html" >Packets.mbd</a></li><li><a href="../MBPacketManager/PacketsSpecification.html" >PacketsSpecification.mbd</a></li><li><a href="../MBPacketManager/SubPackets.html" >SubPackets.mbd</a></li><li><a href="../MBPacketManager/Extensions.html" >Extensions.mbd</a></li><li><a href="../MBPacketManager/Terminology.html" >Terminology.mbd</a></li><li><a href="../MBPacketManager/History.html" >History.mbd</a></li><li><details><summary><a href="../MBPacketManager/MBBuild/index.html">MBBuild</a></summary><ul><li><a href="../MBPacketManager/MBBuild/index.html" >index.mbd</a></li><li><a href="../MBPacketManager/MBBuild/History.html" >History.mbd</a></li><li><a href="../MBPacketManager/MBBuild/Buildsystem.html" >Buildsystem.mbd</a></li><li><a href="../MBPacketManager/MBBuild/MBCompileConfigurations.html" >MBCompileConfigurations.mbd</a></li><li><a href="../MBPacketManager/MBBuild/MBDependancySpecification.html" >MBDependancySpecification.mbd</a></li><li><a href="../MBPacketManager/MBBuild/MBSourceInfo.html" >MBSourceInfo.mbd</a></li><li><a href="../MBPacketManager/MBBuild/CLI.html" >CLI.mbd</a></li></ul></details></li></ul></details></li><li><details><summary><a href="../MBUtility/index.html">MBUtility</a></summary><ul><li><a href="../MBUtility/index.html" >index.mbd</a></li><li><a href="../MBUtility/IO.html" >IO.mbd</a></li><li><details><summary><a href="../MBUtility/Code/index.html">Code</a></summary><ul><li><details><summary><a href="../MBUtility/Code/Classes/index.html">Classes</a></summary><ul><li><a href="../MBUtility/Code/Classes/FSObjectInfo.html" >FSObjectInfo.mbd</a></li><li><a href="../MBUtility/Code/Classes/Filesystem.html" >Filesystem.mbd</a></li><li><a href="../MBUtility/Code/Classes/LineRetriever.html" >LineRetriever.mbd</a></li><li><a href="../MBUtility/Code/Classes/MBBasicUserAuthenticator.html" >MBBasicUserAuthenticator.mbd</a></li><li><a href="../MBUtility/Code/Classes/MBBufferInputStream.html" >MBBufferInputStream.mbd</a></li><li><a href="../MBUtility/Code/Classes/MBFileInputStream.html" >MBFileInputStream.mbd</a></li><li><a href="../MBUtility/Code/Classes/MBFileOutputStream.html" >MBFileOutputStream.mbd</a></li><li><a href="../MBUtility/Code/Classes/MBOctetInputStream.html" >MBOctetInputStream.mbd</a></li><li><a href="../MBUtility/Code/Classes/MBOctetOutputStream.html" >MBOctetOutputStream.mbd</a></li><li><a href="../MBUtility/Code/Classes/MBSearchableInputStream.html" >MBSearchableInputStream.mbd</a></li><li><a href="../MBUtility/Code/Classes/MBSearchableOutputStream.html" >MBSearchableOutputStream.mbd</a></li><li><a href="../MBUtility/Code/Classes/MBStringOutputStream.html" >MBStringOutputStream.mbd</a></li><li><a href="../MBUtility/Code/Classes/OS_Filesystem.html" >OS_Filesystem.mbd</a></li><li><a href="../MBUtility/Code/Classes/TerminalOutput.html" >TerminalOutput.mbd</a></li></ul></details></li><li><details><summary><a href="../MBUtility/Code/Functions/index.html">Functions</a></summary><ul><li><a href="../MBUtility/Code/Functions/FSErrorToString.html" >FSErrorToString.mbd</a></li><li><a href="../MBUtility/Code/Functions/FSTypeToString.html" >FSTypeToString.mbd</a></li><li><a href="../MBUtility/Code/Functions/ReadWholeFile.html" >ReadWholeFile.mbd</a></li><li><a href="../MBUtility/Code/Functions/StringToFSObjectType.html" >StringToFSObjectType.mbd</a></li><li><a href="../MBUtility/Code/Functions/WriteData.html" >WriteData.mbd</a></li><li><a href="../MBUtility/Code/Functions/operator!.html" >operator!.mbd</a></li></ul></details></li><li><details><summary><a href="../MBUtility/Code/Sources/index.html">Sources</a></summary><ul><li><a href="../MBUtility/Code/Sources/Filesystem.html" >Filesystem.mbd</a></li><li><a href="../MBUtility/Code/Sources/MBCompileDefinitions.html" >MBCompileDefinitions.mbd</a></li><li><a href="../MBUtility/Code/Sources/MBErrorHandling.html" >MBErrorHandling.mbd</a></li><li><a href="../MBUtility/Code/Sources/MBFiles.html" >MBFiles.mbd</a></li><li><a href="../MBUtility/Code/Sources/MBInterfaces.html" >MBInterfaces.mbd</a></li><li><a href="../MBUtility/Code/Sources/MBMatrix.html" >MBMatrix.mbd</a></li><li><a href="../MBUtility/Code/Sources/MBUtilityTest.html" >MBUtilityTest.mbd</a></li></ul></details></li></ul></details></li></ul></details></li></ul></details></div><div style="width: 80ch; display: inline-block; position: absolute; top: 0; left: 0; right: 0; bottom: 0; margin: auto;"><h1 style="text-align: center;">The Build Pipeline</h1>
When creating documents from source files so are there a couple of distinct steps that form a pipeline. While these individual steps are not strictly neccessary to understand in order to use the program, so are they neccessary to understand if one wants to configure an individual part of the build process or want to understand how references are resolved. <br><br>

In this document the pipeline for compiling a build is described, and how the individual parts of the process can be customized. While it describes the functionality that the implementation is ment to provide, so doesn't it actually describe the implementantation. An overview of the implementation can be find <a class="link" href="CodeIndex.html">here</a>. <br><br>

<h1 id="The pipeline" style = "text-align: center;">1 The pipeline</h1><br>
<h2 id="The pipeline_Build specification" >1.1 Build specification</h2><br>
The first part of any build, is of course to specify what is a part of the build in the first place. <br><br>

This part isn't intrinsically connected to the <a class="link" href="Building.html">builtin build specification</a>, the builtin specification is however intentionally designed to be as close to the way builds are specified in the CLI as possible. <br><br>

The result of the build specification is always the construction of <a class="link" href="#" style="color: red;">The Document Filesystem</a>. <br><br>

<h3 id="The pipeline_Build specification_The Document Filesystem" >1.1.1 The Document Filesystem</h3><br>
The Document Filesystem is a "filesystem" that resides solely in memory, and represents the complete structure of a build. The purpose of <a class="link" href="Building.html">build files</a> is solely to specify how this filesystem is created. <br><br>

The filesystem follows the semantics of the POSIX filesystem very closely, but in a very simplified form. The filesystem has exactly 2 kind of objects, directories and files. All filesystem objects have a name, and belongs to a directory. The contents of a directory is a combination of other directories and files. The contents of file is the parsed source following the <a class="link" href="Format.html">mbd markup language</a>. <br><br>

Paths are also interpreted the same way as in a posix filesystem. The root of the build is the root directory in a POSIX path, '/', and relative paths are specified in the same way. <br><br>

There are however some extra restrictions to the valid characters that a name can contain here that aren't present in POSIX path. They are as follows: <br><br>

As the document filesystem contains parsed sources, so is the parsing of source files naturally a substep in creating this filesystem, and isn't a distinct part of the pipeline <br><br>

<h2 id="The pipeline_Preprocessing and Parsing" >1.2 Preprocessing and Parsing</h2><br>
Parsing of a source files in turn consist of 2 different disjunct steps, the Preprocessing and then parsing. <br><br>

<h3 id="The pipeline_Preprocessing and Parsing_Preprocessing" >1.2.1 Preprocessing</h3><br>
The preprocessing is completely lexical, and in some sense even more barebones compared to a C/C++ preprocessor as it inserts/replaces text as is, tokens aren't recognized and interpreted. <br><br>

The complete specification of the preprocessor can be found <a class="link" href="#" style="color: red;">here</a>. <br><br>

<h3 id="The pipeline_Preprocessing and Parsing_Parsing" >1.2.2 Parsing</h3><br>
After preprocessing so is the final text then parsed. The semantics and syntax of a valid mbd file is described <a class="link" href="Format.html">here</a>. How these are in turn represented programatically, and in turn for the compiler, can be read about in the <a class="link" href="CodeIndex.html">code index</a>. <br><br>

<h2 id="The pipeline_Compilation" >1.3 Compilation</h2><br>
This is the part where the actual output is generated, and where most of the user specified options apply. <br><br>

In order to compile a program so are there 2 mandatory things that need to be determined, the output format and the output semantic. <br><br>

<h3 id="The pipeline_Compilation_Formats" >1.3.1 Formats</h3><br>
The result of compilation is always a file in some kind of file format. What file format is outputted has to be specified, and is the format option. <br><br>

Example of possible formats are pdf, markdown, html. <br><br>

The only propery a format is guaranteed to provide, is that documents with different semantics are linkable  together, which means that references can correctly refer to other documents of the same output format. <br><br>

<h3 id="The pipeline_Compilation_Semantics" >1.3.2 Semantics</h3><br>
A semantic is in some ways the most important option for deciding how the final output looks. While a format describes in what way it's viewable and what kind of graphical options is supports, so doesn't it specify the look, that's the semantics purpose. <br><br>

The assumption made here, which is further described in the <a class="link" href="History.html">motivation for this project</a>, is that the way a document looks can be determined irrespective of it's contents. The most important part of writing documentation is not meticoulus control of how the output looks, but rather the content, and that the resulting document is uniformly structured and rendered. <br><br>

This is also the main difference between MBDoc and regular markup langauge's, very little control of the structure and the way the format looks is given to the actual markup langauge and moved to the semantic. <br><br>

In software so is a compiler determined by the output format and semantic, which recieves as argument the <a class="link" href="#" style="color: red;">document filesystem</a>, and compiler specific options given on the command line. <br><br>

While the document filesystem might give a very natural output structure for the document so is it compiler defined how the output is generated, only guaranteed that the content of all sources are present and linkable. <br><br>

But consider for example the situation where the output format is a pdf. Outputting one pdf for all the sources might not make very much sense or be especially convenient, and all sourcess might be combined into one document. But for HTML outputting a directory where the files link to each other through relative paths might more convenient. <br><br>

The documentation for the formats supported inately by the application can be found <a class="link" href="#" style="color: red;">here</a>. <br><br>

</div></div></body></html>